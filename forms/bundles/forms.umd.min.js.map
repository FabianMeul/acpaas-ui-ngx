{"version":3,"sources":["null","ng://forms/lib/shared/services/search.service.ts","ng://forms/lib/auto-complete/components/auto-complete/auto-complete.component.ts","ng://forms/lib/mask/directives/mask.directive.ts","ng://forms/lib/mask/directives/index.ts","ng://forms/lib/mask/mask.module.ts","ng://forms/lib/auto-complete/components/index.ts","ng://forms/lib/auto-complete/auto-complete.module.ts","ng://forms/lib/datepicker/datepicker.conf.ts","ng://forms/lib/datepicker/components/datepicker/datepicker.component.ts","ng://forms/lib/datepicker/components/index.ts","ng://forms/lib/datepicker/datepicker.module.ts","ng://forms/lib/field-errors/components/field-error/field-error.component.ts","ng://forms/lib/field-errors/components/field-errors/field-errors.component.ts","ng://forms/lib/field-errors/components/index.ts","ng://forms/lib/field-errors/field-errors.module.ts","ng://forms/lib/range-slider/components/range-slider/range-slider.component.ts","ng://forms/lib/range-slider/components/index.ts","ng://forms/lib/range-slider/range-slider.module.ts","ng://forms/lib/search-filter/components/search-filter/search-filter.component.ts","ng://forms/lib/search-filter/components/index.ts","ng://forms/lib/search-filter/search-filter.module.ts","ng://forms/lib/timepicker/classes/timepicker.validators.ts","ng://forms/lib/timepicker/types/timepicker.types.ts","ng://forms/lib/timepicker/components/timepicker/timepicker.component.ts","ng://forms/lib/timepicker/components/index.ts","ng://forms/lib/timepicker/timepicker.module.ts","ng://forms/lib/upload/upload.conf.ts","ng://forms/lib/upload/classes/uploader.class.ts","ng://forms/lib/upload/components/upload/upload.component.ts","ng://forms/lib/upload/components/upload-input/upload-input.component.ts","ng://forms/lib/upload/components/upload-queue/upload-queue.component.ts","ng://forms/lib/upload/components/upload-zone/upload-zone.component.ts","ng://forms/lib/upload/components/uploaded-list/uploaded-list.component.ts","ng://forms/lib/upload/services/validation-messages.service.ts","ng://forms/lib/upload/components/validation-list/validation-list.component.ts","ng://forms/lib/upload/components/index.ts","ng://forms/lib/upload/services/index.ts","ng://forms/lib/upload/upload.module.ts","ng://forms/lib/wysiwyg/wysiwyg.conf.ts","ng://forms/lib/wysiwyg/components/wysiwyg/wysiwyg.component.ts","ng://forms/lib/wysiwyg/components/index.ts","ng://forms/lib/wysiwyg/wysiwyg.module.ts"],"names":["__values","o","m","Symbol","iterator","i","call","next","length","value","done","__read","n","r","e","ar","push","error","__spread","arguments","concat","item","searchString","String","toLowerCase","indexOf","SearchService","prototype","search","data","options","query","hasOwnProperty","minLength","key","showAllByDefault","tslib_1.__spread","filter","console","JSON","stringify","_this","matchItemWithSearchString","Injectable","AutoCompleteComponent","ref","searchService","this","EventEmitter","_","writeValue","selected","find","label","remote","remoteValue","registerOnChange","fn","updateModel","registerOnTouched","ngOnInit","Array","isArray","results","ngOnChanges","changes","newData","get","isEqual","remoteSearch","localSearch","currentValue","searching","propagateChange","res","select","emit","selectedItem","doSearch","index","openFlyout","onSelect","closeFlyout","onFlyoutClosed","clearInvalid","onKeyArrowDown","scrollList","onKeyArrowUp","onKeyEnter","event","preventDefault","onKeyEscape","onFocus","focused","flyout","open","close","minCharacters","factor","flyoutZone","liItems","element","getElementsByTagName","liHeight","offsetHeight","offset","scrollTop","Component","args","selector","styles","template","providers","provide","NG_VALUE_ACCESSOR","useExisting","forwardRef","multi","ElementRef","Input","Output","ViewChild","FlyoutDirective","FlyoutZoneDirective","ContentChild","TemplateRef","Inputmask","require","MaskDirective","setMask","auiMask","mask","nativeElement","Directive","Directives","NgModule","imports","CommonModule","declarations","exports","Components","FormsModule","FlyoutModule","SelectableListModule","MaskModule","DATEPICKER_ERROR_LABELS","InjectionToken","DATEPICKER_DEFAULT_ERROR_LABELS","ERRORS_INVALID_DATE","ERRORS_INVALID_RANGE","DATEPICKER_DATE_MASK","join","DatepickerComponent","monthLabels","weekdayLabels","errorLabels","calendarService","formBuilder","showMaskOnHover","Subject","formControl","control","valueChanges","pipe","takeUntil","componentDestroyed$","subscribe","format","split","reverse","date","DateHelper","parseDate","selectedDate","onChange","toISOString","ngOnDestroy","complete","dateString","formatDate","setValue","selectDateFromCalendar","result","leadingZero","validate","ctrl","range","Date","getRangeForDate","getDate","changeDetection","ChangeDetectionStrategy","OnPush","NG_VALIDATORS","Inject","CALENDAR_MONTH_LABELS","CALENDAR_WEEKDAY_LABELS","CalendarService","FormBuilder","CALENDAR_DEFAULT_WEEKDAY_LABELS","ɵ1","CALENDAR_DEFAULT_MONTH_LABELS","ɵ2","DatepickerModule","forChild","ngModule","useValue","ReactiveFormsModule","CalendarModule","ɵ0","FieldErrorComponent","FieldErrorsComponent","errorList","errors","errorMessages","Object","keys","map","message","getMessage","type","params","errorDefinition","warn","LabelsModule","RangeSliderComponent","elRef","step","max","Number","steps","startPercentage","startToPercentage","end","endPercentage","endToPercentage","start","isNaN","setStart","min","onMouseDown","handle","active","onMouseUp","round","setEnd","onMouseMove","x","undefined","targetTouches","pageX","rect","getBoundingClientRect","newPercentage","calcPercentage","width","left","updateHandle","percentageToStart","minimalDistanceNotRespected","minimalDistance","percentageToEnd","number","increment","Math","mouseX","offsetLeft","mousePos","HostBinding","HostListener","SearchFilterComponent","FlyoutSize","Small","filterDataFromSearch","debounce","filterData","bind","inputDelay","selectedItems","choices","filteredChoices","loading","filterChoices","clear","toggleSelected","choice","slice","TimePickerValidators","minTime","time","splittedControlValue","controlHours","parseInt","controlMinutes","splittedMinTime","minHours","minMinutes","maxTime","maxHours","maxMinutes","TimepickerComponent","renderer","TimepickerInputSize","Auto","FormControl","shouldUseFallback","supportsNativeTimepicker","minutes","getMinutes","hours","getHours","fallbackForm","group","formData","timeControl","emitEvent","splitted","setDisabledState","isDisabled","disable","enable","createElement","fill","addLeadingZero","Renderer2","UPLOAD_OPTIONS_DEFAULT","allowedMimeTypes","allowedFileTypes","autoUpload","maxFileSize","queueLimit","url","UPLOAD_VALIDATION_MESSAGES","Uploader","setOptions","assign","uploadFiles","files","filesToFormData","Observable","create","observer","xhr","XMLHttpRequest","upload","addEventListener","lengthComputable","percentComplete","loaded","total","progress","onload","response","responseType","send","validateFiles","validFiles","invalidFiles","files_1","tslib_1.__values","files_1_1","file","validateFileType","validateFileSize","validateMimeType","reasons","FormData","Error","files_2","files_2_1","append","getFileExtension","name","ext","toUpperCase","lastIndexOf","size","UploadComponent","uploader","onUploadedFiles","uploadedFiles","selectUploadedFiles","onInvalidFiles","onQueuedFiles","queuedFiles","UploadInputComponent","onUpload","UploadQueueComponent","remove","splice","uploadProgress","floor","UploadZoneComponent","onDragOver","preventAndStop","hasDragOver","onDragLeave","onDrop","fileListToArray","dataTransfer","handleFiles","triggerFile","fileInput","click","updateFiles","uploadingFiles","err","log","list","from","stopPropagation","UploadedListComponent","delete","ValidationMessagesService","initValues","INVALID_FILE_TYPE","INVALID_FILE_SIZE","INVALID_MIME_TYPE","ValidationListComponent","messagesService","formatReasons","reasons_1","reasons_1_1","reason","Services","UploadModule","validationMessages","BrowserModule","ProgressBarModule","ɵ0$1","WYSIWYG_DEFAULT_CONFIG","bodyClass","contentsCss","format_tags","toolbar_Basic","removeButtons","removePlugins","toolbar","uiColor","WysiwygComponent","ckeditorContent","emitContent","setConfig","placeholder","customConfig","ckeditorConfig","basic","availableTags","uiColour","additionalStyling","CKEditorModule"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator.throw(value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}","import { Injectable } from '@angular/core';\n\nimport { SearchOptions } from '../types/search.types';\n\n@Injectable()\nexport class SearchService {\n\tpublic search(data: any[], options: SearchOptions = {}): any[] {\n\t\tconst query = options.hasOwnProperty('query') ? options.query : '';\n\t\tconst minLength = options.hasOwnProperty('minLength') ? options.minLength : 0;\n\t\tconst key = options.hasOwnProperty('key') ? options.key : '';\n\n\t\tif ((!query && options.showAllByDefault) || query.length < minLength) {\n\t\t\treturn [...data];\n\t\t}\n\n\t\treturn [...data].filter(item => {\n\t\t\tif (key && !item.hasOwnProperty(key)) {\n\t\t\t\treturn console.error(`\"${key}\" does not exist in item ${JSON.stringify(item, null, 2)}`);\n\t\t\t}\n\n\t\t\tif (key) {\n\t\t\t\treturn this.matchItemWithSearchString(item[key], query);\n\t\t\t}\n\n\t\t\treturn this.matchItemWithSearchString(item, query);\n\t\t});\n\t}\n\n\tprivate matchItemWithSearchString = (item: any, searchString): boolean => {\n\t\treturn String(item).toLowerCase().indexOf(searchString.toLowerCase()) > -1;\n\t}\n}\n","import {\n\tComponent,\n\tInput,\n\tOutput,\n\tEventEmitter,\n\tOnChanges,\n\tOnInit,\n\tSimpleChanges,\n\tElementRef,\n\tViewChild,\n\tContentChild,\n\tTemplateRef,\n\tforwardRef\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { get, isEqual } from 'lodash-es';\n\nimport { FlyoutDirective, FlyoutZoneDirective } from '@acpaas-ui/ngx-components/flyout';\n\nimport { SearchService } from '../../../shared/services/search.service';\n\n@Component({\n\tselector: 'aui-auto-complete',\n\tstyles: [`.aui-auto-complete,.aui-auto-complete__info{display:block}`],\n\ttemplate: `<div class=\"m-flyout--scrollable m-flyout--full aui-auto-complete\" auiFlyout [toggleClick]=\"false\" (closed)=\"onFlyoutClosed()\">\n\t<input *ngIf=\"!mask\"\n\t\t[id]=\"id\"\n\t\t[placeholder]=\"placeholder\"\n\t\ttype=\"text\"\n\t\tauiFlyoutAction\n\t\t[(ngModel)]=\"query\"\n\t\t(ngModelChange)=\"doSearch()\"\n\t\tauiSelectableActions\n\t\t(keyArrowUp)=\"onKeyArrowUp()\"\n\t\t(keyArrowDown)=\"onKeyArrowDown()\"\n\t\t(keyEnter)=\"onKeyEnter($event)\"\n\t\t(keyEscape)=\"onKeyEscape()\"\n\t\t(focus)=\"onFocus()\"\n\t\tautocomplete=\"off\"\n\t/>\n\t<input *ngIf=\"mask\"\n\t\t[id]=\"id\"\n\t\t[placeholder]=\"placeholder\"\n\t\ttype=\"text\"\n\t\tauiFlyoutAction\n\t\t[(ngModel)]=\"query\"\n\t\t(ngModelChange)=\"doSearch()\"\n\t\tauiSelectableActions\n\t\t(keyArrowUp)=\"onKeyArrowUp()\"\n\t\t(keyArrowDown)=\"onKeyArrowDown()\"\n\t\t(keyEnter)=\"onKeyEnter($event)\"\n\t\t(keyEscape)=\"onKeyEscape()\"\n\t\t(focus)=\"onFocus()\"\n\t\tautocomplete=\"off\"\n\t\t[auiMask]=\"mask\"\n\t/>\n\n\t<div auiFlyoutZone>\n\t\t<span class=\"aui-auto-complete__info u-text-light u-padding-right u-padding-left-xs\" *ngIf=\"focused && loadingText && searching\">\n\t\t\t<span class=\"a-spinner a-spinner--inline a-spinner--sm u-margin-right-xs\"></span>\n\t\t\t{{ loadingText }}\n\t\t</span>\n\t\t<span class=\"aui-auto-complete__info u-text-light u-padding-right u-padding-left\" *ngIf=\"focused && searchIncentiveText && !searching && !query && !results.length\">{{ searchIncentiveText }}</span>\n\t\t<span class=\"aui-auto-complete__info u-text-light u-padding-right u-padding-left\" *ngIf=\"focused && noResultsText && !searching && query && !results.length\">{{ noResultsText }}</span>\n\n\t\t<aui-selectable-list [items]=\"results\" [index]=\"index\" (selected)=\"onSelect($event)\" [label]=\"label\" [search]=\"query\" [itemTemplate]=\"template\" *ngIf=\"results.length > 0 && !(focused && loadingText && searching)\"></aui-selectable-list>\n\t</div>\n</div>\n`,\n\tproviders: [\n\t\t{\n\t\t\tprovide: NG_VALUE_ACCESSOR,\n\t\t\tuseExisting: forwardRef(() => AutoCompleteComponent), // tslint:disable-line\n\t\t\tmulti: true,\n\t\t},\n\t],\n})\nexport class AutoCompleteComponent implements ControlValueAccessor, OnInit, OnChanges {\n\t@Input() id: string;\n\t@Input() placeholder: string;\n\t@Input() results: any[] = []; // The values for the selectable list\n\t@Input() data: any[] = []; // The values to search in when remote search is disabled\n\t@Input() remote = false; // Disable or enamble remote search\n\t@Input() minCharacters = 0;\n\t@Input() mask: string = null;\n\t@Input() clearInvalid = false;\n\t@Input() searchIncentiveText: string;\n\t@Input() loadingText: string;\n\t@Input() noResultsText: string;\n\t@Input() showAllByDefault = false;\n\n\t// specify which label/value props to use\n\t@Input() label: string;\n\t@Input() value: string;\n\n\t// Eventemitter for searchvalue (parent object should update the results with this param)\n\t@Output() search: EventEmitter<string> = new EventEmitter();\n\t@Output() select: EventEmitter<any> = new EventEmitter();\n\n\t@ViewChild(FlyoutDirective) flyout: FlyoutDirective;\n\t@ViewChild(FlyoutZoneDirective) flyoutZone: FlyoutZoneDirective;\n\n\t@ContentChild(TemplateRef) public template: TemplateRef<any>;\n\n\tpublic query = '';\n\tpublic index = -1; // index for active element in selectable list, by default -1 (so it starts in the input field)\n\tpublic selectedItem: any = null; // keep a backup of the selectedItem\n\tpublic searching = false; // track remote search state\n\tpublic focused = false;\n\n\tprivate remoteValue = false;\n\n\tpublic updateModel = (_: any) => { };\n\n\tconstructor(\n\t\tprivate ref: ElementRef,\n\t\tprivate searchService: SearchService\n\t) { }\n\n\t// CONTROL_VALUE_ACCESSOR interface\n\tpublic writeValue(value = '') {\n\t\tif (this.value) {\n\t\t\tconst selected = this.data.find((item: any) => item[this.value] === value);\n\n\t\t\tif (selected) {\n\t\t\t\treturn this.query = selected[this.label];\n\t\t\t}\n\n\t\t\tif (this.remote && !!value) {\n\t\t\t\tthis.remoteValue = true;\n\t\t\t}\n\t\t}\n\n\t\tthis.query = value;\n\t}\n\n\t// CONTROL_VALUE_ACCESSOR interface\n\tpublic registerOnChange(fn) {\n\t\tthis.updateModel = fn;\n\t}\n\n\t// CONTROL_VALUE_ACCESSOR interface\n\tpublic registerOnTouched() {}\n\n\tpublic ngOnInit(): void {\n\t\tif ((Array.isArray(this.data) && this.data.length > 0) && !this.query && this.showAllByDefault) {\n\t\t\tthis.results = [...this.data];\n\t\t}\n\t}\n\n\t// OnChanges interface\n\tpublic ngOnChanges(changes: SimpleChanges): void {\n\t\tif (!changes) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst newData = get(changes, 'data.currentValue', []);\n\t\tif (!isEqual(newData, get(changes, 'data.previousValue', []))) {\n\t\t\tif (this.remote) {\n\t\t\t\tthis.remoteSearch();\n\t\t\t} else {\n\t\t\t\tthis.localSearch();\n\t\t\t}\n\t\t}\n\n\t\tif (changes.results && changes.results.currentValue) {\n\t\t\tthis.searching = false;\n\t\t}\n\t}\n\n\tpublic propagateChange(query: string) {\n\t\tconst item = this.results.find(res => this.label ? res[this.label] === query : res === query);\n\n\t\tthis.query = query;\n\t\tthis.select.emit(item);\n\n\t\tif (!item) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst key = this.value ? this.value : this.label ? this.label : null;\n\t\tthis.updateModel(key ? item[key] || '' : item);\n\t\tthis.selectedItem = item;\n\t}\n\n\t/**\n\t * triggers on input value change\n\t */\n\tpublic doSearch(): void {\n\t\tthis.index = -1; // reset index\n\t\tthis.searching = true;\n\n\t\tif (this.remote) {\n\t\t\tthis.search.emit(this.query); // ask for new remote data\n\t\t} else {\n\t\t\tthis.localSearch();\n\t\t}\n\n\t\tthis.openFlyout(); // open the flyout when there is a change\n\t}\n\n\t/**\n\t * triggers on selectable-list:select -> onClick event in selectable-list\n\t */\n\tpublic onSelect(item: any): void {\n\t\tthis.propagateChange(item !== null ? (this.label ? item[this.label] : item) : '');\n\t\tthis.closeFlyout(); // Close the flyout manually\n\t}\n\n\tpublic onFlyoutClosed(): void {\n\t\t// there is only 1 result, select it\n\t\tif (this.index >= 0 && this.results.length === 1) {\n\t\t\treturn this.onSelect(this.results[0]);\n\t\t}\n\n\t\t// there is no query nor selected item, clear the selected item\n\t\tif (!this.query && this.index < 0) {\n\t\t\treturn this.onSelect(null);\n\t\t}\n\n\t\t// reset the query for an invalid query if clearInvalid is true\n\t\tif (this.clearInvalid && this.query && !this.results.length && this.index < 0) {\n\t\t\tthis.query = this.selectedItem ? this.label ? this.selectedItem[this.label] : this.selectedItem : '';\n\t\t}\n\t}\n\n\tpublic onKeyArrowDown(): void {\n\t\tif (this.index < this.results.length - 1) {\n\t\t\tthis.scrollList(1);\n\t\t}\n\n\t\tthis.openFlyout();\n\t}\n\n\tpublic onKeyArrowUp(): void {\n\t\tif (this.index >= 0) {\n\t\t\tthis.scrollList(-1);\n\t\t}\n\t}\n\n\tpublic onKeyEnter(event: Event): void {\n\t\tevent.preventDefault(); // Do not submit form when selecting an item.\n\n\t\tconst query = this.index >= 0 ? this.query = this.results[this.index][this.label] : this.query;\n\n\t\tthis.propagateChange(query);\n\t\tthis.closeFlyout();\n\t}\n\n\tpublic onKeyEscape(): void {\n\t\tthis.closeFlyout();\n\t}\n\n\tpublic onFocus(): void {\n\t\tthis.focused = true;\n\t\tthis.openFlyout();\n\t}\n\n\tpublic openFlyout(): void {\n\t\tif (this.flyout) {\n\t\t\tthis.flyout.open();\n\t\t}\n\t}\n\n\tpublic closeFlyout(): void {\n\t\tif (this.flyout) {\n\t\t\tthis.flyout.close();\n\t\t}\n\n\t\tthis.focused = false;\n\t}\n\n\tpublic localSearch(): void {\n\t\tthis.results = this.searchService.search(this.data, {\n\t\t\tminLength: this.minCharacters,\n\t\t\tkey: this.label,\n\t\t\tquery: this.query,\n\t\t\tshowAllByDefault: this.showAllByDefault,\n\t\t});\n\n\t\tif (this.results.length === 1 && this.query === this.results[0][this.label]) {\n\t\t\tthis.index = 0;\n\t\t}\n\n\t\tthis.searching = false;\n\t}\n\n\tpublic remoteSearch(): void {\n\t\tif (!this.remoteValue || !this.data) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst selected = this.data.find((item: any) => {\n\t\t\tif (this.value) {\n\t\t\t\treturn item[this.value] === this.query;\n\t\t\t}\n\n\t\t\treturn item === this.query;\n\t\t});\n\n\t\tif (selected) {\n\t\t\tthis.query = this.label ? selected[this.label] : selected;\n\t\t} else {\n\t\t\tthis.query = '';\n\t\t}\n\n\t\tthis.remoteValue = false;\n\t}\n\n\tpublic scrollList(factor: number): void {\n\t\tthis.index += factor;\n\n\t\tif (!this.flyoutZone) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst liItems = this.flyoutZone.element.getElementsByTagName('li');\n\t\tconst liHeight = (liItems[1] ? liItems[1].offsetHeight : liItems[0].offsetHeight);\n\t\tconst zoneHeight = this.flyoutZone.element.offsetHeight;\n\t\tconst offset = (zoneHeight / liHeight) / 2;\n\n\t\tthis.flyoutZone.element.scrollTop = (this.index * liHeight) - (offset * liHeight);\n\t}\n}\n","import { Directive, ElementRef, Input, OnChanges } from '@angular/core';\nconst Inputmask = require('inputmask');\n\n@Directive({\n\tselector: '[auiMask]',\n})\nexport class MaskDirective implements OnChanges {\n\t@Input() public auiMask: string;\n\n\tconstructor(private ref: ElementRef) {}\n\n\tpublic ngOnChanges(): void {\n\t\tthis.setMask(this.auiMask);\n\t}\n\n\tprivate setMask(mask): void {\n\t\tInputmask(mask).mask(this.ref.nativeElement);\n\t}\n}\n","import { MaskDirective } from './mask.directive';\n\nexport const Directives = [\n\tMaskDirective,\n];\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { Directives } from './directives';\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t],\n\tdeclarations: [\n\t\t...Directives,\n\t],\n\texports: [\n\t\t...Directives,\n\t],\n\tproviders: [],\n})\nexport class MaskModule {}\n","import { AutoCompleteComponent } from './auto-complete/auto-complete.component';\n\nexport const Components = [\n\tAutoCompleteComponent,\n];\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { FlyoutModule } from '@acpaas-ui/ngx-components/flyout';\nimport { SelectableListModule } from '@acpaas-ui/ngx-components/selectable-list';\n\nimport { MaskModule } from '../mask/mask.module';\nimport { SearchService } from '../shared/services/search.service';\n\nimport { Components } from './components';\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tFormsModule,\n\t\tFlyoutModule,\n\t\tSelectableListModule,\n\t\tMaskModule,\n\t],\n\tdeclarations: [\n\t\t...Components,\n\t],\n\texports: [\n\t\t...Components,\n\t],\n\tproviders: [\n\t\tSearchService,\n\t],\n})\nexport class AutoCompleteModule {\n}\n","import { InjectionToken } from '@angular/core';\n\nimport { DatepickerErrorLabels } from './types/datepicker.types';\n\nexport const DATEPICKER_ERROR_LABELS = new InjectionToken<DatepickerErrorLabels>('errorLabels');\n\nexport const DATEPICKER_DEFAULT_ERROR_LABELS = {\n\tERRORS_INVALID_DATE: 'INVALID_DATE',\n\tERRORS_INVALID_RANGE: 'INVALID_RANGE',\n};\n\nexport const DATEPICKER_SEPARATOR_CHAR = '/';\nexport const DATEPICKER_DATE_MASK = ['99', '99', '9999'].join(DATEPICKER_SEPARATOR_CHAR);\n","import { Component, Input, Inject, forwardRef, ChangeDetectionStrategy, OnInit, OnDestroy, ViewChild } from '@angular/core';\nimport { Subject } from 'rxjs/Subject';\nimport { takeUntil } from 'rxjs/operators';\nimport {\n\tControlValueAccessor,\n\tFormControl,\n\tNG_VALUE_ACCESSOR,\n\tNG_VALIDATORS,\n\tFormBuilder,\n} from '@angular/forms';\n\nimport { DateHelper, DateRange } from '@acpaas-ui/js-date-utils';\n\nimport { FlyoutDirective } from '@acpaas-ui/ngx-components/flyout';\n\n\nimport {\n\tCALENDAR_MONTH_LABELS,\n\tCALENDAR_DEFAULT_MONTH_LABELS,\n\tCALENDAR_WEEKDAY_LABELS,\n\tCALENDAR_DEFAULT_WEEKDAY_LABELS,\n\tDatepickerResult,\n\tCalendarService,\n} from '@acpaas-ui/ngx-components/calendar';\n\nimport {\n\tDATEPICKER_ERROR_LABELS,\n\tDATEPICKER_DEFAULT_ERROR_LABELS,\n\tDATEPICKER_SEPARATOR_CHAR,\n\tDATEPICKER_DATE_MASK\n} from '../../datepicker.conf';\nimport { DatepickerValidationErrors } from '../../types/datepicker.types';\n\n@Component({\n\tselector: 'aui-datepicker',\n\ttemplate: `<div class=\"aui-datepicker a-input__wrapper\" auiFlyout>\n\t<input\n\t\ttype=\"text\"\n\t\tname=\"{{ name }}\"\n\t\tid=\"{{ id }}\"\n\t\tplaceholder=\"{{ placeholder }}\"\n\t\t[autocomplete]=\"autocomplete\"\n\t\t[formControl]=\"formControl\"\n\t\t[auiMask]=\"dateMask\"\n\t>\n   <span class=\"fa fa-calendar is-clickable\" auiFlyoutAction></span>\n\n\t<div role=\"datepicker\" class=\"m-datepicker m-datepicker--fixed\" auiFlyoutZone>\n\t\t<aui-calendar [selectedDate]=\"selectedDate\" [range]=\"range\" (selectDate)=\"selectDateFromCalendar($event)\"></aui-calendar>\n\t</div>\n</div>\n`,\n\tstyles: [`.aui-datepicker,aui-datepicker{display:block}`],\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tproviders: [{\n\t\tprovide: NG_VALUE_ACCESSOR,\n\t\tuseExisting: forwardRef(() => DatepickerComponent), // tslint:disable-line:no-forward-ref\n\t\tmulti: true,\n\t}, {\n\t\tprovide: NG_VALIDATORS,\n\t\tuseExisting: forwardRef(() => DatepickerComponent), // tslint:disable-line:no-forward-ref\n\t\tmulti: true,\n\t}],\n})\nexport class DatepickerComponent implements OnInit, OnDestroy, ControlValueAccessor {\n\t@ViewChild(FlyoutDirective) flyout: FlyoutDirective;\n\t@Input() id: string;\n\t@Input() name: string;\n\t@Input() placeholder = 'dd/mm/yyyy';\n\t@Input() range: DateRange;\n\t@Input() autocomplete: 'off';\n\n\tpublic dateMask = { mask: DATEPICKER_DATE_MASK, 'showMaskOnHover': false };\n\tpublic formControl: FormControl;\n\tpublic selectedDate: Date;\n\n\tprivate componentDestroyed$: Subject<boolean> = new Subject<boolean>();\n\tprivate onChange: (res: any) => void = () => { };\n\n\tconstructor(\n\t\t@Inject(CALENDAR_MONTH_LABELS) private monthLabels = CALENDAR_DEFAULT_MONTH_LABELS,\n\t\t@Inject(CALENDAR_WEEKDAY_LABELS) private weekdayLabels = CALENDAR_DEFAULT_WEEKDAY_LABELS,\n\t\t@Inject(DATEPICKER_ERROR_LABELS) private errorLabels = DATEPICKER_DEFAULT_ERROR_LABELS,\n\t\tprivate calendarService: CalendarService,\n\t\tprivate formBuilder: FormBuilder\n\t) {}\n\n\tpublic ngOnInit(): void {\n\t\tthis.formControl = this.formBuilder.control('');\n\t\tthis.formControl.valueChanges\n\t\t\t.pipe(\n\t\t\t\ttakeUntil(this.componentDestroyed$)\n\t\t\t)\n\t\t\t.subscribe((value) => {\n\t\t\t\tif (value) {\n\t\t\t\t\tconst format = value.split(DATEPICKER_SEPARATOR_CHAR).reverse().join('-');\n\t\t\t\t\tconst date = DateHelper.parseDate(format);\n\t\t\t\t\tif (date) {\n\t\t\t\t\t\tthis.selectedDate = date;\n\t\t\t\t\t\tthis.onChange(date.toISOString());\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Change value with original value (and not null or '') so we can add an error in the validate function\n\t\t\t\t\t\tthis.onChange(value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tpublic ngOnDestroy(): void {\n\t\tthis.componentDestroyed$.next(true);\n\t\tthis.componentDestroyed$.complete();\n\t}\n\n\tpublic writeValue(value: string): void {\n\t\tconst date = DateHelper.parseDate(value);\n\t\tconst dateString = date ? this.formatDate(date) : '';\n\n\t\tthis.selectedDate = date;\n\t\tthis.formControl.setValue(dateString);\n\t}\n\n\tpublic registerOnChange(onChange: (res: any) => void): void {\n\t\tthis.onChange = onChange;\n\t}\n\n\tpublic registerOnTouched(): void { }\n\n\tpublic selectDateFromCalendar(result: DatepickerResult): void {\n\t\tif (result.complete) {\n\t\t\tthis.formControl.setValue(this.formatDate(result.date));\n\t\t\tthis.flyout.close();\n\t\t}\n\t}\n\n\tpublic formatDate(date: Date): string {\n\t\treturn DateHelper.formatDate(date, 'DD/MM/YYYY', {\n\t\t\tleadingZero: true,\n\t\t\tmonthLabels: this.monthLabels,\n\t\t\tweekdayLabels: this.weekdayLabels,\n\t\t});\n\t}\n\n\tpublic validate(ctrl: FormControl): DatepickerValidationErrors {\n\t\t// no error on empty value (add required validator in app)\n\t\tif (ctrl.value === '' || ctrl.value === null) {\n\t\t\treturn null;\n\t\t}\n\n\t\t// throw format error if no valid date was provided\n\t\tif (!DateHelper.parseDate(ctrl.value)) {\n\t\t\treturn {\n\t\t\t\tformat: this.errorLabels.ERRORS_INVALID_DATE,\n\t\t\t};\n\t\t}\n\n\t\t// no error if valid date an no range provided\n\t\tif (!this.range || !this.range.length) {\n\t\t\treturn null;\n\t\t}\n\n\t\t// throw error when out of range\n\t\tconst date = new Date(ctrl.value);\n\t\tconst range = this.calendarService.getRangeForDate(date, this.range);\n\n\t\treturn range.indexOf(date.getDate()) >= 0 ? {\n\t\t\trange: this.errorLabels.ERRORS_INVALID_RANGE,\n\t\t} : null;\n\t}\n}\n","import { DatepickerComponent } from './datepicker/datepicker.component';\n\nexport const Components = [\n\tDatepickerComponent,\n];\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\n\nimport { FlyoutModule } from '@acpaas-ui/ngx-components/flyout';\nimport {\n\tCalendarModule,\n\tCALENDAR_WEEKDAY_LABELS,\n\tCALENDAR_DEFAULT_WEEKDAY_LABELS,\n\tCALENDAR_MONTH_LABELS,\n\tCALENDAR_DEFAULT_MONTH_LABELS\n} from '@acpaas-ui/ngx-components/calendar';\n\nimport { MaskModule } from '../mask';\n\nimport { Components } from './components';\nimport { DATEPICKER_ERROR_LABELS, DATEPICKER_DEFAULT_ERROR_LABELS } from './datepicker.conf';\nimport { DatepickerErrorLabels } from './types/datepicker.types';\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tFormsModule,\n\t\tReactiveFormsModule,\n\t\tCalendarModule,\n\t\tFlyoutModule,\n\t\tMaskModule,\n\t],\n\tdeclarations: [\n\t\t...Components,\n\t],\n\texports: [\n\t\t...Components,\n\t],\n\tproviders: [\n\t\t{ provide: CALENDAR_WEEKDAY_LABELS, useValue: CALENDAR_DEFAULT_WEEKDAY_LABELS },\n\t\t{ provide: CALENDAR_MONTH_LABELS, useValue: CALENDAR_DEFAULT_MONTH_LABELS },\n\t\t{ provide: DATEPICKER_ERROR_LABELS, useValue: DATEPICKER_DEFAULT_ERROR_LABELS },\n\t],\n})\nexport class DatepickerModule {\n\tstatic forChild(\n\t\tweekdayLabels: string[],\n\t\tmonthLabels: string[],\n\t\terrorLabels: DatepickerErrorLabels\n\t): ModuleWithProviders {\n\t\treturn {\n\t\t\tngModule: DatepickerModule,\n\t\t\tproviders: [\n\t\t\t\t{ provide: CALENDAR_WEEKDAY_LABELS, useValue: weekdayLabels },\n\t\t\t\t{ provide: CALENDAR_MONTH_LABELS, useValue: monthLabels },\n\t\t\t\t{ provide: DATEPICKER_ERROR_LABELS, useValue: errorLabels },\n\t\t\t],\n\t\t};\n\t}\n}\n","import { Component, Input } from '@angular/core';\n\nimport { FieldError } from '../../types/field-errors.types';\n\n@Component({\n\tselector: 'aui-field-error',\n\ttemplate: `<div class=\"u-bg-danger u-text-xlight\">\n    <p class=\"u-margin-xs\">\n        {{ error.message }}\n    </p>\n</div>\n`,\n\tstyles: [`:host{display:flex;flex-flow:column}`],\n})\nexport class FieldErrorComponent {\n\t@Input() public error: FieldError;\n}\n","import { Component, Input, OnChanges, SimpleChanges } from '@angular/core';\n\nimport { FieldErrorDefinition, FieldError } from '../../types/field-errors.types';\n\n@Component({\n\tselector: 'aui-field-errors',\n\ttemplate: `<div class=\"aui-field-errors\" *ngIf=\"errors\">\n    <aui-field-error class=\"aui-field-error\" *ngFor=\"let error of errorMessages\" [error]=\"error\"></aui-field-error>\n</div>`,\n\tstyles: [`:host{display:block}`],\n})\nexport class FieldErrorsComponent implements OnChanges {\n\t@Input() public errors: FieldError[];\n\t@Input() public errorDefinition: FieldErrorDefinition;\n\n\terrorMessages: FieldError[];\n\n\tngOnChanges(changes: SimpleChanges): void {\n\t\tif (changes.errors && !changes.errors.currentValue) {\n\t\t\tthis.errorMessages = [];\n\t\t\treturn;\n\t\t}\n\t\tconst errorList = (changes.errors ? changes.errors.currentValue : this.errors);\n\t\tif (!errorList) {\n\t\t\treturn;\n\t\t}\n\t\tthis.errorMessages = Object.keys(errorList).map((key) => {\n\t\t\treturn {\n\t\t\t\tmessage: this.getMessage(key, errorList[key]),\n\t\t\t};\n\t\t});\n\t}\n\n\tprivate getMessage(type: string, params: any) {\n\t\tif (!this.errorDefinition || !this.errorDefinition.hasOwnProperty(type)) {\n\t\t\t// tslint:disable-next-line:max-line-length\n\t\t\treturn console.warn(`No errordefinition found for validator of type '${type}'. Please provide one through the [errorDefinition] attribute.`);\n\t\t}\n\n\t\treturn this.errorDefinition[type](params);\n\t}\n}\n","import { FieldErrorComponent } from './field-error/field-error.component';\nimport { FieldErrorsComponent } from './field-errors/field-errors.component';\n\nexport const Components = [\n\tFieldErrorComponent,\n\tFieldErrorsComponent,\n];\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { LabelsModule } from '@acpaas-ui/ngx-components/utils';\n\nimport { Components } from './components';\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tLabelsModule,\n\t],\n\tdeclarations: [\n\t\t...Components,\n\t],\n\texports: [\n\t\t...Components,\n\t],\n})\nexport class FieldErrorsModule {\n}\n","import { Component, Input, HostBinding, HostListener, ElementRef, ViewChild, OnInit, forwardRef } from '@angular/core';\nimport { ControlValueAccessor,  NG_VALUE_ACCESSOR } from '@angular/forms';\n\nimport { RangeSliderRange } from '../../types/range-slider.types';\n\n@Component({\n\tselector: 'aui-range-slider',\n\ttemplate: `<div class=\"m-range-slider__inner\">\n    <div class=\"m-range-slider__bar\" [style.left]=\"(endPercentage ? startPercentage + '%' : false)\" [style.width]=\"(endPercentage ? endPercentage - startPercentage +'%' : startPercentage +'%')\"></div>\n    <span (touchstart)=\"onMouseDown('start')\" (mousedown)=\"onMouseDown('start')\" class=\"m-range-slider__handle\" [style.left]=\"startPercentage + '%'\">\n        <div class=\"m-range-slider__tooltip a-tooltip a-tooltip--primary a-tooltip--top\">\n            <p>{{ labelBefore }}{{ start }}{{ labelAfter }}</p>\n        </div>\n    </span>\n\n    <span *ngIf=\"end\" (touchstart)=\"onMouseDown('end')\" (mousedown)=\"onMouseDown('end')\" class=\"m-range-slider__handle\" [style.left]=\"endPercentage + '%'\">\n        <div class=\"m-range-slider__tooltip a-tooltip a-tooltip--primary a-tooltip--top\">\n            <p>{{ labelBefore }}{{ end }}{{ labelAfter }}</p>\n        </div>\n    </span>\n</div>\n\n<div class=\"m-range-slider__steps\">\n    <div class=\"m-range-slider__step\" *ngFor=\"let step of steps; let i = index\"></div>\n</div>\n\n<div class=\"m-range-slider__step-labels\">\n    <div class=\"m-range-slider__step\" *ngFor=\"let step of steps; let i = index\">{{ step }}</div>\n</div>\n`,\n\tstyles: [`:host{display:block;position:relative}.m-range-slider__handle{z-index:10}.m-range-slider__tooltip{white-space:nowrap}.m-range-slider__steps{display:flex;justify-content:space-between;width:100%;position:absolute;top:0;left:0;right:0;padding:.25rem;z-index:8}.m-range-slider__steps .m-range-slider__step{width:16px;height:16px;background-color:#b0b0b0;text-align:center;border-radius:50%;margin:2px}.m-range-slider__step-labels{display:flex;justify-content:space-between;margin-top:1rem;color:#444;font-size:14px}.m-range-slider__step-labels .m-range-slider__step{width:25px}`],\n\tproviders: [\n\t\t{\n\t\t\tprovide: NG_VALUE_ACCESSOR,\n\t\t\tuseExisting: forwardRef(() => RangeSliderComponent), // tslint:disable-line\n\t\t\tmulti: true,\n\t\t},\n\t],\n})\nexport class RangeSliderComponent implements OnInit, ControlValueAccessor {\n\t@HostBinding('class.m-range-slider') core_branding = true;\n\n\t@Input() public min = 0;\n\t@Input() public max = 100;\n\t@Input() public minimalDistance = 1;\n\t@Input() public step = 0;\n\t@Input() public labelBefore = '';\n\t@Input() public labelAfter = '';\n\n\tpublic start = 0;\n\tpublic end: (number | boolean) = false;\n\tpublic steps = [];\n\tpublic startPercentage;\n\tpublic endPercentage;\n\tpublic active = null;\n\n\tconstructor(private elRef: ElementRef) {}\n\n\tpublic propagateChange = (value: number|RangeSliderRange) => {};\n\n\tpublic ngOnInit() {\n\t\tif (this.step > 0) {\n\t\t\tfor (let i = 0; i <= this.max; i += Number(this.step)) {\n\t\t\t\tthis.steps.push(i);\n\t\t\t}\n\t\t}\n\n\t\tthis.startPercentage = this.startToPercentage();\n\n\t\tif (this.end) {\n\t\t\tthis.endPercentage = this.endToPercentage();\n\t\t}\n\t}\n\n\tpublic writeValue(value: any) {\n\t\tif (value && value.start) {\n\t\t\tthis.start = value.start;\n\t\t} else if (!isNaN(value) && value !== '') {\n\t\t\tthis.start = Number(value);\n\t\t} else {\n\t\t\tthis.setStart(Number(this.min));\n\t\t}\n\n\t\tthis.startPercentage = this.startToPercentage();\n\n\t\tif (value && value.end) {\n\t\t\tthis.end = value.end;\n\t\t\tthis.endPercentage = this.endToPercentage();\n\t\t}\n\t}\n\n\tpublic registerOnTouched() {}\n\n\tpublic registerOnChange(fn) {\n\t\tthis.propagateChange = fn;\n\t}\n\n\tpublic onMouseDown(handle) {\n\t\tthis.active = handle;\n\t}\n\n\t@HostListener('touchend', ['$event'])\n\t@HostListener('mouseup', ['$event'])\n\tpublic onMouseUp(event) {\n\t\tif (this.active === 'start') {\n\t\t\tthis.setStart(this.round(this.start, this.step, 0));\n\t\t\tthis.startPercentage = this.startToPercentage();\n\t\t}\n\n\t\tif (this.active === 'end') {\n\t\t\tthis.setEnd(this.round(this.end, this.step, 0));\n\t\t\tthis.endPercentage = this.endToPercentage();\n\t\t}\n\n\t\tthis.active = null;\n\t}\n\n\t@HostListener('touchmove', ['$event'])\n\t@HostListener('mousemove', ['$event'])\n\tpublic onMouseMove(event: MouseEvent | TouchEvent) {\n\t\tif (!this.active) {\n\t\t\treturn;\n\t\t}\n\n\t\tevent.preventDefault(); // Do not select text while sliding\n\n\t\tconst x = (event as MouseEvent).x !== undefined ? (event as MouseEvent).x : (event as TouchEvent).targetTouches[0].pageX;\n\t\tconst rect = this.elRef.nativeElement.getBoundingClientRect();\n\t\tconst newPercentage = this.calcPercentage(x, rect.width, rect.left);\n\t\tthis.updateHandle(newPercentage);\n\t}\n\n\tpublic updateHandle(newPercentage) {\n\t\tif (this.active === 'start') {\n\t\t\tthis.startPercentage = newPercentage;\n\t\t\tthis.setStart(this.percentageToStart());\n\n\t\t\tif (this.minimalDistanceNotRespected()) {\n\t\t\t\tthis.setStart(Number(this.end) - Number(this.minimalDistance));\n\t\t\t\tthis.startPercentage = this.startToPercentage();\n\t\t\t}\n\t\t}\n\n\t\tif (this.active === 'end' && this.endPercentage) {\n\t\t\tthis.endPercentage = newPercentage;\n\t\t\tthis.setEnd(this.percentageToEnd());\n\n\t\t\tif (this.minimalDistanceNotRespected()) {\n\t\t\t\tthis.setEnd(Number(this.start) + Number(this.minimalDistance));\n\t\t\t\tthis.endPercentage = this.endToPercentage();\n\t\t\t}\n\t\t}\n\t}\n\n\t// ---------- HELPERS ---------- //\n\tpublic setStart(value) {\n\t\tthis.start = value;\n\n\t\tif (this.end) {\n\t\t\tthis.propagateChange({\n\t\t\t\tstart: this.start,\n\t\t\t\tend: this.end,\n\t\t\t} as RangeSliderRange);\n\t\t} else {\n\t\t\tthis.propagateChange(this.start);\n\t\t}\n\t}\n\n\tpublic setEnd(value) {\n\t\tthis.end = value;\n\n\t\tthis.propagateChange({\n\t\t\tstart: this.start,\n\t\t\tend: this.end,\n\t\t} as RangeSliderRange);\n\t}\n\n\tpublic round(number, increment, offset) {\n\t\tif (increment > 0) {\n\t\t\treturn Math.round((number - offset) / increment ) * increment + offset;\n\t\t}\n\n\t\treturn number;\n\t}\n\n\tpublic startToPercentage() {\n\t\t\treturn Math.round((this.start - this.min) / (this.max - this.min) * 100);\n\t}\n\n\tpublic percentageToStart() {\n\t\treturn Math.round((this.startPercentage / 100) * (this.max - this.min) + Number(this.min));\n\t}\n\n\tpublic endToPercentage() {\n\t\t\treturn Math.round((Number(this.end) - this.min) / (this.max - this.min) * 100);\n\t}\n\n\tpublic percentageToEnd() {\n\t\treturn Math.round((this.endPercentage / 100) * (this.max - this.min) + Number(this.min));\n\t}\n\n\tpublic minimalDistanceNotRespected() {\n\t\treturn this.minimalDistance >= 0 && this.end && this.start > Number(this.end) - this.minimalDistance;\n\t}\n\n\tpublic calcPercentage(mouseX, width, offsetLeft) {\n\t\tconst mousePos = mouseX - offsetLeft;\n\n\t\tlet newPercentage = Math.round((mousePos / width) * 100);\n\n\t\tif (newPercentage > 100) {\n\t\t\tnewPercentage = 100;\n\t\t}\n\n\t\tif (newPercentage < 0) {\n\t\t\tnewPercentage = 0;\n\t\t}\n\n\t\treturn newPercentage;\n\t}\n}\n","import { RangeSliderComponent } from './range-slider/range-slider.component';\n\nexport const Components = [\n\tRangeSliderComponent,\n];\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { Components } from './components';\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tFormsModule,\n\t],\n\tdeclarations: [\n\t\t...Components,\n\t],\n\texports: [\n\t\t...Components,\n\t],\n})\nexport class RangeSliderModule {\n}\n","import {\n\tComponent,\n\tInput,\n\tOutput,\n\tEventEmitter,\n\tforwardRef,\n\tOnInit,\n\tOnChanges,\n\tSimpleChanges,\n} from '@angular/core';\nimport {\n\tNG_VALUE_ACCESSOR,\n\tControlValueAccessor,\n} from '@angular/forms';\nimport { get, debounce } from 'lodash-es';\n\nimport { FlyoutSize } from '@acpaas-ui/ngx-components/flyout';\n\nimport { SearchFilterChoice } from '../../types/search-filter.types';\n\n@Component({\n\tselector: 'aui-search-filter',\n\ttemplate: `<div class=\"m-search-filter\" auiFlyout [size]=\"flyoutSize\" [align]=\"flyoutAlign\">\n\t<div class=\"m-search-filter__label has-icon-right\" [ngClass]=\"{'m-search-filter__label--active': selectedItems.length > 0}\" auiFlyoutAction>\n\t\t{{ label }}\n\t\t<span *ngIf=\"selectedItems.length\">({{ selectedItems.length }})</span>\n\t\t<span class=\"fa fa-angle-down\"></span>\n\t</div>\n\n\t<div class=\"m-search-filter__search m-search-filter__search--scroll\" auiFlyoutZone>\n\t\t<div class=\"m-search-filter__input a-input has-icon-right\">\n\t\t\t<div class=\"a-input__wrapper\">\n\t\t\t\t<input type=\"text\" name=\"{{ name + '-search' }}\" id=\"{{ id + '-search' }}\" [(ngModel)]=\"query\" (input)=\"filterDataFromSearch()\" [attr.placeholder]=\"placeholder\">\n\t\t\t\t<span class=\"fa fa-search\"></span>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"m-search-filter__clear\" *ngIf=\"selectedItems.length > 0\">\n\t\t\t<button class=\"a-button-outline a-button--small a-button--danger has-icon-left\" (click)=\"clear()\">\n\t\t\t\t<div class=\"fa fa-close\"></div>\n\t\t\t\t{{ labelDeselect }}\n\t\t\t</button>\n\t\t</div>\n\n\t\t<h6 class=\"m-search-filter__results__title\">{{ labelResults }}</h6>\n\t\t<div class=\"u-text-center u-padding a-spinner\" *ngIf=\"loading\"></div>\n\t\t<ul class=\"a-list a-list--lined a-list--unstyled\" *ngIf=\"!loading\">\n\t\t\t<li class=\"m-search-filter__results__item a-list__item\" *ngIf=\"!filteredChoices.length\">\n\t\t\t\t<p class=\"u-padding-xs\">{{ labelNoResults }}</p>\n\t\t\t</li>\n\t\t\t<li class=\"m-search-filter__results__item a-list__item\" *ngFor=\"let choice of filteredChoices; index as i\">\n\t\t\t\t <div class=\"a-input__checkbox\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tid=\"{{ 'checkbox--' + i + '--' + id }}\"\n\t\t\t\t\t\tname=\"{{ 'checkbox--' + i + '--' + id }}\"\n\t\t\t\t\t\t[checked]=\"selectedItems.indexOf(choice.value) >= 0\"\n\t\t\t\t\t\t(change)=\"toggleSelected(choice.value)\"\n\t\t\t\t\t>\n\t\t\t\t\t<label for=\"{{ 'checkbox--' + i + '--' + id }}\">{{ choice.label }}</label>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n</div>\n`,\n\tstyles: [`.m-search-filter__label{background:#fff;padding-left:1.5rem;border:1px solid #b0b0b0;margin:0 .75rem .75rem 0;line-height:3rem;cursor:pointer;display:flex;justify-content:space-between}.m-search-filter__label>span:not(.fa){margin-left:.25rem}.m-search-filter__label>.fa{color:#7d7d7d;font-size:1.25rem;height:3rem;line-height:3rem;pointer-events:none;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:3rem}.m-search-filter__label.m-search-filter__label--active{background-color:#0064b4;border-color:#0064b4;color:#fff}.m-search-filter__label.m-search-filter__label--active>.fa{color:#fff}.m-search-filter__label.m-search-filter__label--error{background-color:#da291c;border-color:#da291c;color:#fff}.m-search-filter__label.m-search-filter__label--error>.fa{color:#fff}.m-search-filter__input{margin-bottom:.75rem;padding:.75rem}.m-search-filter__input .a-input__wrapper{margin-right:0}.m-search-filter__clear{text-align:center;margin:0 .75rem 1.5rem}.m-search-filter__search{max-height:50vh}.m-search-filter__search.m-search-filter__search--scroll{overflow-y:auto}.m-search-filter__results__title{font-size:16px;margin:0 .75rem}.m-search-filter .a-list .m-search-filter__results__item{padding:0}.m-search-filter__results__item{cursor:pointer}.m-search-filter__results__item .a-input__checkbox{display:flex;padding-left:2.25rem}.m-search-filter__results__item .a-input__checkbox input[type=checkbox]:checked+label::after{top:.75rem}.m-search-filter__results__item .a-input__checkbox label{flex:1;padding:.75rem}.m-search-filter__results__item:hover{background-color:#f3f3f3}`],\n\tproviders: [{\n\t\tprovide: NG_VALUE_ACCESSOR,\n\t\tuseExisting: forwardRef(() => SearchFilterComponent), // tslint:disable-line:no-forward-ref\n\t\tmulti: true,\n\t}],\n})\nexport class SearchFilterComponent implements OnInit, OnChanges, ControlValueAccessor {\n\t@Input() public id: string;\n\t@Input() public name: string;\n\t@Input() public flyoutSize = FlyoutSize.Small;\n\t@Input() public flyoutAlign;\n\t@Input() public label = 'Filter';\n\t@Input() public labelDeselect = 'Alles deselecteren';\n\t@Input() public labelResults = 'Resultaten';\n\t@Input() public labelNoResults = 'Geen resultaten gevonden.';\n\t@Input() public choices: SearchFilterChoice[] = [];\n\t@Input() public remote: boolean;\n\t@Input() public placeholder = 'Zoeken';\n\t@Input() public inputDelay = 150;\n\t@Input() public showAllByDefault = false;\n\n\t@Output() public search: EventEmitter<string> = new EventEmitter<string>();\n\n\tpublic query = '';\n\tpublic selectedItems: string[] = [];\n\tpublic filteredChoices: SearchFilterChoice[] = [];\n\tpublic loading = false;\n\n\tpublic filterDataFromSearch: (_any?) => {};\n\n\tconstructor() {\n\t\tthis.filterDataFromSearch = debounce(this.filterData.bind(this), this.inputDelay);\n\t}\n\n\tpublic updateModel: (_) => any = () => {};\n\n\tpublic writeValue(value: string[]): void {\n\t\tthis.selectedItems = Array.isArray(value) ? value : [];\n\t}\n\n\tpublic registerOnChange(onChange: (_) => any): void {\n\t\tthis.updateModel = onChange;\n\t}\n\n\tpublic registerOnTouched(): void {}\n\n\tpublic ngOnInit(): void {\n\t\tif (this.showAllByDefault) {\n\t\t\tthis.filterData();\n\t\t}\n\t}\n\n\tpublic ngOnChanges(changes: SimpleChanges): void {\n\t\tconst choices = get(changes, 'choices.currentValue', null);\n\n\t\tif (!choices) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.remote) {\n\t\t\tthis.filteredChoices = [...choices];\n\t\t\tthis.loading = false;\n\t\t} else {\n\t\t\tthis.filterData();\n\t\t}\n\t}\n\n\tpublic filterData(): void {\n\t\tif (this.remote) {\n\t\t\tthis.loading = true;\n\n\t\t\treturn this.search.emit(this.query);\n\t\t}\n\n\t\tthis.filterChoices();\n\t}\n\n\tpublic clear(): void {\n\t\tthis.selectedItems = [];\n\t\tthis.query = '';\n\n\t\tthis.filterData();\n\t\tthis.updateModel(this.selectedItems);\n\t}\n\n\tpublic toggleSelected(choice: string): void {\n\t\tconst selected = this.selectedItems.indexOf(choice);\n\n\t\tif (selected < 0) {\n\t\t\tthis.selectedItems = this.selectedItems.concat(choice);\n\t\t} else {\n\t\t\tthis.selectedItems = [\n\t\t\t\t...this.selectedItems.slice(0, selected),\n\t\t\t\t...this.selectedItems.slice(selected + 1),\n\t\t\t];\n\t\t}\n\n\t\tthis.updateModel(this.selectedItems);\n\t}\n\n\tprivate filterChoices(): void {\n\t\tthis.filteredChoices = this.choices.filter((choice: SearchFilterChoice) => {\n\t\t\treturn (\n\t\t\t\tthis.selectedItems.indexOf(choice.value) < 0 &&\n\t\t\t\tchoice.label.toLowerCase().indexOf(this.query.toLowerCase()) >= 0\n\t\t\t);\n\t\t});\n\t}\n}\n","import { SearchFilterComponent } from './search-filter/search-filter.component';\n\nexport const Components = [\n\tSearchFilterComponent,\n];\n","import { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\n\nimport { FlyoutModule } from '@acpaas-ui/ngx-components/flyout';\n\nimport { Components } from './components';\n\n@NgModule({\n\timports: [\n\t\tFormsModule,\n\t\tCommonModule,\n\t\tFlyoutModule,\n\t],\n\tdeclarations: [\n\t\t...Components,\n\t],\n\texports: [\n\t\t...Components,\n\t],\n})\nexport class SearchFilterModule {\n}\n","import { ValidatorFn, AbstractControl } from '@angular/forms';\n\nexport class TimePickerValidators {\n\t// time `hh:mm` 24h format\n\tpublic static minTime(time: string): ValidatorFn {\n\t\tconst validator = (control: AbstractControl): { [key: string]: any} => {\n\t\t\tconst splittedControlValue = control.value.split(':');\n\t\t\tconst controlHours = parseInt(splittedControlValue[0], 10);\n\t\t\tconst controlMinutes = parseInt(splittedControlValue[1], 10);\n\t\t\tconst splittedMinTime = time.split(':');\n\t\t\tconst minHours = parseInt(splittedMinTime[0], 10);\n\t\t\tconst minMinutes = parseInt(splittedMinTime[1], 10);\n\n\t\t\t// Don't throw error --> use Validator.required\n\t\t\tif (isNaN(controlHours) || isNaN(controlMinutes) || isNaN(minHours) || isNaN(minMinutes)) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif (minHours < controlHours) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif (minHours === controlHours && minMinutes <= controlMinutes) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn { 'minTime': { value: control.value } };\n\t\t};\n\n\t\treturn validator;\n\t}\n\n\t// time `hh:mm` 24h format\n\tpublic static maxTime(time: string): ValidatorFn {\n\t\tconst validator = (control: AbstractControl): { [key: string]: any} => {\n\t\t\tconst splittedControlValue = control.value.split(':');\n\t\t\tconst controlHours = parseInt(splittedControlValue[0], 10);\n\t\t\tconst controlMinutes = parseInt(splittedControlValue[1], 10);\n\t\t\tconst splittedMinTime = time.split(':');\n\t\t\tconst maxHours = parseInt(splittedMinTime[0], 10);\n\t\t\tconst maxMinutes = parseInt(splittedMinTime[1], 10);\n\n\t\t\t// Don't throw error --> use Validator.required\n\t\t\tif (isNaN(controlHours) || isNaN(controlMinutes) || isNaN(maxHours) || isNaN(maxMinutes)) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif (maxHours > controlHours) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif (maxHours === controlHours && maxMinutes >= controlMinutes) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn { 'maxTime': { value: control.value } };\n\t\t};\n\n\t\treturn validator;\n\t}\n}\n","export enum TimepickerInputSize {\n\tAuto = 'auto',\n\tSmall = 'small',\n\tLarge = 'large',\n}\n","import { Component, Input, OnInit, OnDestroy, ChangeDetectionStrategy, Renderer2, forwardRef } from '@angular/core';\nimport { FormGroup, FormControl, FormBuilder, ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { Subject } from 'rxjs/Subject';\nimport { takeUntil } from 'rxjs/operators/takeUntil';\n\nimport { DateHelper } from '@acpaas-ui/js-date-utils';\n\nimport { TimepickerInputSize } from '../../types/timepicker.types';\n\n@Component({\n\tselector: 'aui-timepicker',\n\ttemplate: `<div class=\"a-input\" [class]=\"'a-input--' + size\" [ngClass]=\"{ 'has-error': hasError }\" *ngIf=\"!shouldUseFallback\">\n    <input type=\"time\" [formControl]=\"timeControl\">\n</div>\n\n<div *ngIf=\"shouldUseFallback\" [formGroup]=\"fallbackForm\">\n    <div class=\"a-input has-icon-right\" [class]=\"'a-input--' + size\" [ngClass]=\"{ 'has-error': hasError }\">\n        <div class=\"a-input__wrapper\">\n            <select formControlName=\"hours\">\n                <option disabled value=\"null\">{{ hoursPlaceholder }}</option>\n                <option *ngFor=\"let hour of hours\" [value]=\"hour\">{{ hour }}</option>\n            </select>\n            <span class=\"fa fa-angle-down\"></span>\n        </div>\n    </div>\n\n    <div class=\"a-input has-icon-right\" [class]=\"'a-input--' + size\" [ngClass]=\"{ 'has-error': hasError }\">\n        <div class=\"a-input__wrapper\">\n            <select formControlName=\"minutes\">\n                <option disabled value=\"null\">{{ minutesPlaceholder }}</option>\n                <option *ngFor=\"let minute of minutes\" [value]=\"minute\">{{ minute }}</option>\n            </select>\n            <span class=\"fa fa-angle-down\"></span>\n        </div>\n    </div>\n</div>\n`,\n\tstyles: [`:host{display:block}:host .a-input{display:inline-block}:host::before{z-index:10}`],\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tproviders: [{\n\t\tprovide: NG_VALUE_ACCESSOR,\n\t\tuseExisting: forwardRef(() => TimepickerComponent), // tslint:disable-line:no-forward-ref\n\t\tmulti: true,\n\t}],\n})\nexport class TimepickerComponent implements OnInit, OnDestroy, ControlValueAccessor {\n\t@Input() public hoursPlaceholder = 'HH';\n\t@Input() public minutesPlaceholder = 'MM';\n\t@Input() public hasError = false;\n\t@Input() public size: TimepickerInputSize = TimepickerInputSize.Auto;\n\n\tpublic shouldUseFallback = false;\n\tpublic minutes: string[] = [];\n\tpublic hours: string[] = [];\n\tpublic updateModel: (value: string) => any;\n\n\tpublic timeControl = new FormControl();\n\tpublic fallbackForm: FormGroup;\n\n\tprivate componentDestroyed$: Subject<boolean> = new Subject<boolean>();\n\n\tconstructor(\n\t\tprivate formBuilder: FormBuilder,\n\t\tprivate renderer: Renderer2\n\t) {}\n\n\tpublic ngOnInit() {\n\t\tthis.shouldUseFallback = this.supportsNativeTimepicker();\n\t\tthis.minutes = this.getMinutes();\n\t\tthis.hours = this.getHours();\n\n\t\tthis.fallbackForm = this.formBuilder.group({\n\t\t\thours: null,\n\t\t\tminutes: null,\n\t\t});\n\n\t\tthis.fallbackForm.valueChanges\n\t\t\t.pipe(takeUntil(this.componentDestroyed$))\n\t\t\t.subscribe((formData) => {\n\t\t\t\tif (formData.hours && formData.minutes) {\n\t\t\t\t\tthis.updateModel(`${formData.hours}:${formData.minutes}`);\n\t\t\t\t} else {\n\t\t\t\t\tthis.updateModel('');\n\t\t\t\t}\n\t\t\t});\n\n\t\tthis.timeControl.valueChanges\n\t\t\t.pipe(takeUntil(this.componentDestroyed$))\n\t\t\t.subscribe((time) => {\n\t\t\t\tthis.updateModel(time);\n\t\t\t});\n\t}\n\n\tpublic ngOnDestroy() {\n\t\tthis.componentDestroyed$.next(true);\n\t\tthis.componentDestroyed$.complete();\n\t}\n\n\tpublic writeValue(value: any): void {\n\t\tthis.timeControl.setValue(value, { emitEvent: false });\n\n\t\tif (value) {\n\t\t\tconst splitted = value.split(':');\n\t\t\tthis.fallbackForm.get('hours').setValue(splitted[0], { emitEvent: false });\n\t\t\tthis.fallbackForm.get('minutes').setValue(splitted[1], { emitEvent: false });\n\t\t}\n\t}\n\n\tpublic registerOnChange(onChange): void {\n\t\tthis.updateModel = onChange;\n\t}\n\n\tpublic registerOnTouched(): void {}\n\n\tpublic setDisabledState(isDisabled: boolean) {\n\t\tif (isDisabled) {\n\t\t\tthis.timeControl.disable({ emitEvent: false });\n\t\t\tthis.fallbackForm.disable({ emitEvent: false });\n\t\t} else {\n\t\t\tthis.timeControl.enable({ emitEvent: false });\n\t\t\tthis.fallbackForm.enable({ emitEvent: false });\n\t\t}\n\t}\n\n\tprivate supportsNativeTimepicker(): boolean {\n\t\tconst element = this.renderer.createElement('input');\n\t\telement.type = 'time';\n\n\t\treturn element.type === 'text';\n\t}\n\n\tprivate getMinutes(): string[] {\n\t\treturn Array(60).fill('').map((value, index) => {\n\t\t\treturn DateHelper.addLeadingZero(index);\n\t\t});\n\t}\n\n\tprivate getHours(): string[] {\n\t\treturn Array(24).fill('').map((value, index) => {\n\t\t\treturn DateHelper.addLeadingZero(index);\n\t\t});\n\t}\n}\n","import { TimepickerComponent } from './timepicker/timepicker.component';\n\nexport const Components = [\n\tTimepickerComponent,\n];\n","import { NgModule } from '@angular/core';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\n\nimport { Components } from './components';\n\n@NgModule({\n\timports: [\n\t\tReactiveFormsModule,\n\t\tCommonModule,\n\t],\n\tdeclarations: [\n\t\t...Components,\n\t],\n\texports: [\n\t\t...Components,\n\t],\n\tproviders: [],\n})\nexport class TimepickerModule {\n}\n","import { InjectionToken } from '@angular/core';\n\nimport { UploadOptions, ValidationMessages } from './types/upload.types';\n\nexport const UPLOAD_OPTIONS_DEFAULT: UploadOptions = {\n\tallowedMimeTypes: [],\n\tallowedFileTypes: [],\n\tautoUpload: false,\n\tmaxFileSize: 0, // 0 is infinite\n\tqueueLimit: 0, // 0 is infinite\n\ttype: 'drop',\n\turl: '',\n};\n\nexport const UPLOAD_VALIDATION_MESSAGES = new InjectionToken<ValidationMessages>('uploadValidationMessages');\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\n\nimport { UPLOAD_OPTIONS_DEFAULT } from '../upload.conf';\nimport { UploadOptions, InvalidFile } from '../types/upload.types';\n\nexport class Uploader {\n\tpublic options: UploadOptions = UPLOAD_OPTIONS_DEFAULT;\n\n\tconstructor(options?: UploadOptions) {\n\t\tthis.setOptions(options);\n\t}\n\n\tpublic setOptions(options) {\n\t\tthis.options = Object.assign({}, this.options, options);\n\t}\n\n\tpublic uploadFiles (files: File[]) {\n\t\tconst formData: FormData = this.filesToFormData(files);\n\n\t\treturn Observable.create(observer => {\n\t\t\tconst xhr = new XMLHttpRequest();\n\n\t\t\t// Progress callback\n\t\t\txhr.upload.addEventListener('progress', (e) => {\n\t\t\t\tif (e.lengthComputable) {\n\t\t\t\t\tconst percentComplete = e.loaded / e.total;\n\n\t\t\t\t\tobserver.next({\n\t\t\t\t\t\tprogress: percentComplete,\n\t\t\t\t\t\tdata: null,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Complete callback\n\t\t\txhr.onload = () => {\n\t\t\t\tobserver.next({\n\t\t\t\t\tprogress: 1,\n\t\t\t\t\tdata: xhr.response,\n\t\t\t\t});\n\t\t\t\t// observer.complete();\n\t\t\t};\n\n\t\t\t// Do request\n\t\t\txhr.responseType = 'json';\n\t\t\txhr.open('post', this.options.url);\n\t\t\txhr.send(formData);\n\t\t});\n\t}\n\n\tpublic validateFiles(files) {\n\t\tconst validFiles: File[] = [];\n\t\tconst invalidFiles: InvalidFile[] = [];\n\n\t\tif (files.length > 0) {\n\n\t\t\tfor (const file of files) {\n\t\t\t\tconst errors = [];\n\n\t\t\t\tif (!this.validateFileType(file)) {\n\t\t\t\t\terrors.push('INVALID_FILE_TYPE');\n\t\t\t\t}\n\n\t\t\t\tif (!this.validateFileSize(file)) {\n\t\t\t\t\terrors.push('INVALID_FILE_SIZE');\n\t\t\t\t}\n\n\t\t\t\tif (!this.validateMimeType(file)) {\n\t\t\t\t\terrors.push('INVALID_MIME_TYPE');\n\t\t\t\t}\n\n\t\t\t\tif (errors.length === 0) {\n\t\t\t\t\tvalidFiles.push(file);\n\t\t\t\t} else {\n\t\t\t\t\tinvalidFiles.push({\n\t\t\t\t\t\treasons: errors,\n\t\t\t\t\t\tfile: file,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tvalidFiles: validFiles,\n\t\t\tinvalidFiles: invalidFiles,\n\t\t};\n\t}\n\n\tprotected filesToFormData(files: File[]): FormData {\n\t\tconst formData  = new FormData();\n\n\t\tif (!this.options.url || this.options.url === '') {\n\t\t\tthrow new Error('Define the upload url.');\n\t\t}\n\n\t\tfor (const file of files) {\n\t\t\tformData.append('file', file);\n\t\t}\n\n\t\treturn formData;\n\t}\n\n\tprotected getFileExtension(file: File): string {\n\t\treturn file.name.split('.')[file.name.split('.').length - 1];\n\t}\n\n\tprotected validateFileType(file: File): boolean {\n\t\tconst allowedFileTypes = this.options.allowedFileTypes;\n\t\tconst ext = this.getFileExtension(file);\n\n\t\t// Filter defined?\n\t\tif (!Array.isArray(allowedFileTypes) || allowedFileTypes.length === 0) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Make allowedFileTypes case insensitive\n\t\tconst toUpper = (x) => x.toUpperCase();\n\t\tconst allowedFileTypesToUpper = allowedFileTypes.map(toUpper);\n\n\t\treturn allowedFileTypesToUpper.lastIndexOf(ext.toUpperCase()) !== -1;\n\t}\n\n\tprotected validateFileSize(file: File): boolean {\n\t\tconst maxFileSize = this.options.maxFileSize;\n\n\t\t// Filter defined?\n\t\tif (!maxFileSize || maxFileSize === 0) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn maxFileSize > file.size;\n\t}\n\n\tprotected validateMimeType(file: File): boolean {\n\t\tconst allowedMimeTypes = this.options.allowedMimeTypes;\n\n\t\t// Filter defined?\n\t\tif (!Array.isArray(allowedMimeTypes) || allowedMimeTypes.length === 0) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn allowedMimeTypes.lastIndexOf(file.type) !== -1;\n\t}\n}\n","import { Component, Input, OnInit, Output, EventEmitter } from '@angular/core';\n\nimport { UploadOptions, InvalidFile } from '../../types/upload.types';\nimport { UPLOAD_OPTIONS_DEFAULT } from '../../upload.conf';\nimport { Uploader } from '../../classes/uploader.class';\n\n@Component({\n\tselector: 'aui-upload',\n\ttemplate: `<div class=\"aui-upload\">\n    <aui-upload-zone [uploader]=\"uploader\" (queuedFiles)=\"onQueuedFiles($event)\" (uploadedFiles)=\"onUploadedFiles($event)\" (invalidFiles)=\"onInvalidFiles($event)\">\n        <div class=\"aui-upload-message\"><ng-content select=\".aui-upload-message\"></ng-content></div>\n        <div class=\"aui-upload-description\"><ng-content select=\".aui-upload-description\"></ng-content></div>\n        <div class=\"aui-upload-button\"><ng-content select=\".aui-upload-button\"></ng-content></div>\n    </aui-upload-zone>\n    <aui-validation-list [invalidFiles]=\"invalidFiles\"></aui-validation-list>\n    <aui-upload-queue *ngIf=\"!options?.autoUpload\" [uploader]=\"uploader\" [files]=\"queuedFiles\" (uploadedFiles)=\"onUploadedFiles($event)\"></aui-upload-queue>\n</div>\n`,\n})\nexport class UploadComponent implements OnInit {\n\t@Input() public options: UploadOptions = UPLOAD_OPTIONS_DEFAULT;\n\t@Output() public selectUploadedFiles: EventEmitter<Object[]> = new EventEmitter<Object[]>();\n\n\tpublic uploader;\n\tpublic uploadedFiles: Object[] = [];\n\tpublic invalidFiles: InvalidFile[] = [];\n\tpublic queuedFiles: File[] = [];\n\n\tngOnInit() {\n\t\tthis.uploader = new Uploader(this.options);\n\t}\n\n\tpublic onUploadedFiles(files: Object[]) {\n\t\tthis.uploadedFiles = this.uploadedFiles.concat(files);\n\t\tthis.selectUploadedFiles.emit(this.uploadedFiles);\n\t}\n\n\tpublic onInvalidFiles(files: InvalidFile[]) {\n\t\tthis.invalidFiles = files;\n\t}\n\n\tpublic onQueuedFiles(files: File[]) {\n\t\tthis.queuedFiles = this.queuedFiles.concat(files);\n\t}\n}\n","import { Component, Input, forwardRef } from '@angular/core';\nimport { ControlValueAccessor,  NG_VALUE_ACCESSOR } from '@angular/forms';\n\nimport { UploadOptions } from '../../types/upload.types';\n\n@Component({\n\tselector: 'aui-upload-input',\n\ttemplate: `<aui-upload [options]=\"options\" (selectUploadedFiles)=\"onUpload($event)\">\n    <div class=\"aui-upload-message\"><ng-content select=\".aui-upload-message\"></ng-content></div>\n    <div class=\"aui-upload-description\"><ng-content select=\".aui-upload-description\"></ng-content></div>\n    <div class=\"aui-upload-button\"><ng-content select=\".aui-upload-button\"></ng-content></div>\n</aui-upload>\n`,\n\tproviders: [{\n\t\tprovide: NG_VALUE_ACCESSOR,\n\t\tuseExisting: UploadInputComponent,\n\t\tmulti: true,\n\t}],\n})\nexport class UploadInputComponent implements ControlValueAccessor {\n\t@Input() public options: UploadOptions;\n\t@Input() public format: any;\n\n\tpublic propagateChange = (_: any) => {};\n\n\tpublic writeValue(value: any) {}\n\n\tpublic registerOnChange(fn) {\n\t\tthis.propagateChange = fn;\n\t}\n\n\tregisterOnTouched() {}\n\n\tpublic onUpload(files) {\n\t\tconst data = (this.format ? this.format(files) : files);\n\t\tthis.propagateChange(data);\n\t}\n}\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\n\nimport { Uploader } from '../../classes/uploader.class';\n\n@Component({\n\tselector: 'aui-upload-queue',\n\ttemplate: `<ul class=\"m-upload__files u-margin-bottom-xs\">\n    <li *ngFor=\"let file of files; let i = index\">\n        <span class=\"fa fa-file-o\"></span>\n        <span class=\"m-upload__filename\">{{ file.name }}</span>\n\n        <button (click)=\"remove(i)\" class=\"m-upload__delete a-button-transparent a-button--default a-button--small has-icon\">\n            <i class=\"fa fa-close\"></i>\n        </button>\n    </li>\n</ul>\n\n<button class=\"a-button\" *ngIf=\"files.length > 0\" (click)=\"uploadFiles()\">Upload!</button>\n`,\n})\nexport class UploadQueueComponent {\n\t@Input() public files: File[];\n\t@Input() public uploader;\n\t@Output() public uploadedFiles: EventEmitter<Object[]> = new EventEmitter<Object[]>();\n\n\tpublic uploadProgress: Number = 0;\n\n\tpublic remove(index) {\n\t\tthis.files.splice(index, 1);\n\t}\n\n\tpublic uploadFiles () {\n\t\tconst progress = undefined;\n\t\tconst data = undefined;\n\t\tthis.uploader.uploadFiles(this.files).subscribe(\n\t\t\t(response) => {\n\t\t\t\tif (response.progress) {\n\t\t\t\t\tthis.uploadProgress = Math.floor(response.progress * 100);\n\t\t\t\t}\n\t\t\t\tif (response.data) {\n\t\t\t\t\tthis.uploadedFiles.emit(response.data);\n\t\t\t\t\tthis.files = [];\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n}\n","import { Component, HostListener, Input, Output, EventEmitter, ViewChild, ElementRef } from '@angular/core';\n\nimport { InvalidFile } from '../../types/upload.types';\nimport { Uploader } from '../../classes/uploader.class';\n\n@Component({\n\tselector: 'aui-upload-zone',\n\ttemplate: `<div class=\"m-upload\" *ngIf=\"uploader.options.type === 'drop'\">\n\t<div class=\"m-upload__inner\">\n\t\t<div class=\"m-upload__dropzone\">\n\t\t\t<input type=\"file\" #fileInput (change)=\"updateFiles()\" multiple class=\"m-upload__input\" *ngIf=\"multiple\">\n\t\t\t<input type=\"file\" #fileInput (change)=\"updateFiles()\" class=\"m-upload__input\" *ngIf=\"!multiple\">\n\n\t\t\t<div class=\"m-upload__content\" *ngIf=\"!uploadProgress || uploadProgress === 0\">\n\t\t\t\t<p class=\"m-upload__message\"><ng-content select=\".aui-upload-message\"></ng-content></p>\n\t\t\t</div>\n\n\t\t\t<ng-container *ngIf=\"uploadProgress > 0\">\n\t\t\t\t<p class=\"m-upload__uploads u-text-bold u-margin-bottom-xs\">\n\t\t\t\t\t<ng-container *ngFor=\"let file of uploadingFiles; let last = last\">\n\t\t\t\t\t\t{{ file.name }}<ng-container *ngIf=\"!last\">, </ng-container>\n\t\t\t\t\t</ng-container>\n\t\t\t\t</p>\n\t\t\t\t<aui-progress-bar [value]=\"uploadProgress\" max=\"100\"></aui-progress-bar>\n\t\t\t</ng-container>\n\t\t</div>\n\t</div>\n\n\t<small class=\"m-upload__description\"><ng-content select=\".aui-upload-description\"></ng-content></small>\n</div>\n\n<button class=\"a-button aui-upload-button\" (click)=\"triggerFile()\" *ngIf=\"uploader.options.type === 'button'\">\n\t<ng-content select=\".aui-upload-button\"></ng-content>\n\t<input type=\"file\" #fileInput (change)=\"updateFiles()\" multiple=\"multiple\">\n</button>\n`,\n\tstyles: [`.aui-upload-button input[type=file]{display:none}`],\n})\nexport class UploadZoneComponent {\n\t@ViewChild('fileInput') fileInput: ElementRef;\n\n\t@Input() public uploader: Uploader;\n\t@Input() public multiple = true;\n\t@Output() public uploadedFiles: EventEmitter<Object[]> = new EventEmitter<Object[]>();\n\t@Output() public queuedFiles: EventEmitter<File[]> = new EventEmitter<File[]>();\n\t@Output() public invalidFiles: EventEmitter<InvalidFile[]> = new EventEmitter<InvalidFile[]>();\n\n\tpublic hasDragOver: Boolean = false;\n\tpublic classNames: string;\n\tpublic uploadProgress: Number = 0;\n\tpublic uploadingFiles: File[];\n\n\t@HostListener('dragover', ['$event'])\n\tpublic onDragOver(event: any): void {\n\t\tthis.preventAndStop(event);\n\t\tthis.hasDragOver = true;\n\t}\n\n\t@HostListener('dragleave', ['$event'])\n\tpublic onDragLeave(event: any): void {\n\t\tthis.preventAndStop(event);\n\t\tthis.hasDragOver = false;\n\t}\n\n\t@HostListener('drop', ['$event'])\n\tpublic onDrop(event: any): void {\n\t\tthis.preventAndStop(event);\n\t\tthis.hasDragOver = false;\n\t\tconst files = this.fileListToArray(event.dataTransfer.files);\n\t\tthis.handleFiles(files);\n\t}\n\n\tpublic triggerFile() {\n\t\tthis.fileInput.nativeElement.click();\n\t}\n\n\tpublic updateFiles() {\n\t\tconst files: any[] = this.fileListToArray(this.fileInput.nativeElement.files);\n\t\tthis.handleFiles(files);\n\t}\n\n\tprotected handleFiles (files) {\n\t\tconst response = this.uploader.validateFiles(files);\n\t\tthis.invalidFiles.emit(response.invalidFiles);\n\n\t\tif (this.uploader.options.autoUpload && response.validFiles.length > 0) {\n\t\t\tthis.uploadFiles(response.validFiles);\n\t\t} else {\n\t\t\tthis.queuedFiles.emit(response.validFiles);\n\t\t}\n\t}\n\n\tprotected uploadFiles (files) {\n\t\t// Reset progress\n\t\tthis.uploadProgress = 0;\n\t\tthis.uploadingFiles = files;\n\n\t\t// upload\n\t\tthis.uploader.uploadFiles(files).subscribe(\n\t\t\t(response) => {\n\t\t\t\tif (response.progress) {\n\t\t\t\t\tthis.uploadProgress = Math.floor(response.progress * 100);\n\t\t\t\t}\n\t\t\t\tif (response.data) {\n\t\t\t\t\tthis.uploadedFiles.emit(response.data);\n\t\t\t\t}\n\t\t\t},\n\t\t\t(err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t}\n\t\t);\n\t}\n\n\tprotected fileListToArray(list: FileList): Object[] {\n\t\treturn Array.from(list);\n\t}\n\n\tprotected preventAndStop(event: any): any {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t}\n}\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\n\n@Component({\n\tselector: 'aui-uploaded-list',\n\ttemplate: `<ul class=\"m-upload__files\">\n    <li *ngFor=\"let file of uploadedFiles; let i = index\">\n        <span class=\"fa fa-file-o\"></span>\n        <span class=\"m-upload__filename\">{{ file.name }}</span>\n\n        <button (click)=\"remove(file, i)\" class=\"m-upload__delete a-button-transparent a-button--default a-button--small has-icon\">\n            <i class=\"fa fa-close\"></i>\n        </button>\n    </li>\n</ul>\n`,\n})\nexport class UploadedListComponent {\n\t@Input() public uploadedFiles = [];\n\t@Output() public delete = new EventEmitter();\n\n\tpublic remove(file, index) {\n\t\tthis.delete.emit({file, index});\n\t}\n}\n","import { Inject, Injectable } from '@angular/core';\n\nimport { UPLOAD_VALIDATION_MESSAGES } from '../upload.conf';\n\n@Injectable()\nexport class ValidationMessagesService {\n\tpublic INVALID_FILE_TYPE = 'INVALID_FILE_TYPE';\n\tpublic INVALID_FILE_SIZE = 'INVALID_FILE_SIZE';\n\tpublic INVALID_MIME_TYPE = 'INVALID_MIME_TYPE';\n\n\tconstructor(\n\t\t@Inject(UPLOAD_VALIDATION_MESSAGES) private initValues\n\t) {\n\t\tif (initValues.INVALID_FILE_TYPE) {\n\t\t\tthis.INVALID_FILE_TYPE = initValues.INVALID_FILE_TYPE;\n\t\t}\n\n\t\tif (initValues.INVALID_FILE_SIZE) {\n\t\t\tthis.INVALID_FILE_SIZE = initValues.INVALID_FILE_SIZE;\n\t\t}\n\n\t\tif (initValues.INVALID_MIME_TYPE) {\n\t\t\tthis.INVALID_MIME_TYPE = initValues.INVALID_MIME_TYPE;\n\t\t}\n\t}\n}\n\n","import { Component, Input, Inject } from '@angular/core';\n\nimport { InvalidFile } from '../../types/upload.types';\n\nimport { ValidationMessagesService } from '../../services/validation-messages.service';\n\n@Component({\n\tselector: 'aui-validation-list',\n\ttemplate: `<ul class=\"m-upload__files\">\n    <li *ngFor=\"let invalidFile of invalidFiles; let i = index\" class=\"is-error\">\n        <span class=\"fa fa-warning\"></span>\n        <span class=\"m-upload__filename\">{{ invalidFile.file.name }}</span>\n        <span class=\"m-upload__error\">{{ formatReasons(invalidFile.reasons) }}</span>\n\n        <button (click)=\"remove(i)\" class=\"m-upload__delete a-button-transparent a-button--danger a-button--small has-icon\">\n            <i class=\"fa fa-close\"></i>\n        </button>\n    </li>\n</ul>\n`,\n})\nexport class ValidationListComponent {\n\t@Input() public invalidFiles: InvalidFile[] = [];\n\n\tconstructor(private messagesService: ValidationMessagesService) {}\n\n\tpublic remove(index: number): void {\n\t\tthis.invalidFiles.splice(index, 1);\n\t}\n\n\tpublic formatReasons(reasons: string[]): string {\n\t\tconst result = [];\n\t\tfor  (const reason of reasons) {\n\t\t\tresult.push(this.messagesService[reason]);\n\t\t}\n\t\treturn result.join(', ');\n\t}\n}\n","import { UploadComponent } from './upload/upload.component';\nimport { UploadInputComponent } from './upload-input/upload-input.component';\nimport { UploadQueueComponent } from './upload-queue/upload-queue.component';\nimport { UploadZoneComponent } from './upload-zone/upload-zone.component';\nimport { UploadedListComponent } from './uploaded-list/uploaded-list.component';\nimport { ValidationListComponent } from './validation-list/validation-list.component';\n\nexport const Components = [\n\tUploadComponent,\n\tUploadInputComponent,\n\tUploadQueueComponent,\n\tUploadZoneComponent,\n\tUploadedListComponent,\n\tValidationListComponent,\n];\n","import { ValidationMessagesService } from './validation-messages.service';\n\nexport const Services = [\n\tValidationMessagesService,\n];\n","import { NgModule, ModuleWithProviders, Inject, Component } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { ProgressBarModule } from '@acpaas-ui/ngx-components/progress-bar';\n\nimport { Components } from './components';\nimport { Services } from './services';\nimport { UPLOAD_VALIDATION_MESSAGES } from './upload.conf';\nimport { ValidationMessages } from './types/upload.types';\n\n@NgModule({\n\timports: [\n\t\tBrowserModule,\n\t\tCommonModule,\n\t\tProgressBarModule,\n\t\tFormsModule,\n\t],\n\tdeclarations: [\n\t\t...Components,\n\t],\n\texports: [\n\t\t...Components,\n\t],\n\tproviders: [\n\t\t...Services,\n\t\t{ provide: UPLOAD_VALIDATION_MESSAGES, useValue: {} },\n\t],\n})\nexport class UploadModule {\n\tstatic forChild(\n\t\tvalidationMessages: ValidationMessages = {}\n\t): ModuleWithProviders {\n\t\treturn {\n\t\t\tngModule: UploadModule,\n\t\t\tproviders: [\n\t\t\t\t{ provide: UPLOAD_VALIDATION_MESSAGES, useValue: validationMessages },\n\t\t\t],\n\t\t};\n\t}\n}\n","export const WYSIWYG_DEFAULT_CONFIG = {\n\tbodyClass: 'a-input ckeditor-editable-body',\n\tcontentsCss: ['https://cdn.antwerpen.be/core_branding_scss/2.0.1/main.min.css'],\n\tformat_tags: 'p;h1;h2;h3;h4;h5;h6',\n\ttoolbar_Basic: [\n\t\t[ 'Bold', 'Italic', 'Underline', '-', 'Format', '-', 'Source' ],\n\t],\n\tremoveButtons: 'Styles',\n\tremovePlugins: 'about',\n\ttoolbar: null,\n\tuiColor: '#d8d8d8',\n};\n","import {\n\tComponent,\n\tInput,\n\tOutput,\n\tEventEmitter,\n\tHostBinding,\n\tOnInit,\n\tforwardRef\n} from '@angular/core';\nimport {\n\tControlValueAccessor,\n\tFormControl,\n\tNG_VALUE_ACCESSOR,\n\tNG_VALIDATORS\n} from '@angular/forms';\n\nimport {\n\tWYSIWYG_DEFAULT_CONFIG\n} from '../../wysiwyg.conf';\n\n@Component({\n\tselector: 'aui-wysiwyg',\n\ttemplate: `<div class=\"aui-wysiwyg__inner\">\n    <ckeditor [(ngModel)]=\"ckeditorContent\" [config]=\"ckeditorConfig\" [debounce]=\"debounce\" (ngModelChange)=\"writeValue($event)\"></ckeditor>\n</div>\n`,\n\tproviders: [{\n\t\tprovide: NG_VALUE_ACCESSOR,\n\t\tuseExisting: forwardRef(() => WysiwygComponent), // tslint:disable-line:no-forward-ref\n\t\tmulti: true,\n\t}],\n})\nexport class WysiwygComponent implements OnInit, ControlValueAccessor {\n\t@HostBinding('class.aui-wysiwyg') setClass = true;\n\n\t@Input() additionalStyling: string[];\n\t@Input() availableTags: string;\n\t@Input() basic = false;\n\t@Input() placeholder: string;\n\t@Input() uiColour: string;\n\t@Input() debounce: number;\n\n\t@Input() customConfig: any;\n\n\t@Output() emitContent: EventEmitter<string> = new EventEmitter();\n\n\tpublic ckeditorContent: string;\n\tpublic ckeditorConfig = WYSIWYG_DEFAULT_CONFIG;\n\n\tprivate updateModel: Function = () => {};\n\n\t// NG_VALUE_ACCESSOR_INTERFACE\n\twriteValue(value: string): void {\n\t\tthis.ckeditorContent = value;\n\t\tthis.updateModel(value);\n\t\tthis.emitContent.emit(this.ckeditorContent);\n\t}\n\n\tregisterOnChange(onChange: Function): void {\n\t\tthis.updateModel = onChange;\n\t}\n\n\tregisterOnTouched(): void {}\n\n\tpublic ngOnInit() {\n\t\tthis.setConfig();\n\n\t\tif (!this.ckeditorContent) {\n\t\t\tthis.ckeditorContent = this.placeholder;\n\t\t}\n\t}\n\n\tprivate setConfig(): void {\n\t\tif (this.customConfig) {\n\t\t\tthis.ckeditorConfig = this.customConfig;\n\t\t} else {\n\t\t\tif (this.basic) {\n\t\t\t\tthis.ckeditorConfig.toolbar = 'Basic';\n\t\t\t}\n\n\t\t\tif (this.availableTags) {\n\t\t\t\tthis.ckeditorConfig.format_tags = this.availableTags;\n\t\t\t}\n\n\t\t\tif (this.uiColour) {\n\t\t\t\tthis.ckeditorConfig.uiColor = this.uiColour;\n\t\t\t}\n\n\t\t\tif (this.additionalStyling) {\n\t\t\t\tthis.ckeditorConfig.contentsCss.concat(this.additionalStyling);\n\t\t\t}\n\t\t}\n\t}\n}\n","import { WysiwygComponent } from './wysiwyg/wysiwyg.component';\n\nexport const Components = [\n\tWysiwygComponent,\n];\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\n\nimport { Components } from './components';\n\nimport { CKEditorModule } from 'ng2-ckeditor';\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tFormsModule,\n\t\tReactiveFormsModule,\n\t\tCKEditorModule,\n\t],\n\tdeclarations: [\n\t\t...Components,\n\t],\n\texports: [\n\t\t...Components,\n\t],\n})\nexport class WysiwygModule {\n}\n"]}