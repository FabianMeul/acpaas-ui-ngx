{"version":3,"sources":["ng://calendar/lib/calendar/types/calendar.types.ts","null","ng://calendar/lib/calendar/services/calendar.service.ts","ng://calendar/lib/calendar/calendar.conf.ts","ng://calendar/lib/calendar/components/calendar/calendar.component.ts","ng://calendar/lib/calendar/components/decennia/decennia.component.ts","ng://calendar/lib/calendar/components/month/month.component.ts","ng://calendar/lib/calendar/components/year/year.component.ts","ng://calendar/lib/calendar/components/index.ts","ng://calendar/lib/calendar/services/index.ts","ng://calendar/lib/calendar/pipes/title-case.pipe.ts","ng://calendar/lib/calendar/pipes/index.ts","ng://calendar/lib/calendar/calendar.module.ts"],"names":["CALENDAR_VIEW_MONTH","CALENDAR_VIEW_YEAR","CALENDAR_VIEW_DECENNIA","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","__read","o","m","Symbol","iterator","r","e","ar","next","done","push","value","error","__spread","concat","CalendarService","getMonth","month","year","this","currentYear","months","date","Date","setMonth","setFullYear","generatedMonth","DateGenerator","generateMonth","startOfWeek","padding","generatePadding","getMonthForDate","getFullYear","getRangeForDate","range","generateRange","getRangesForDate","rangeOptions","before","DateHelper","updateMonth","after","current","getClosestDateForRange","dateRange","dateOutOfRange","closestDateForRange","Injectable","CALENDAR_DEFAULT_WEEKDAY_LABELS","CALENDAR_DEFAULT_MONTH_LABELS","CALENDAR_WEEKDAY_LABELS","InjectionToken","CALENDAR_MONTH_LABELS","CalendarComponent","moduleMonthLabels","moduleWeekdayLabels","calendarService","EventEmitter","ngOnInit","weekdayLabels","monthLabels","activeDate","updateHeaderLabel","ngOnChanges","changes","selectedDate","currentValue","datesAreEqual","previousValue","updateActiveDate","factor","activeView","switchView","views","currView","indexOf","nextView","headerLabel","String","startYear","pickDate","complete","selectDate","emit","Component","args","selector","template","changeDetection","ChangeDetectionStrategy","OnPush","Inject","Input","Output","CalendarDecenniaComponent","get","previousYear","updateYears","selectedYear","event","stopPropagation","years","activeYear","chunk","CalendarMonthComponent","_this","selectedDateChanged","hasChanged","activeDateChanged","monthChanged","selectedDayChanged","getCurrentDate","selectedDay","getDate","newDates","dates","map","week","day","available","dayIsAvailable","updateDate","prop","previous","valueOf","CalendarYearComponent","selectedMonthChanged","selectedMonth","Components","Services","TitleCasePipe","transform","split","word","toUpperCase","substr","toLowerCase","join","Pipe","name","Pipes","ɵ0","ɵ1","CalendarModule","forChild","ngModule","providers","provide","useValue","NgModule","imports","CommonModule","declarations","exports"],"mappings":"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","sourcesContent":["import { DateRange } from '@acpaas-ui/js-date-utils';\n\nexport const CALENDAR_VIEW_MONTH = 'CALENDAR_VIEW_MONTH';\nexport const CALENDAR_VIEW_YEAR = 'CALENDAR_VIEW_YEAR';\nexport const CALENDAR_VIEW_DECENNIA = 'CALENDAR_VIEW_DECENNIA';\n\nexport type WeekdayLabelsConfig = string[];\nexport type MonthLabelsConfig = string[];\n\nexport interface DatepickerResult {\n\tdate: Date;\n\tcomplete: Boolean;\n}\n\nexport interface DateRangeMap {\n\tbefore: number[];\n\tcurrent: number[];\n\tafter: number[];\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator.throw(value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { DateGenerator, DateHelper, Day, Month, DateRange } from '@acpaas-ui/js-date-utils';\n\nimport { DateRangeMap } from '../types/calendar.types';\n\nexport interface MonthMap {\n\t[key: number]: Month;\n}\n\n@Injectable()\nexport class CalendarService {\n\tpublic months: MonthMap = {};\n\tprivate currentYear: number;\n\n\tgetMonth(month: number, year?: number): Month {\n\t\tif (year) {\n\t\t\tif (this.currentYear !== year) {\n\t\t\t\tthis.months = {};\n\t\t\t}\n\n\t\t\tthis.currentYear = year;\n\t\t}\n\n\t\tif (this.months.hasOwnProperty(month)) {\n\t\t\treturn [...this.months[month]];\n\t\t}\n\n\t\tconst date = new Date();\n\t\tdate.setMonth(month, 1);\n\n\t\tif (year) {\n\t\t\tdate.setFullYear(year);\n\t\t}\n\n\t\tconst generatedMonth = DateGenerator.generateMonth(date, { startOfWeek: 1, padding: true, generatePadding: true });\n\n\t\tthis.months[month] = generatedMonth;\n\n\t\treturn [...generatedMonth];\n\t}\n\n\tgetMonthForDate(date: Date): Month {\n\t\treturn this.getMonth(date.getMonth(), date.getFullYear());\n\t}\n\n\tgetRangeForDate(date: Date, range: DateRange): number[] {\n\t\treturn DateGenerator.generateRange(date, range, { startOfWeek: 1 });\n\t}\n\n\tgetRangesForDate(date: Date, range: DateRange): DateRangeMap {\n\t\tconst rangeOptions = { startOfWeek: 1 };\n\t\tconst before = DateHelper.updateMonth(date, date.getMonth() - 1);\n\t\tconst after = DateHelper.updateMonth(date, date.getMonth() + 1);\n\n\t\treturn {\n\t\t\tbefore: DateGenerator.generateRange(before, range, rangeOptions),\n\t\t\tcurrent: DateGenerator.generateRange(date, range, rangeOptions),\n\t\t\tafter: DateGenerator.generateRange(after, range, rangeOptions),\n\t\t};\n\t}\n\n\tgetClosestDateForRange(date: Date = new Date(), range: DateRange): Date {\n\t\tconst dateRange = this.getRangeForDate(date, range);\n\n\t\tif (DateHelper.dateOutOfRange(date, dateRange)) {\n\t\t\treturn date;\n\t\t}\n\n\t\treturn DateHelper.closestDateForRange(date, dateRange);\n\t}\n}\n","import { InjectionToken } from '@angular/core';\nimport { WeekdayLabelsConfig, MonthLabelsConfig } from './types/calendar.types';\n\nexport const CALENDAR_DEFAULT_WEEKDAY_LABELS = [\n\t'Mon',\n\t'Tue',\n\t'Wed',\n\t'Thu',\n\t'Fri',\n\t'Sat',\n\t'Sun',\n];\n\nexport const CALENDAR_DEFAULT_MONTH_LABELS = [\n\t'January',\n\t'February',\n\t'March',\n\t'April',\n\t'May',\n\t'June',\n\t'July',\n\t'August',\n\t'September',\n\t'October',\n\t'November',\n\t'December',\n];\n\nexport const CALENDAR_WEEKDAY_LABELS = new InjectionToken<WeekdayLabelsConfig>('weekdayLabels');\nexport const CALENDAR_MONTH_LABELS = new InjectionToken<MonthLabelsConfig>('monthLabels');\n","import {\n\tComponent,\n\tInject,\n\tInput,\n\tOutput,\n\tEventEmitter,\n\tChangeDetectionStrategy,\n\tOnInit,\n\tOnChanges,\n\tSimpleChanges\n} from '@angular/core';\n\nimport { DateRange, DateHelper } from '@acpaas-ui/js-date-utils';\n\nimport {\n\tCALENDAR_MONTH_LABELS,\n\tCALENDAR_DEFAULT_MONTH_LABELS,\n\tCALENDAR_WEEKDAY_LABELS,\n\tCALENDAR_DEFAULT_WEEKDAY_LABELS\n} from '../../calendar.conf';\nimport {\n\tWeekdayLabelsConfig,\n\tMonthLabelsConfig,\n\tCALENDAR_VIEW_MONTH,\n\tCALENDAR_VIEW_YEAR,\n\tCALENDAR_VIEW_DECENNIA\n} from '../../types/calendar.types';\nimport { CalendarService } from '../../services/calendar.service';\n\n@Component({\n\tselector: 'aui-calendar',\n\ttemplate: `<div class=\"m-datepicker__nav\">\n    <button tabindex=\"-1\" type=\"button\" aria-label=\"vorige maand\" class=\"a-button has-icon\" (click)=\"updateActiveDate(-1)\">\n        <i class=\"fa fa-angle-left\"></i>\n    </button>\n\n    <button tabindex=\"0\" type=\"button\" class=\"m-datepicker__title a-button\" (click)=\"switchView()\">\n        {{ headerLabel | titlecase }}\n    </button>\n\n    <button tabindex=\"0\" type=\"button\" aria-label=\"volgende maand\" class=\"a-button has-icon\" (click)=\"updateActiveDate(1)\">\n        <i class=\"fa fa-angle-right\"></i>\n    </button>\n</div>\n\n<aui-calendar-month\n    *ngIf=\"activeView === CALENDAR_VIEW_MONTH\"\n    [selectedDate]=\"selectedDate\"\n    [activeDate]=\"activeDate\"\n    [range]=\"range\"\n    [weekdayLabels]=\"weekdayLabels\"\n    (selectDate)=\"pickDate($event)\"\n></aui-calendar-month>\n<aui-calendar-year\n    *ngIf=\"activeView === CALENDAR_VIEW_YEAR\"\n    [selectedDate]=\"selectedDate\"\n    [activeDate]=\"activeDate\"\n    [monthLabels]=\"monthLabels\"\n    (selectDate)=\"pickDate($event)\"\n></aui-calendar-year>\n<aui-calendar-decennia\n    *ngIf=\"activeView === CALENDAR_VIEW_DECENNIA\"\n    [selectedDate]=\"selectedDate\"\n    [activeDate]=\"activeDate\"\n    (selectDate)=\"pickDate($event)\"\n></aui-calendar-decennia>\n`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class CalendarComponent implements OnInit, OnChanges {\n\t@Input() selectedDate: Date;\n\t@Input() range: DateRange;\n\t@Input() weekdayLabels: WeekdayLabelsConfig;\n\t@Input() monthLabels: MonthLabelsConfig;\n\t@Output() selectDate = new EventEmitter();\n\n\tpublic CALENDAR_VIEW_MONTH = CALENDAR_VIEW_MONTH;\n\tpublic CALENDAR_VIEW_YEAR = CALENDAR_VIEW_YEAR;\n\tpublic CALENDAR_VIEW_DECENNIA = CALENDAR_VIEW_DECENNIA;\n\tpublic activeDate: Date;\n\tpublic activeView: string = CALENDAR_VIEW_MONTH;\n\tpublic headerLabel = '';\n\n\tconstructor(\n\t\t@Inject(CALENDAR_MONTH_LABELS) public moduleMonthLabels = CALENDAR_DEFAULT_MONTH_LABELS,\n\t\t@Inject(CALENDAR_WEEKDAY_LABELS) public moduleWeekdayLabels = CALENDAR_DEFAULT_WEEKDAY_LABELS,\n\t\tprivate calendarService: CalendarService\n\t) {}\n\n\tngOnInit() {\n\t\tthis.weekdayLabels = this.weekdayLabels || this.moduleWeekdayLabels;\n\t\tthis.monthLabels = this.monthLabels || this.moduleMonthLabels;\n\t\tthis.activeDate = this.calendarService.getClosestDateForRange(this.activeDate, this.range);\n\t\tthis.updateHeaderLabel();\n\t}\n\n\tngOnChanges(changes: SimpleChanges) {\n\t\tconst selectedDate = changes.selectedDate && changes.selectedDate.currentValue ? changes.selectedDate : null;\n\n\t\tif (\n\t\t\ttypeof this.monthLabels !== 'undefined' &&\n\t\t\tselectedDate &&\n\t\t\t!DateHelper.datesAreEqual(selectedDate.currentValue, selectedDate.previousValue)\n\t\t) {\n\t\t\tthis.activeDate = this.selectedDate;\n\t\t\tthis.updateHeaderLabel();\n\t\t}\n\t}\n\n\tupdateActiveDate(factor: number = 0): void {\n\t\tif (factor === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst activeDate = this.activeDate ? new Date(this.activeDate) : new Date();\n\n\t\tswitch (this.activeView) {\n\t\t\tcase CALENDAR_VIEW_MONTH:\n\t\t\t\tactiveDate.setMonth(activeDate.getMonth() + factor);\n\t\t\t\tbreak;\n\t\t\tcase CALENDAR_VIEW_YEAR:\n\t\t\t\tactiveDate.setFullYear(activeDate.getFullYear() + factor);\n\t\t\t\tbreak;\n\t\t\tcase CALENDAR_VIEW_DECENNIA:\n\t\t\t\tactiveDate.setFullYear(activeDate.getFullYear() + (12 * factor));\n\t\t\t\tbreak;\n\t\t}\n\n\t\tthis.activeDate = activeDate;\n\t\tthis.updateHeaderLabel();\n\t}\n\n\tswitchView(factor: number = 1): void {\n\t\tconst views = [CALENDAR_VIEW_MONTH, CALENDAR_VIEW_YEAR, CALENDAR_VIEW_DECENNIA];\n\n\t\tconst currView = views.indexOf(this.activeView);\n\t\tlet nextView = (currView + factor) >= views.length ? 0 : currView + factor;\n\t\tnextView = nextView < 0 ? views.length - 1 : nextView;\n\n\t\tthis.activeView = views[nextView];\n\n\t\t// reset activeDate when returning to month view without model update\n\t\tif (this.selectedDate && nextView === 0 && factor === 1) {\n\t\t\tthis.activeDate = this.selectedDate;\n\t\t}\n\n\t\tthis.updateHeaderLabel();\n\t}\n\n\tupdateHeaderLabel(): void {\n\t\tswitch (this.activeView) {\n\t\t\tcase CALENDAR_VIEW_MONTH:\n\t\t\t\tthis.headerLabel = this.monthLabels[this.activeDate.getMonth()] + ' ' + this.activeDate.getFullYear();\n\t\t\t\tbreak;\n\t\t\tcase CALENDAR_VIEW_YEAR:\n\t\t\t\tthis.headerLabel = String(this.activeDate.getFullYear());\n\t\t\t\tbreak;\n\t\t\tcase CALENDAR_VIEW_DECENNIA:\n\t\t\t\tconst startYear = this.activeDate.getFullYear();\n\t\t\t\tthis.headerLabel = `${startYear} - ${startYear + 11}`;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tpickDate(date: Date): void {\n\t\tconst complete = this.activeView === CALENDAR_VIEW_MONTH;\n\n\t\tthis.selectDate.emit({\n\t\t\tdate: date,\n\t\t\tcomplete: complete,\n\t\t});\n\n\t\tif (!complete) {\n\t\t\tthis.switchView(-1);\n\t\t}\n\t}\n}\n","import {\n\tComponent,\n\tInput,\n\tOutput,\n\tEventEmitter,\n\tChangeDetectionStrategy,\n\tOnInit,\n\tOnChanges,\n\tSimpleChanges\n} from '@angular/core';\nimport { get, chunk } from 'lodash-es';\n\n@Component({\n\tselector: 'aui-calendar-decennia',\n\ttemplate: `<table>\n    <tbody class=\"m-datepicker__calendar\">\n        <tr *ngFor=\"let group of years\">\n            <td *ngFor=\"let year of group\">\n                <button tabindex=\"0\" type=\"button\" [ngClass]=\"{\n                    'is-current': year === current,\n                    'is-selected': year === selectedYear\n                }\" (click)=\"pickDate($event, year)\">\n                    {{ year }}\n                </button>\n            </td>\n        </tr>\n    </tbody>\n</table>\n`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class CalendarDecenniaComponent implements OnInit, OnChanges {\n\t@Input() selectedDate: Date;\n\t@Input() activeDate: Date;\n\t@Output() selectDate = new EventEmitter();\n\n\tpublic years = [];\n\tpublic selectedYear = -1;\n\tpublic current = -1;\n\n\tngOnInit() {\n\t\tconst current = new Date();\n\t\tthis.current = current.getFullYear();\n\t}\n\n\tngOnChanges(changes: SimpleChanges) {\n\t\tconst currentValue = get(changes, 'activeDate.currentValue');\n\t\tconst previousValue = get(changes, 'activeDate.previousValue');\n\t\tconst currentYear = currentValue instanceof Date ? currentValue.getFullYear() : -1;\n\t\tconst previousYear = previousValue instanceof Date ? previousValue.getFullYear() : -1;\n\t\tconst outOfRange = previousYear > currentYear || previousYear + 11 < currentYear;\n\n\t\tif (currentYear >= 0 && outOfRange) {\n\t\t\tthis.updateYears();\n\t\t}\n\n\t\tthis.selectedYear = this.selectedDate instanceof Date ? this.selectedDate.getFullYear() : -1;\n\t}\n\n\tpickDate(event: MouseEvent, date: number) {\n\t\tevent.stopPropagation();\n\n\t\tconst selectedDate = new Date(this.activeDate);\n\t\tselectedDate.setFullYear(date);\n\n\t\tthis.selectDate.emit(selectedDate);\n\t}\n\n\tprivate updateYears(): void {\n\t\tconst years = [];\n\t\tconst activeYear = this.activeDate.getFullYear();\n\n\t\tfor (let i = activeYear; i < activeYear + 12; i += 1) {\n\t\t\tyears.push(i);\n\t\t}\n\n\t\tthis.years = chunk(years, 4);\n\t}\n}\n","import {\n\tComponent,\n\tInject,\n\tInput,\n\tOutput,\n\tEventEmitter,\n\tChangeDetectionStrategy,\n\tOnInit,\n\tOnChanges,\n\tSimpleChanges\n} from '@angular/core';\nimport { get } from 'lodash-es';\nimport { Day, Month, DateRange, DateHelper } from '@acpaas-ui/js-date-utils';\n\nimport { CALENDAR_WEEKDAY_LABELS, CALENDAR_DEFAULT_WEEKDAY_LABELS } from '../../calendar.conf';\nimport { CalendarService } from '../../services/calendar.service';\nimport { DateRangeMap, WeekdayLabelsConfig } from '../../types/calendar.types';\n\n@Component({\n\tselector: 'aui-calendar-month',\n\ttemplate: `<table>\n    <thead>\n        <tr class=\"m-datepicker__days\">\n            <th *ngFor=\"let day of weekdayLabels\" title={{day}}>{{ day | slice:0:2 | titlecase }}</th>\n        </tr>\n    </thead>\n\n    <tbody class=\"m-datepicker__calendar\">\n        <tr *ngFor=\"let week of dates\">\n            <td *ngFor=\"let day of week\">\n                <button\n                    tabindex=\"0\"\n                    type=\"button\"\n                    [ngClass]=\"{\n                        'is-faded': !day.date || day.padding,\n                        'is-selected': !day.padding && day.date === selectedDay,\n                        'is-current': !day.padding && day.date === current\n                    }\"\n                    (click)=\"pickDate($event, day)\"\n                    [disabled]=\"!day.available\"\n                >{{ day.date }}</button>\n            </td>\n        </tr>\n    </tbody>\n</table>\n`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class CalendarMonthComponent implements OnInit, OnChanges {\n\t@Input() selectedDate: Date;\n\t@Input() activeDate: Date;\n\t@Input() range: DateRange;\n\t@Input() weekdayLabels: WeekdayLabelsConfig = CALENDAR_DEFAULT_WEEKDAY_LABELS;\n\t@Output() selectDate = new EventEmitter();\n\n\tpublic dates: Month = [];\n\tpublic selectedDay = -1;\n\tpublic current: number;\n\n\tconstructor(\n\t\t@Inject(CALENDAR_WEEKDAY_LABELS) private moduleWeekdayLabels = CALENDAR_DEFAULT_WEEKDAY_LABELS,\n\t\tprivate calendarService: CalendarService\n\t) {}\n\n\tngOnInit() {\n\t\tthis.weekdayLabels = this.weekdayLabels || this.moduleWeekdayLabels;\n\t}\n\n\tngOnChanges(changes: SimpleChanges) {\n\t\tconst selectedDateChanged = this.hasChanged(changes, 'selectedDate');\n\t\tconst activeDateChanged = this.hasChanged(changes, 'activeDate');\n\t\tconst monthChanged = activeDateChanged && !DateHelper.datesAreEqual([\n\t\t\tchanges.activeDate.currentValue,\n\t\t\tchanges.activeDate.previousValue,\n\t\t], 'M');\n\t\tconst selectedDayChanged = this.selectedDate && this.activeDate.getMonth() === this.selectedDate.getMonth();\n\n\t\tthis.current = this.getCurrentDate();\n\t\tthis.selectedDay = selectedDayChanged ? this.selectedDate.getDate() : -1;\n\n\t\tlet newDates = [];\n\n\t\tif (selectedDateChanged) {\n\t\t\tnewDates = this.calendarService.getMonthForDate(this.selectedDate);\n\t\t} else if (activeDateChanged && monthChanged) {\n\t\t\tnewDates = this.calendarService.getMonthForDate(this.activeDate);\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\n\t\tconst range = this.calendarService.getRangesForDate(this.activeDate, this.range);\n\n\t\tthis.dates = newDates.map(week => week.map(day => ({...day, available: this.dayIsAvailable(day, range) })));\n\t}\n\n\tpickDate(event: MouseEvent, day: Day): void {\n\t\tevent.stopPropagation(); // Stop propagation so the modal doesn't close\n\n\t\tlet selectedDate = new Date(this.activeDate);\n\n\t\tif (day.padding) {\n\t\t\tconst month = day.date > 20 ? -1 : 1;\n\t\t\tselectedDate = DateHelper.updateMonth(selectedDate, selectedDate.getMonth() + month);\n\t\t}\n\n\t\tthis.selectDate.emit(DateHelper.updateDate(selectedDate, day.date));\n\t}\n\n\tprivate hasChanged(changes: SimpleChanges, prop: string): Boolean {\n\t\tconst current = get(changes, `${prop}.currentValue`);\n\t\tconst previous = get(changes, `${prop}.previousValue`);\n\t\tconst currentValue = current instanceof Date ? current.valueOf() : 0;\n\t\tconst previousValue = previous instanceof Date ? previous.valueOf() : 0;\n\n\t\treturn !!currentValue && currentValue !== previousValue;\n\t}\n\n\tprivate getCurrentDate(): number {\n\t\tconst current = new Date();\n\t\tconst monthHasChanged = !DateHelper.datesAreEqual(\n\t\t\t[this.activeDate, current],\n\t\t\t['M', 'Y']\n\t\t);\n\n\t\treturn monthHasChanged ? -1 : current.getDate();\n\t}\n\n\tprivate dayIsAvailable(day: Day, range: DateRangeMap): Boolean {\n\t\tlet dateRange = range.current;\n\n\t\tif (day.padding) {\n\t\t\tdateRange = day.date > 20 ? range.before : range.after;\n\t\t}\n\n\t\treturn dateRange.indexOf(day.date) < 0;\n\t}\n}\n","import {\n\tComponent,\n\tInject,\n\tInput,\n\tOutput,\n\tEventEmitter,\n\tChangeDetectionStrategy,\n\tOnChanges,\n\tSimpleChanges\n} from '@angular/core';\nimport { get, chunk } from 'lodash-es';\n\nimport { DateHelper } from '@acpaas-ui/js-date-utils';\n\nimport { CALENDAR_MONTH_LABELS, CALENDAR_DEFAULT_MONTH_LABELS } from '../../calendar.conf';\nimport { MonthLabelsConfig } from '../../types/calendar.types';\n\n@Component({\n\tselector: 'aui-calendar-year',\n\ttemplate: `<table>\n    <tbody class=\"m-datepicker__calendar\">\n        <tr *ngFor=\"let group of months\">\n            <td *ngFor=\"let month of group\">\n                <button tabindex=\"0\" type=\"button\" [ngClass]=\"{\n                    'is-current': month === current,\n                    'is-selected': month === monthLabels[selectedMonth]\n                }\" (click)=\"pickDate($event, month)\">\n                    {{ month | titlecase }}\n                </button>\n            </td>\n        </tr>\n    </tbody>\n</table>\n`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class CalendarYearComponent implements OnChanges {\n\t@Input() selectedDate: Date;\n\t@Input() activeDate: Date;\n\t@Input() monthLabels: MonthLabelsConfig = CALENDAR_DEFAULT_MONTH_LABELS;\n\t@Output() selectDate = new EventEmitter();\n\n\tpublic selectedMonth = -1;\n\tpublic current = '';\n\tpublic months: Array<string[]> = [];\n\n\tconstructor(\n\t\t@Inject(CALENDAR_MONTH_LABELS) public moduleMonthLabels = CALENDAR_DEFAULT_MONTH_LABELS\n\t) {}\n\n\tngOnChanges(changes: SimpleChanges) {\n\t\tconst currentValue = get(changes, 'activeDate.currentValue');\n\t\tconst currentYear = currentValue instanceof Date ? currentValue.getFullYear() : -1;\n\t\tconst selectedMonthChanged = this.selectedDate && this.selectedDate.getFullYear() === this.activeDate.getFullYear();\n\t\tconst current = new Date();\n\n\t\tthis.current = currentYear === current.getFullYear() ? this.monthLabels[current.getMonth()] : '';\n\n\t\tthis.selectedMonth = selectedMonthChanged ? this.selectedDate.getMonth() : -1;\n\n\t\tif (changes.monthLabels) {\n\t\t\tthis.monthLabels = this.monthLabels || this.moduleMonthLabels;\n\t\t\tthis.months = chunk(this.monthLabels, 4);\n\t\t}\n\t}\n\n\tpickDate(event: MouseEvent, date: string) {\n\t\tevent.stopPropagation();\n\n\t\tlet selectedDate = new Date(this.activeDate);\n\t\tselectedDate = DateHelper.updateMonth(selectedDate, this.monthLabels.indexOf(date));\n\n\t\tthis.selectDate.emit(selectedDate);\n\t}\n}\n","import { CalendarComponent } from './calendar/calendar.component';\nimport { CalendarDecenniaComponent } from './decennia/decennia.component';\nimport { CalendarMonthComponent } from './month/month.component';\nimport { CalendarYearComponent } from './year/year.component';\n\nexport {\n\tCalendarComponent,\n\tCalendarDecenniaComponent,\n\tCalendarMonthComponent,\n\tCalendarYearComponent,\n};\n\nexport const Components = [\n\tCalendarComponent,\n\tCalendarDecenniaComponent,\n\tCalendarMonthComponent,\n\tCalendarYearComponent,\n];\n","import { CalendarService } from './calendar.service';\n\nexport const Services = [\n\tCalendarService,\n];\n","// replace with common titlecase pipe in angular 4, mind the regex with special characters (e.g. Ã©)\n\nimport { Pipe, PipeTransform } from '@angular/core';\n\n/**\n * Helper method to transform a single word to titlecase.\n *\n * @stable\n */\nfunction titleCaseWord(word: string) {\n  if (!word) {\n\t  return word;\n  }\n\n  return word[0].toUpperCase() + word.substr(1).toLowerCase();\n}\n\n/**\n * Transforms text to titlecase.\n *\n * @stable\n */\n@Pipe({name: 'titlecase'})\nexport class TitleCasePipe implements PipeTransform {\n  transform(value: string): string {\n\tif (!value || typeof value !== 'string') {\n\t\treturn value;\n\t}\n\n\treturn value.split(/\\s/g).map(word => titleCaseWord(word)).join(' ');\n  }\n}\n","import { TitleCasePipe } from './title-case.pipe';\n\nexport const Pipes = [\n\tTitleCasePipe,\n];\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { Components } from './components/index';\nimport { Services } from './services/index';\nimport { Pipes } from './pipes/index';\n\nimport {\n\tCALENDAR_WEEKDAY_LABELS,\n\tCALENDAR_DEFAULT_WEEKDAY_LABELS,\n\tCALENDAR_MONTH_LABELS,\n\tCALENDAR_DEFAULT_MONTH_LABELS\n} from './calendar.conf';\nimport { WeekdayLabelsConfig, MonthLabelsConfig } from './types/calendar.types';\nimport { CalendarService } from './services/calendar.service';\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t],\n\tdeclarations: [\n\t\tComponents,\n\t\tPipes,\n\t],\n\texports: [\n\t\tComponents,\n\t\tPipes,\n\t],\n\tproviders: [\n\t\tServices,\n\t\t{ provide: CALENDAR_WEEKDAY_LABELS, useValue: CALENDAR_DEFAULT_WEEKDAY_LABELS },\n\t\t{ provide: CALENDAR_MONTH_LABELS, useValue: CALENDAR_DEFAULT_MONTH_LABELS },\n\t],\n})\nexport class CalendarModule {\n\tstatic forChild(\n\t\tweekdayLabels: WeekdayLabelsConfig,\n\t\tmonthLabels: MonthLabelsConfig\n\t): ModuleWithProviders {\n\t\treturn {\n\t\t\tngModule: CalendarModule,\n\t\t\tproviders: [\n\t\t\t\tCalendarService,\n\t\t\t\t{ provide: CALENDAR_WEEKDAY_LABELS, useValue: weekdayLabels },\n\t\t\t\t{ provide: CALENDAR_MONTH_LABELS, useValue: monthLabels },\n\t\t\t],\n\t\t};\n\t}\n}\n"]}