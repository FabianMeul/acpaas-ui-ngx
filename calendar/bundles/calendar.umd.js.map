{"version":3,"file":"calendar.umd.js.map","sources":["ng://calendar/lib/calendar/types/calendar.types.ts",null,"ng://calendar/lib/calendar/services/calendar.service.ts","ng://calendar/lib/calendar/calendar.conf.ts","ng://calendar/lib/calendar/components/calendar/calendar.component.ts","ng://calendar/lib/calendar/components/decennia/decennia.component.ts","ng://calendar/lib/calendar/components/month/month.component.ts","ng://calendar/lib/calendar/components/year/year.component.ts","ng://calendar/lib/calendar/components/index.ts","ng://calendar/lib/calendar/services/index.ts","ng://calendar/lib/calendar/pipes/title-case.pipe.ts","ng://calendar/lib/calendar/pipes/index.ts","ng://calendar/lib/calendar/calendar.module.ts"],"sourcesContent":["import { DateRange } from '@acpaas-ui/js-date-utils';\n\nexport const CALENDAR_VIEW_MONTH = 'CALENDAR_VIEW_MONTH';\nexport const CALENDAR_VIEW_YEAR = 'CALENDAR_VIEW_YEAR';\nexport const CALENDAR_VIEW_DECENNIA = 'CALENDAR_VIEW_DECENNIA';\n\nexport type WeekdayLabelsConfig = string[];\nexport type MonthLabelsConfig = string[];\n\nexport interface DatepickerResult {\n\tdate: Date;\n\tcomplete: Boolean;\n}\n\nexport interface DateRangeMap {\n\tbefore: number[];\n\tcurrent: number[];\n\tafter: number[];\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator.throw(value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { DateGenerator, DateHelper, Day, Month, DateRange } from '@acpaas-ui/js-date-utils';\n\nimport { DateRangeMap } from '../types/calendar.types';\n\nexport interface MonthMap {\n\t[key: number]: Month;\n}\n\n@Injectable()\nexport class CalendarService {\n\tpublic months: MonthMap = {};\n\tprivate currentYear: number;\n\n\tgetMonth(month: number, year?: number): Month {\n\t\tif (year) {\n\t\t\tif (this.currentYear !== year) {\n\t\t\t\tthis.months = {};\n\t\t\t}\n\n\t\t\tthis.currentYear = year;\n\t\t}\n\n\t\tif (this.months.hasOwnProperty(month)) {\n\t\t\treturn [...this.months[month]];\n\t\t}\n\n\t\tconst date = new Date();\n\t\tdate.setMonth(month, 1);\n\n\t\tif (year) {\n\t\t\tdate.setFullYear(year);\n\t\t}\n\n\t\tconst generatedMonth = DateGenerator.generateMonth(date, { startOfWeek: 1, padding: true, generatePadding: true });\n\n\t\tthis.months[month] = generatedMonth;\n\n\t\treturn [...generatedMonth];\n\t}\n\n\tgetMonthForDate(date: Date): Month {\n\t\treturn this.getMonth(date.getMonth(), date.getFullYear());\n\t}\n\n\tgetRangeForDate(date: Date, range: DateRange): number[] {\n\t\treturn DateGenerator.generateRange(date, range, { startOfWeek: 1 });\n\t}\n\n\tgetRangesForDate(date: Date, range: DateRange): DateRangeMap {\n\t\tconst rangeOptions = { startOfWeek: 1 };\n\t\tconst before = DateHelper.updateMonth(date, date.getMonth() - 1);\n\t\tconst after = DateHelper.updateMonth(date, date.getMonth() + 1);\n\n\t\treturn {\n\t\t\tbefore: DateGenerator.generateRange(before, range, rangeOptions),\n\t\t\tcurrent: DateGenerator.generateRange(date, range, rangeOptions),\n\t\t\tafter: DateGenerator.generateRange(after, range, rangeOptions),\n\t\t};\n\t}\n\n\tgetClosestDateForRange(date: Date = new Date(), range: DateRange): Date {\n\t\tconst dateRange = this.getRangeForDate(date, range);\n\n\t\tif (DateHelper.dateOutOfRange(date, dateRange)) {\n\t\t\treturn date;\n\t\t}\n\n\t\treturn DateHelper.closestDateForRange(date, dateRange);\n\t}\n}\n","import { InjectionToken } from '@angular/core';\nimport { WeekdayLabelsConfig, MonthLabelsConfig } from './types/calendar.types';\n\nexport const CALENDAR_DEFAULT_WEEKDAY_LABELS = [\n\t'Mon',\n\t'Tue',\n\t'Wed',\n\t'Thu',\n\t'Fri',\n\t'Sat',\n\t'Sun',\n];\n\nexport const CALENDAR_DEFAULT_MONTH_LABELS = [\n\t'January',\n\t'February',\n\t'March',\n\t'April',\n\t'May',\n\t'June',\n\t'July',\n\t'August',\n\t'September',\n\t'October',\n\t'November',\n\t'December',\n];\n\nexport const CALENDAR_WEEKDAY_LABELS = new InjectionToken<WeekdayLabelsConfig>('weekdayLabels');\nexport const CALENDAR_MONTH_LABELS = new InjectionToken<MonthLabelsConfig>('monthLabels');\n","import {\n\tComponent,\n\tInject,\n\tInput,\n\tOutput,\n\tEventEmitter,\n\tChangeDetectionStrategy,\n\tOnInit,\n\tOnChanges,\n\tSimpleChanges\n} from '@angular/core';\n\nimport { DateRange, DateHelper } from '@acpaas-ui/js-date-utils';\n\nimport {\n\tCALENDAR_MONTH_LABELS,\n\tCALENDAR_DEFAULT_MONTH_LABELS,\n\tCALENDAR_WEEKDAY_LABELS,\n\tCALENDAR_DEFAULT_WEEKDAY_LABELS\n} from '../../calendar.conf';\nimport {\n\tWeekdayLabelsConfig,\n\tMonthLabelsConfig,\n\tCALENDAR_VIEW_MONTH,\n\tCALENDAR_VIEW_YEAR,\n\tCALENDAR_VIEW_DECENNIA\n} from '../../types/calendar.types';\nimport { CalendarService } from '../../services/calendar.service';\n\n@Component({\n\tselector: 'aui-calendar',\n\ttemplate: `<div class=\"m-datepicker__nav\">\n    <button tabindex=\"-1\" type=\"button\" aria-label=\"vorige maand\" class=\"a-button has-icon\" (click)=\"updateActiveDate(-1)\">\n        <i class=\"fa fa-angle-left\"></i>\n    </button>\n\n    <button tabindex=\"0\" type=\"button\" class=\"m-datepicker__title a-button\" (click)=\"switchView()\">\n        {{ headerLabel | titlecase }}\n    </button>\n\n    <button tabindex=\"0\" type=\"button\" aria-label=\"volgende maand\" class=\"a-button has-icon\" (click)=\"updateActiveDate(1)\">\n        <i class=\"fa fa-angle-right\"></i>\n    </button>\n</div>\n\n<aui-calendar-month\n    *ngIf=\"activeView === CALENDAR_VIEW_MONTH\"\n    [selectedDate]=\"selectedDate\"\n    [activeDate]=\"activeDate\"\n    [range]=\"range\"\n    [weekdayLabels]=\"weekdayLabels\"\n    (selectDate)=\"pickDate($event)\"\n></aui-calendar-month>\n<aui-calendar-year\n    *ngIf=\"activeView === CALENDAR_VIEW_YEAR\"\n    [selectedDate]=\"selectedDate\"\n    [activeDate]=\"activeDate\"\n    [monthLabels]=\"monthLabels\"\n    (selectDate)=\"pickDate($event)\"\n></aui-calendar-year>\n<aui-calendar-decennia\n    *ngIf=\"activeView === CALENDAR_VIEW_DECENNIA\"\n    [selectedDate]=\"selectedDate\"\n    [activeDate]=\"activeDate\"\n    (selectDate)=\"pickDate($event)\"\n></aui-calendar-decennia>\n`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class CalendarComponent implements OnInit, OnChanges {\n\t@Input() selectedDate: Date;\n\t@Input() range: DateRange;\n\t@Input() weekdayLabels: WeekdayLabelsConfig;\n\t@Input() monthLabels: MonthLabelsConfig;\n\t@Output() selectDate = new EventEmitter();\n\n\tpublic CALENDAR_VIEW_MONTH = CALENDAR_VIEW_MONTH;\n\tpublic CALENDAR_VIEW_YEAR = CALENDAR_VIEW_YEAR;\n\tpublic CALENDAR_VIEW_DECENNIA = CALENDAR_VIEW_DECENNIA;\n\tpublic activeDate: Date;\n\tpublic activeView: string = CALENDAR_VIEW_MONTH;\n\tpublic headerLabel = '';\n\n\tconstructor(\n\t\t@Inject(CALENDAR_MONTH_LABELS) public moduleMonthLabels = CALENDAR_DEFAULT_MONTH_LABELS,\n\t\t@Inject(CALENDAR_WEEKDAY_LABELS) public moduleWeekdayLabels = CALENDAR_DEFAULT_WEEKDAY_LABELS,\n\t\tprivate calendarService: CalendarService\n\t) {}\n\n\tngOnInit() {\n\t\tthis.weekdayLabels = this.weekdayLabels || this.moduleWeekdayLabels;\n\t\tthis.monthLabels = this.monthLabels || this.moduleMonthLabels;\n\t\tthis.activeDate = this.calendarService.getClosestDateForRange(this.activeDate, this.range);\n\t\tthis.updateHeaderLabel();\n\t}\n\n\tngOnChanges(changes: SimpleChanges) {\n\t\tconst selectedDate = changes.selectedDate && changes.selectedDate.currentValue ? changes.selectedDate : null;\n\n\t\tif (\n\t\t\ttypeof this.monthLabels !== 'undefined' &&\n\t\t\tselectedDate &&\n\t\t\t!DateHelper.datesAreEqual(selectedDate.currentValue, selectedDate.previousValue)\n\t\t) {\n\t\t\tthis.activeDate = this.selectedDate;\n\t\t\tthis.updateHeaderLabel();\n\t\t}\n\t}\n\n\tupdateActiveDate(factor: number = 0): void {\n\t\tif (factor === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst activeDate = this.activeDate ? new Date(this.activeDate) : new Date();\n\n\t\tswitch (this.activeView) {\n\t\t\tcase CALENDAR_VIEW_MONTH:\n\t\t\t\tactiveDate.setMonth(activeDate.getMonth() + factor);\n\t\t\t\tbreak;\n\t\t\tcase CALENDAR_VIEW_YEAR:\n\t\t\t\tactiveDate.setFullYear(activeDate.getFullYear() + factor);\n\t\t\t\tbreak;\n\t\t\tcase CALENDAR_VIEW_DECENNIA:\n\t\t\t\tactiveDate.setFullYear(activeDate.getFullYear() + (12 * factor));\n\t\t\t\tbreak;\n\t\t}\n\n\t\tthis.activeDate = activeDate;\n\t\tthis.updateHeaderLabel();\n\t}\n\n\tswitchView(factor: number = 1): void {\n\t\tconst views = [CALENDAR_VIEW_MONTH, CALENDAR_VIEW_YEAR, CALENDAR_VIEW_DECENNIA];\n\n\t\tconst currView = views.indexOf(this.activeView);\n\t\tlet nextView = (currView + factor) >= views.length ? 0 : currView + factor;\n\t\tnextView = nextView < 0 ? views.length - 1 : nextView;\n\n\t\tthis.activeView = views[nextView];\n\n\t\t// reset activeDate when returning to month view without model update\n\t\tif (this.selectedDate && nextView === 0 && factor === 1) {\n\t\t\tthis.activeDate = this.selectedDate;\n\t\t}\n\n\t\tthis.updateHeaderLabel();\n\t}\n\n\tupdateHeaderLabel(): void {\n\t\tswitch (this.activeView) {\n\t\t\tcase CALENDAR_VIEW_MONTH:\n\t\t\t\tthis.headerLabel = this.monthLabels[this.activeDate.getMonth()] + ' ' + this.activeDate.getFullYear();\n\t\t\t\tbreak;\n\t\t\tcase CALENDAR_VIEW_YEAR:\n\t\t\t\tthis.headerLabel = String(this.activeDate.getFullYear());\n\t\t\t\tbreak;\n\t\t\tcase CALENDAR_VIEW_DECENNIA:\n\t\t\t\tconst startYear = this.activeDate.getFullYear();\n\t\t\t\tthis.headerLabel = `${startYear} - ${startYear + 11}`;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tpickDate(date: Date): void {\n\t\tconst complete = this.activeView === CALENDAR_VIEW_MONTH;\n\n\t\tthis.selectDate.emit({\n\t\t\tdate: date,\n\t\t\tcomplete: complete,\n\t\t});\n\n\t\tif (!complete) {\n\t\t\tthis.switchView(-1);\n\t\t}\n\t}\n}\n","import {\n\tComponent,\n\tInput,\n\tOutput,\n\tEventEmitter,\n\tChangeDetectionStrategy,\n\tOnInit,\n\tOnChanges,\n\tSimpleChanges\n} from '@angular/core';\nimport { get, chunk } from 'lodash-es';\n\n@Component({\n\tselector: 'aui-calendar-decennia',\n\ttemplate: `<table>\n    <tbody class=\"m-datepicker__calendar\">\n        <tr *ngFor=\"let group of years\">\n            <td *ngFor=\"let year of group\">\n                <button tabindex=\"0\" type=\"button\" [ngClass]=\"{\n                    'is-current': year === current,\n                    'is-selected': year === selectedYear\n                }\" (click)=\"pickDate($event, year)\">\n                    {{ year }}\n                </button>\n            </td>\n        </tr>\n    </tbody>\n</table>\n`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class CalendarDecenniaComponent implements OnInit, OnChanges {\n\t@Input() selectedDate: Date;\n\t@Input() activeDate: Date;\n\t@Output() selectDate = new EventEmitter();\n\n\tpublic years = [];\n\tpublic selectedYear = -1;\n\tpublic current = -1;\n\n\tngOnInit() {\n\t\tconst current = new Date();\n\t\tthis.current = current.getFullYear();\n\t}\n\n\tngOnChanges(changes: SimpleChanges) {\n\t\tconst currentValue = get(changes, 'activeDate.currentValue');\n\t\tconst previousValue = get(changes, 'activeDate.previousValue');\n\t\tconst currentYear = currentValue instanceof Date ? currentValue.getFullYear() : -1;\n\t\tconst previousYear = previousValue instanceof Date ? previousValue.getFullYear() : -1;\n\t\tconst outOfRange = previousYear > currentYear || previousYear + 11 < currentYear;\n\n\t\tif (currentYear >= 0 && outOfRange) {\n\t\t\tthis.updateYears();\n\t\t}\n\n\t\tthis.selectedYear = this.selectedDate instanceof Date ? this.selectedDate.getFullYear() : -1;\n\t}\n\n\tpickDate(event: MouseEvent, date: number) {\n\t\tevent.stopPropagation();\n\n\t\tconst selectedDate = new Date(this.activeDate);\n\t\tselectedDate.setFullYear(date);\n\n\t\tthis.selectDate.emit(selectedDate);\n\t}\n\n\tprivate updateYears(): void {\n\t\tconst years = [];\n\t\tconst activeYear = this.activeDate.getFullYear();\n\n\t\tfor (let i = activeYear; i < activeYear + 12; i += 1) {\n\t\t\tyears.push(i);\n\t\t}\n\n\t\tthis.years = chunk(years, 4);\n\t}\n}\n","import {\n\tComponent,\n\tInject,\n\tInput,\n\tOutput,\n\tEventEmitter,\n\tChangeDetectionStrategy,\n\tOnInit,\n\tOnChanges,\n\tSimpleChanges\n} from '@angular/core';\nimport { get } from 'lodash-es';\nimport { Day, Month, DateRange, DateHelper } from '@acpaas-ui/js-date-utils';\n\nimport { CALENDAR_WEEKDAY_LABELS, CALENDAR_DEFAULT_WEEKDAY_LABELS } from '../../calendar.conf';\nimport { CalendarService } from '../../services/calendar.service';\nimport { DateRangeMap, WeekdayLabelsConfig } from '../../types/calendar.types';\n\n@Component({\n\tselector: 'aui-calendar-month',\n\ttemplate: `<table>\n    <thead>\n        <tr class=\"m-datepicker__days\">\n            <th *ngFor=\"let day of weekdayLabels\" title={{day}}>{{ day | slice:0:2 | titlecase }}</th>\n        </tr>\n    </thead>\n\n    <tbody class=\"m-datepicker__calendar\">\n        <tr *ngFor=\"let week of dates\">\n            <td *ngFor=\"let day of week\">\n                <button\n                    tabindex=\"0\"\n                    type=\"button\"\n                    [ngClass]=\"{\n                        'is-faded': !day.date || day.padding,\n                        'is-selected': !day.padding && day.date === selectedDay,\n                        'is-current': !day.padding && day.date === current\n                    }\"\n                    (click)=\"pickDate($event, day)\"\n                    [disabled]=\"!day.available\"\n                >{{ day.date }}</button>\n            </td>\n        </tr>\n    </tbody>\n</table>\n`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class CalendarMonthComponent implements OnInit, OnChanges {\n\t@Input() selectedDate: Date;\n\t@Input() activeDate: Date;\n\t@Input() range: DateRange;\n\t@Input() weekdayLabels: WeekdayLabelsConfig = CALENDAR_DEFAULT_WEEKDAY_LABELS;\n\t@Output() selectDate = new EventEmitter();\n\n\tpublic dates: Month = [];\n\tpublic selectedDay = -1;\n\tpublic current: number;\n\n\tconstructor(\n\t\t@Inject(CALENDAR_WEEKDAY_LABELS) private moduleWeekdayLabels = CALENDAR_DEFAULT_WEEKDAY_LABELS,\n\t\tprivate calendarService: CalendarService\n\t) {}\n\n\tngOnInit() {\n\t\tthis.weekdayLabels = this.weekdayLabels || this.moduleWeekdayLabels;\n\t}\n\n\tngOnChanges(changes: SimpleChanges) {\n\t\tconst selectedDateChanged = this.hasChanged(changes, 'selectedDate');\n\t\tconst activeDateChanged = this.hasChanged(changes, 'activeDate');\n\t\tconst monthChanged = activeDateChanged && !DateHelper.datesAreEqual([\n\t\t\tchanges.activeDate.currentValue,\n\t\t\tchanges.activeDate.previousValue,\n\t\t], 'M');\n\t\tconst selectedDayChanged = this.selectedDate && this.activeDate.getMonth() === this.selectedDate.getMonth();\n\n\t\tthis.current = this.getCurrentDate();\n\t\tthis.selectedDay = selectedDayChanged ? this.selectedDate.getDate() : -1;\n\n\t\tlet newDates = [];\n\n\t\tif (selectedDateChanged) {\n\t\t\tnewDates = this.calendarService.getMonthForDate(this.selectedDate);\n\t\t} else if (activeDateChanged && monthChanged) {\n\t\t\tnewDates = this.calendarService.getMonthForDate(this.activeDate);\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\n\t\tconst range = this.calendarService.getRangesForDate(this.activeDate, this.range);\n\n\t\tthis.dates = newDates.map(week => week.map(day => ({...day, available: this.dayIsAvailable(day, range) })));\n\t}\n\n\tpickDate(event: MouseEvent, day: Day): void {\n\t\tevent.stopPropagation(); // Stop propagation so the modal doesn't close\n\n\t\tlet selectedDate = new Date(this.activeDate);\n\n\t\tif (day.padding) {\n\t\t\tconst month = day.date > 20 ? -1 : 1;\n\t\t\tselectedDate = DateHelper.updateMonth(selectedDate, selectedDate.getMonth() + month);\n\t\t}\n\n\t\tthis.selectDate.emit(DateHelper.updateDate(selectedDate, day.date));\n\t}\n\n\tprivate hasChanged(changes: SimpleChanges, prop: string): Boolean {\n\t\tconst current = get(changes, `${prop}.currentValue`);\n\t\tconst previous = get(changes, `${prop}.previousValue`);\n\t\tconst currentValue = current instanceof Date ? current.valueOf() : 0;\n\t\tconst previousValue = previous instanceof Date ? previous.valueOf() : 0;\n\n\t\treturn !!currentValue && currentValue !== previousValue;\n\t}\n\n\tprivate getCurrentDate(): number {\n\t\tconst current = new Date();\n\t\tconst monthHasChanged = !DateHelper.datesAreEqual(\n\t\t\t[this.activeDate, current],\n\t\t\t['M', 'Y']\n\t\t);\n\n\t\treturn monthHasChanged ? -1 : current.getDate();\n\t}\n\n\tprivate dayIsAvailable(day: Day, range: DateRangeMap): Boolean {\n\t\tlet dateRange = range.current;\n\n\t\tif (day.padding) {\n\t\t\tdateRange = day.date > 20 ? range.before : range.after;\n\t\t}\n\n\t\treturn dateRange.indexOf(day.date) < 0;\n\t}\n}\n","import {\n\tComponent,\n\tInject,\n\tInput,\n\tOutput,\n\tEventEmitter,\n\tChangeDetectionStrategy,\n\tOnChanges,\n\tSimpleChanges\n} from '@angular/core';\nimport { get, chunk } from 'lodash-es';\n\nimport { DateHelper } from '@acpaas-ui/js-date-utils';\n\nimport { CALENDAR_MONTH_LABELS, CALENDAR_DEFAULT_MONTH_LABELS } from '../../calendar.conf';\nimport { MonthLabelsConfig } from '../../types/calendar.types';\n\n@Component({\n\tselector: 'aui-calendar-year',\n\ttemplate: `<table>\n    <tbody class=\"m-datepicker__calendar\">\n        <tr *ngFor=\"let group of months\">\n            <td *ngFor=\"let month of group\">\n                <button tabindex=\"0\" type=\"button\" [ngClass]=\"{\n                    'is-current': month === current,\n                    'is-selected': month === monthLabels[selectedMonth]\n                }\" (click)=\"pickDate($event, month)\">\n                    {{ month | titlecase }}\n                </button>\n            </td>\n        </tr>\n    </tbody>\n</table>\n`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class CalendarYearComponent implements OnChanges {\n\t@Input() selectedDate: Date;\n\t@Input() activeDate: Date;\n\t@Input() monthLabels: MonthLabelsConfig = CALENDAR_DEFAULT_MONTH_LABELS;\n\t@Output() selectDate = new EventEmitter();\n\n\tpublic selectedMonth = -1;\n\tpublic current = '';\n\tpublic months: Array<string[]> = [];\n\n\tconstructor(\n\t\t@Inject(CALENDAR_MONTH_LABELS) public moduleMonthLabels = CALENDAR_DEFAULT_MONTH_LABELS\n\t) {}\n\n\tngOnChanges(changes: SimpleChanges) {\n\t\tconst currentValue = get(changes, 'activeDate.currentValue');\n\t\tconst currentYear = currentValue instanceof Date ? currentValue.getFullYear() : -1;\n\t\tconst selectedMonthChanged = this.selectedDate && this.selectedDate.getFullYear() === this.activeDate.getFullYear();\n\t\tconst current = new Date();\n\n\t\tthis.current = currentYear === current.getFullYear() ? this.monthLabels[current.getMonth()] : '';\n\n\t\tthis.selectedMonth = selectedMonthChanged ? this.selectedDate.getMonth() : -1;\n\n\t\tif (changes.monthLabels) {\n\t\t\tthis.monthLabels = this.monthLabels || this.moduleMonthLabels;\n\t\t\tthis.months = chunk(this.monthLabels, 4);\n\t\t}\n\t}\n\n\tpickDate(event: MouseEvent, date: string) {\n\t\tevent.stopPropagation();\n\n\t\tlet selectedDate = new Date(this.activeDate);\n\t\tselectedDate = DateHelper.updateMonth(selectedDate, this.monthLabels.indexOf(date));\n\n\t\tthis.selectDate.emit(selectedDate);\n\t}\n}\n","import { CalendarComponent } from './calendar/calendar.component';\nimport { CalendarDecenniaComponent } from './decennia/decennia.component';\nimport { CalendarMonthComponent } from './month/month.component';\nimport { CalendarYearComponent } from './year/year.component';\n\nexport {\n\tCalendarComponent,\n\tCalendarDecenniaComponent,\n\tCalendarMonthComponent,\n\tCalendarYearComponent,\n};\n\nexport const Components = [\n\tCalendarComponent,\n\tCalendarDecenniaComponent,\n\tCalendarMonthComponent,\n\tCalendarYearComponent,\n];\n","import { CalendarService } from './calendar.service';\n\nexport const Services = [\n\tCalendarService,\n];\n","// replace with common titlecase pipe in angular 4, mind the regex with special characters (e.g. Ã©)\n\nimport { Pipe, PipeTransform } from '@angular/core';\n\n/**\n * Helper method to transform a single word to titlecase.\n *\n * @stable\n */\nfunction titleCaseWord(word: string) {\n  if (!word) {\n\t  return word;\n  }\n\n  return word[0].toUpperCase() + word.substr(1).toLowerCase();\n}\n\n/**\n * Transforms text to titlecase.\n *\n * @stable\n */\n@Pipe({name: 'titlecase'})\nexport class TitleCasePipe implements PipeTransform {\n  transform(value: string): string {\n\tif (!value || typeof value !== 'string') {\n\t\treturn value;\n\t}\n\n\treturn value.split(/\\s/g).map(word => titleCaseWord(word)).join(' ');\n  }\n}\n","import { TitleCasePipe } from './title-case.pipe';\n\nexport const Pipes = [\n\tTitleCasePipe,\n];\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { Components } from './components/index';\nimport { Services } from './services/index';\nimport { Pipes } from './pipes/index';\n\nimport {\n\tCALENDAR_WEEKDAY_LABELS,\n\tCALENDAR_DEFAULT_WEEKDAY_LABELS,\n\tCALENDAR_MONTH_LABELS,\n\tCALENDAR_DEFAULT_MONTH_LABELS\n} from './calendar.conf';\nimport { WeekdayLabelsConfig, MonthLabelsConfig } from './types/calendar.types';\nimport { CalendarService } from './services/calendar.service';\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t],\n\tdeclarations: [\n\t\tComponents,\n\t\tPipes,\n\t],\n\texports: [\n\t\tComponents,\n\t\tPipes,\n\t],\n\tproviders: [\n\t\tServices,\n\t\t{ provide: CALENDAR_WEEKDAY_LABELS, useValue: CALENDAR_DEFAULT_WEEKDAY_LABELS },\n\t\t{ provide: CALENDAR_MONTH_LABELS, useValue: CALENDAR_DEFAULT_MONTH_LABELS },\n\t],\n})\nexport class CalendarModule {\n\tstatic forChild(\n\t\tweekdayLabels: WeekdayLabelsConfig,\n\t\tmonthLabels: MonthLabelsConfig\n\t): ModuleWithProviders {\n\t\treturn {\n\t\t\tngModule: CalendarModule,\n\t\t\tproviders: [\n\t\t\t\tCalendarService,\n\t\t\t\t{ provide: CALENDAR_WEEKDAY_LABELS, useValue: weekdayLabels },\n\t\t\t\t{ provide: CALENDAR_MONTH_LABELS, useValue: monthLabels },\n\t\t\t],\n\t\t};\n\t}\n}\n"],"names":["DateGenerator","DateHelper","Injectable","InjectionToken","EventEmitter","Component","ChangeDetectionStrategy","Inject","Input","Output","get","chunk","Pipe","NgModule","CommonModule"],"mappings":"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"}
