!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs/observable/timer"),require("rxjs/Subject"),require("rxjs/operators"),require("@acpaas-ui/js-date-utils"),require("hammerjs"),require("@angular/platform-browser"),require("@angular/common")):"function"==typeof define&&define.amd?define("agenda",["exports","@angular/core","rxjs/observable/timer","rxjs/Subject","rxjs/operators","@acpaas-ui/js-date-utils","hammerjs","@angular/platform-browser","@angular/common"],e):e(t.agenda={},t.ng.core,t.rxjs["observable/timer"],t.rxjs.Subject,t.rxjs.operators,null,null,t.ng.platformBrowser,t.ng.common)}(this,function(t,n,a,i,s,l,o,r,e){"use strict";var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Firday","Saturday"],p=["January","February","March","April","May","June","July","August","September","October","November","December"],u="more",h=new n.InjectionToken("weekdayLabels"),g=new n.InjectionToken("monthLabels"),d=new n.InjectionToken("moreLabel"),v=function(){function t(t){void 0===t&&(t=p),this.monthLabels=t}return t.prototype.transform=function(t){var e=parseInt(t,10);if(isNaN(e))return null;var n=(e-1).toString();return this.monthLabels[n.toString()]||p[n.toString()]},t.decorators=[{type:n.Pipe,args:[{name:"monthPipe"}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:n.Inject,args:[g]}]}]},t}(),y=function(){function t(t){void 0===t&&(t=c),this.weekdayLabels=t}return t.prototype.transform=function(t){return this.weekdayLabels[t.toString()]||c[t.toString()]},t.decorators=[{type:n.Pipe,args:[{name:"weekdayPipe"}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:n.Inject,args:[h]}]}]},t}(),f=[v,y],D={SUNDAY:0,MONDAY:1,TUESDAY:2,WEDNESDAY:3,THURSDAY:4,FRIDAY:5,SATURDAY:6};D[D.SUNDAY]="SUNDAY",D[D.MONDAY]="MONDAY",D[D.TUESDAY]="TUESDAY",D[D.WEDNESDAY]="WEDNESDAY",D[D.THURSDAY]="THURSDAY",D[D.FRIDAY]="FRIDAY",D[D.SATURDAY]="SATURDAY";var m={DAY:"DAY",WEEK:"WEEK",MONTH:"MONTH",YEAR:"YEAR"},w=function(){function t(){}return t.prototype.getDaysForMonth=function(t,e,n){void 0===n&&(n=null);for(var a=this.getFirstWeekDayOfMonth(t,e),o=this.getLastWeekDayOfMonth(t,e),r=this.dateDiff(a,o),i=[{date:a,highlights:this.getHighlights(n,a)}],s=0;s<r;s+=1){var l=this.getNextDay(i[s].date);i.push({highlights:this.getHighlights(n,l),date:l})}return i},t.prototype.getHighlights=function(e,n){var a=this;return e?Object.keys(e).filter(function(t){return a.inRange(e[t],n)}).join(" "):""},t.prototype.inRange=function(t,n){var a=this;return t.some(function(t){if(Array.isArray(t))return-1!==t.indexOf(n.getDay());var e=new Date(t);return isNaN(e.getTime())?void 0:a.compareDates(e,n)})},t.prototype.getWeeksForMonth=function(n){var t=Math.round(n.length/7);return Array(t).fill(null).map(function(t,e){return n.slice(7*e,7*(e+1))})},t.prototype.getLastDateOfMonth=function(t){return new Date(t.getFullYear(),t.getMonth()+1,0)},t.prototype.moveToDayOfWeek=function(t,e,n){var a=(e-t.getDay()+7*(n||1))%7,o=0===a?a+=7*(n||1):a,r=new Date(t);return new Date(r.setDate(t.getDate()+1*o))},t.prototype.getFirstWeekDayOfMonth=function(t,e){var n=new Date(t.getFullYear(),t.getMonth(),1);return n.getDay()===Number(e)?n:this.moveToDayOfWeek(n,Number(e),-1)},t.prototype.getLastWeekDayOfMonth=function(t,e){var n=0===e?6:e-1,a=this.getLastDateOfMonth(t);return a.getDay()===n?a:this.moveToDayOfWeek(a,n,1)},t.prototype.getNextDay=function(t){var e=new Date(t);return e.setDate(t.getDate()+1),e},t.prototype.dateDiff=function(t,e){var n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),a=new Date(e.getFullYear(),e.getMonth(),e.getDate());return Math.round((a.getTime()-n.getTime())/864e5)},t.prototype.compareDates=function(t,e){var n=t.getFullYear(),a=t.getMonth(),o=t.getDate(),r=e.getFullYear(),i=e.getMonth(),s=e.getDate();return n===r&&a===i&&o===s},t.prototype.orderWeekDays=function(t){var e,n,a,o=[0,1,2,3,4,5,6];return t===D.SUNDAY?o:(n=7-t,a=(e=o).length,e.slice(a-n).concat(e.slice(0,a-n)))},t.decorators=[{type:n.Injectable}],t}(),M=function(){function t(t,e){this.elementRef=t,this.dateHelperService=e,this.views=m,this.startDayOfWeek=D.MONDAY,this.navigate=new n.EventEmitter,this.selectRange=new n.EventEmitter,this.selectDay=new n.EventEmitter,this.selectEvent=new n.EventEmitter,this.clickMore=new n.EventEmitter,this.weekdays=[1,2,3,4,5,6,0],this.today=this.getToday(),this.componentDestroyed$=new i.Subject}return t.prototype.ngOnInit=function(){this.watchAgendaSize()},t.prototype.ngOnChanges=function(t){t&&t.startDayOfWeek&&this.view===m.MONTH&&(this.weekdays=this.dateHelperService.orderWeekDays(t.startDayOfWeek.currentValue))},t.prototype.swipe=function(t){"touch"===t.pointerType&&("swipeleft"!==t.type?"swiperight"!==t.type||this.prevMonth():this.nextMonth())},t.prototype.ngOnDestroy=function(){this.componentDestroyed$.next(!0),this.componentDestroyed$.complete()},t.prototype.onNavigate=function(t){this.activeDate=new Date(t)},t.prototype.onDisplayRange=function(t){this.navigate.emit(t)},t.prototype.onSelectDay=function(t){this.selectDay.emit(t)},t.prototype.onSelectEvent=function(t){this.selectEvent.emit(t)},t.prototype.onClickMore=function(t){this.clickMore.emit(t)},t.prototype.getToday=function(){var t=new Date;return t.setHours(0,0,0,0),t},t.prototype.prevMonth=function(){var t=new Date(this.activeDate);this.onNavigate(new Date(t.getFullYear(),t.getMonth()-1,1))},t.prototype.nextMonth=function(){var t=new Date(this.activeDate);this.onNavigate(new Date(t.getFullYear(),t.getMonth()+1,1))},t.prototype.onSelectRange=function(t){this.selectRange.emit(t)},t.prototype.watchAgendaSize=function(){var t=this;this.agendaSize$=a.timer(0,250).pipe(s.takeUntil(this.componentDestroyed$),s.map(function(){return t.elementRef.nativeElement.offsetWidth}),s.distinctUntilChanged()).pipe(s.map(function(t){return 800<t?"o-agenda--big":"o-agenda--small"}))},t.decorators=[{type:n.Component,args:[{selector:"aui-agenda",template:'<div [ngClass]="agendaSize$ | async" class="o-agenda">\n\t<div class="o-agenda__inner">\n\t\t<aui-agenda-navigation\n\t\t\t[activeDate]="activeDate"\n\t\t\t[view]="view"\n\t\t\t[today]="today"\n\t\t\t(navigate)="onNavigate($event)"\n\t\t></aui-agenda-navigation>\n\n\t\t<aui-agenda-month-view\n\t\t\t*ngIf="view === views.MONTH"\n\t\t\t[activeDate]="activeDate"\n\t\t\t[weekdays]="weekdays"\n\t\t\t[startDayOfWeek]="startDayOfWeek"\n\t\t\t[events]="events"\n\t\t\t[highlights]="highlights"\n\t\t\t[eventItemTemplate]="monthEventItemTemplate"\n\t\t\t(selectDay)="onSelectDay($event)"\n\t\t\t(selectEvent)="onSelectEvent($event)"\n\t\t\t(clickMore)="onClickMore($event)"\n\t\t\t(selectRange)="onSelectRange($event)"\n\t\t\t(displayRange)="onDisplayRange($event)"\n\t\t\t(swipeleft)="swipe($event)"\n\t\t\t(swiperight)="swipe($event)"\n\t\t></aui-agenda-month-view>\n\t</div>\n</div>\n',styles:[":host{display:block;width:100%;height:100%}"],changeDetection:n.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[{type:n.ElementRef},{type:w}]},t.propDecorators={events:[{type:n.Input}],view:[{type:n.Input}],startDayOfWeek:[{type:n.Input}],activeDate:[{type:n.Input}],highlights:[{type:n.Input}],monthEventItemTemplate:[{type:n.Input}],navigate:[{type:n.Output}],selectRange:[{type:n.Output}],selectDay:[{type:n.Output}],selectEvent:[{type:n.Output}],clickMore:[{type:n.Output}]},t}(),S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};var E=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},b=function(){function t(t,e){this.initSlots(t,e)}return t.prototype.initSlots=function(t,e){this.slotMap=t.map(function(t){return t.map(function(t){return Object.assign({},t,{slots:Array(e).fill(null),events:[]})})})},t.prototype.fillSlot=function(t,e,n,a,o){if(void 0===a&&(a=1),void 0===o&&(o=null),o){this.slotMap[t][e].slots[n]={meta:{week:t,day:e,slot:n,span:a},event:o};for(var r=1;r<a;r+=1)this.fillSlot(t,e+r,n)}else this.slotMap[t][e].slots[n]=!0},t.prototype.isSlotFree=function(t,e,n){return null===this.slotMap[t][e].slots[n]},t.prototype.getFreeSlot=function(t,e){return this.slotMap[t][e].slots.findIndex(function(t){return null===t})},t.prototype.addEvent=function(t,e,n,a){if(a){this.slotMap[t][e].events.push(a);for(var o=1;o<n;o+=1)this.slotMap[t][e+o].events.push(a)}},t.prototype.getSlots=function(e,n,a){var o=1/this.slotMap[0].length*100,r=function(t){return t.reduce(function(t,e){return t.concat(Array.isArray(e)?r(e):e)},[])},t=this.slotMap.map(function(t){return t.map(function(t){return t.slots})});return r(t).filter(function(t){return null!==t&&!0!==t}).map(function(t){return E({},t,{display:{left:"calc("+o*t.meta.day+"% + 4px)",top:a+n*t.meta.week+t.meta.slot*e+"px",width:"calc("+o*t.meta.span+"% - 8px)"}})})},t.prototype.getEventsMap=function(e){return this.slotMap.map(function(t){return t.map(function(t){return Object.assign({},t,{total:t.events.length,more:t.events.length-e,dots:t.events.map(function(t){return t.color}).filter(function(t,e,n){return n.indexOf(t)===e}).slice(0,3)})})})},t}(),k=function(){function t(t){this.dateHelperService=t}return t.prototype.sortEvents=function(t){var o=this;return t.sort(function(t,e){var n=o.sortByDateHelper(t.startDate,e.startDate);if(0!==n)return n;var a=o.sortBySpanHelper(t.startDate,t.endDate,e.startDate,e.endDate);return 0!==a?a:o.sortByDateTimeHelper(t.startDate,e.startDate)})},t.prototype.sortByDateHelper=function(t,e){var n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),a=new Date(e.getFullYear(),e.getMonth(),e.getDate());return n<a?-1:a<n?1:0},t.prototype.sortByDateTimeHelper=function(t,e){return t<e?-1:e<t?1:0},t.prototype.sortBySpanHelper=function(t,e,n,a){var o=this.dateHelperService.dateDiff(t,e),r=this.dateHelperService.dateDiff(n,a);return r<o?-1:o<r?1:0},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:w}]},t}(),Y=function(){function t(t,e){this.dateHelperService=t,this.sortingService=e}return t.prototype.generateEventMap=function(t,o,e){var r=this,i=new Date(o[0][0].date),n=new Date(o[o.length-1][o[o.length-1].length-1].date),a=this.formatEvents(t),s=this.filterEvents(a,i,n),l=this.sortingService.sortEvents(s);return this.eventMap=new b(o,e),l.forEach(function(t){if(t.startDate<i)r.calculate(i,t.endDate,0,0,t,o);else for(var e=0;e<o.length;e+=1)for(var n=0;n<o[e].length;n+=1){var a=o[e][n].date;r.dateHelperService.compareDates(t.startDate,a)&&(r.calculate(t.startDate,t.endDate,e,n,t,o),n=o[e].length,e=o.length-1)}}),this.eventMap},t.prototype.formatEvents=function(t){return t.map(function(t){return Object.assign({},t,{startDate:new Date(t.startDate),endDate:new Date(t.endDate)})})},t.prototype.filterEvents=function(t,e,n){return t.filter(function(t){return new Date(t.endDate)>e&&new Date(t.startDate)<n})},t.prototype.calculate=function(t,e,n,a,o,r){var i=r[0].length,s=this.dateHelperService.dateDiff(t,e),l=s+1<=i-a?s+1:i-a,c=s-l+1;this.eventMap.addEvent(n,a,l,o);var p=this.eventMap.getFreeSlot(n,a);-1!==p&&this.eventMap.fillSlot(n,a,p,l,o),1<c&&n+1<r.length&&this.calculate(r[n+1][0].date,e,n+1,0,o,r)},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:w},{type:k}]},t}(),O=function(){function t(t,e){this.monthViewSlotsService=t,this.dateHelperService=e,this.cssClass=!0,this.startDayOfWeek=D.MONDAY,this.weekdays=[1,2,3,4,5,6,0],this.displayRange=new n.EventEmitter,this.selectRange=new n.EventEmitter,this.selectDay=new n.EventEmitter,this.selectEvent=new n.EventEmitter,this.clickMore=new n.EventEmitter,this.weeks=[],this.selectedRange={from:null,to:null},this.eventHeight=28,this.heightOffset=28,this.availableSlots=0}return t.prototype.ngOnChanges=function(t){(t.activeDate||t.startDayOfWeek)&&(this.weeks=this.calculateMonthWeeks(this.activeDate,this.startDayOfWeek,this.highlights),this.emitDisplayRange(this.weeks),this.setSlotsAndWeeks())},t.prototype.onSelectDay=function(t){(this.selectedDay=t)&&this.selectDay.emit(t)},t.prototype.onSelectEvent=function(t){this.selectEvent.emit(t)},t.prototype.onChangeRowHeight=function(t){this.availableSlots=Math.floor((t-this.heightOffset-20)/this.eventHeight),this.weekHeight=t,this.setSlotsAndWeeks()},t.prototype.onClickMore=function(t){this.clickMore.emit(t)},t.prototype.onSelectRange=function(t){this.selectRange.emit(t)},t.prototype.onDragRange=function(t){this.selectedRange=t},t.prototype.setSlotsAndWeeks=function(){if(0<=this.availableSlots){var t=this.monthViewSlotsService.generateEventMap(this.events,this.weeks,this.availableSlots);this.slots=t.getSlots(this.eventHeight,this.weekHeight,this.heightOffset),this.weeks=t.getEventsMap(this.availableSlots)}},t.prototype.calculateMonthWeeks=function(t,e,n){var a=this.dateHelperService.getDaysForMonth(t,e,n);return this.dateHelperService.getWeeksForMonth(a)},t.prototype.emitDisplayRange=function(t){if(0<t.length&&0<t[0].length){var e=t[0][0].date,n=t[t.length-1][t[t.length-1].length-1].date;e&&n&&this.displayRange.emit({from:e,to:n})}},t.decorators=[{type:n.Component,args:[{selector:"aui-agenda-month-view",template:'<div class="o-agenda__table-head">\n\t<div *ngFor="let weekday of weekdays" class="o-agenda__table-head-cell">{{ weekday | weekdayPipe }}</div>\n</div>\n\n<aui-agenda-month-view-calendar\n\t[weeks]="weeks"\n\t[slots]="slots"\n\t[selectedDay]="selectedDay"\n\t[range]="selectedRange"\n\t[eventItemTemplate]="eventItemTemplate"\n\t(rowHeight)="onChangeRowHeight($event)"\n\t(selectEvent)="onSelectEvent($event)"\n\t(selectDay)="onSelectDay($event)"\n\t(selectRange)="onSelectRange($event)"\n\t(clickMore)="onClickMore($event)"\n\t(dragRange)="onDragRange($event)"\n></aui-agenda-month-view-calendar>\n',changeDetection:n.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[{type:Y},{type:w}]},t.propDecorators={cssClass:[{type:n.HostBinding,args:["class.o-agenda__table"]}],activeDate:[{type:n.Input}],startDayOfWeek:[{type:n.Input}],highlights:[{type:n.Input}],weekdays:[{type:n.Input}],events:[{type:n.Input}],eventItemTemplate:[{type:n.Input}],displayRange:[{type:n.Output}],selectRange:[{type:n.Output}],selectDay:[{type:n.Output}],selectEvent:[{type:n.Output}],clickMore:[{type:n.Output}]},t}(),I=function(){function t(t){this.elementRef=t,this.cssClass=!0,this.range={from:null,to:null},this.rowHeight=new n.EventEmitter,this.selectDay=new n.EventEmitter,this.selectRange=new n.EventEmitter,this.selectEvent=new n.EventEmitter,this.clickMore=new n.EventEmitter,this.dragRange=new n.EventEmitter,this.componentDestroyed$=new i.Subject}return t.prototype.ngOnInit=function(){var e=this;this.currentDay=l.DateHelper.formatDate(new Date,"YYYY-MM-DD"),this.watchRowHeigth().pipe(s.takeUntil(this.componentDestroyed$)).subscribe(function(t){e.rowHeight.emit(t)}),this.watchDragOver().pipe(s.takeUntil(this.componentDestroyed$)).subscribe(function(t){e.emitDragRange(t)}),this.watchDrop().pipe(s.takeUntil(this.componentDestroyed$)).subscribe(function(){e.emitSelectRange(e.range)})},t.prototype.isToday=function(t){return l.DateHelper.formatDate(t,"YYYY-MM-DD")===this.currentDay},t.prototype.isSelected=function(t,e){var n=l.DateHelper.formatDate(t,"YYYY-MM-DD"),a=e&&e.from?l.DateHelper.formatDate(new Date(e.from.toString()),"YYYY-MM-DD"):null,o=e&&e.to?l.DateHelper.formatDate(new Date(e.to.toString()),"YYYY-MM-DD"):null;return n===this.selectedDay||a&&new Date(a)<=new Date(n)&&o&&new Date(o)>=new Date(n)},t.prototype.resetRange=function(){this.emitDragRange({from:null,to:null})},t.prototype.ngOnDestroy=function(){this.componentDestroyed$.next(!0),this.componentDestroyed$.complete()},t.prototype.isCurrentMonth=function(t,e){var n=new Date(t),a=new Date(e);return n.getMonth()!==a.getMonth()},t.prototype.emitSelectDay=function(t){this.selectDay.emit(l.DateHelper.formatDate(t,"YYYY-MM-DD")),this.resetRange()},t.prototype.emitDragRange=function(t){this.dragRange.emit(t)},t.prototype.onSelectEvent=function(t){this.selectEvent.emit(t),this.resetRange()},t.prototype.onClickMore=function(t){this.resetRange(),this.clickMore.emit(t)},t.prototype.dragStart=function(t){this.selectDay.emit(null),this.pressedDay=l.DateHelper.formatDate(t,"YYYY-MM-DD")},t.prototype.touchStart=function(t){this.selectDay.emit(null),this.pressedDay=l.DateHelper.formatDate(t,"YYYY-MM-DD")},t.prototype.watchRowHeigth=function(){var e=this,n=new i.Subject;return a.timer(0,250).pipe(s.takeUntil(this.componentDestroyed$)).subscribe(function(){var t=e.elementRef.nativeElement.querySelector(".o-agenda__table-row");t&&n.next(t.offsetHeight)}),n.pipe(s.distinctUntilChanged())},t.prototype.watchDragOver=function(){var a=this,o=new i.Subject,r=function(t){if(t&&t.parentElement&&t.parentElement.getAttribute("date")){var e=new Date(a.pressedDay),n=new Date(t.parentElement.getAttribute("date"));e<n?o.next({from:a.pressedDay,to:l.DateHelper.formatDate(n,"YYYY-MM-DD")}):o.next({from:l.DateHelper.formatDate(n,"YYYY-MM-DD"),to:a.pressedDay})}};return document.addEventListener("dragover",function(t){t.preventDefault();var e=t.target;r(e)},!1),document.addEventListener("touchmove",function(t){if(a.pressedDay){var e=t.touches[0],n=document.elementFromPoint(e.clientX,e.clientY);r(n)}},!1),o.pipe(s.distinctUntilChanged(function(t,e){return t.from===e.from&&t.to===e.to}))},t.prototype.watchDrop=function(){var t=this,e=new i.Subject;return document.addEventListener("drop",function(t){t.preventDefault(),e.next()},!1),document.addEventListener("touchend",function(){t.pressedDay&&(event.preventDefault(),t.pressedDay=null,e.next())}),e},t.prototype.emitSelectRange=function(t){this.selectRange.emit({from:l.DateHelper.formatDate(t.from,"YYYY-MM-DD"),to:l.DateHelper.formatDate(t.to,"YYYY-MM-DD")})},t.decorators=[{type:n.Component,args:[{selector:"aui-agenda-month-view-calendar",template:'<div *ngFor="let week of weeks" class="o-agenda__table-row">\n\t<div\n\t\t*ngFor="let day of week"\n\t\t(tap)="emitSelectDay(day.date)"\n\t\t[ngClass]="{\n\t\t\t\'is-current\': isToday(day.date),\n\t\t\t\'is-selected\': isSelected(day.date, range),\n\t\t\t\'is-faded\': isCurrentMonth(day.date, weeks[1][0].date)\n\t\t}"\n\t\t[class]="day.highlights"\n\t\tclass="o-agenda__table-row-cell"\n\t\t[attr.date]="day.date"\n\t\t(press)="touchStart(day.date)"\n\t\t>\n\n\t\t<div (dragstart)="dragStart(day.date)" class="o-agenda_drag-select" draggable="true"></div>\n\n\t\t<span class="o-agenda__table-row-cell-header">\n\t\t\t<span>{{ day.date | date:\'d\' }}</span>\n\t\t</span>\n\n\t\t<aui-agenda-more-button\n\t\t\t*ngIf="day.more"\n\t\t\t[hiddenEvents]="day.more"\n\t\t\t(clickMore)="onClickMore(day.date)"\n\t\t></aui-agenda-more-button>\n\n\t\t<aui-month-view-dots\n\t\t\t*ngIf="day.dots"\n\t\t\t[dots]="day.dots"\n\t\t></aui-month-view-dots>\n\t</div>\n</div>\n\n<aui-agenda-month-view-event-slots\n\t[slots]="slots"\n\t[eventItemTemplate]="eventItemTemplate"\n\t(selectEvent)="onSelectEvent($event)"\n></aui-agenda-month-view-event-slots>\n',changeDetection:n.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[{type:n.ElementRef}]},t.propDecorators={cssClass:[{type:n.HostBinding,args:["class.o-agenda__table-grid"]}],weeks:[{type:n.Input}],slots:[{type:n.Input}],eventItemTemplate:[{type:n.Input}],selectedDay:[{type:n.Input}],range:[{type:n.Input}],rowHeight:[{type:n.Output}],selectDay:[{type:n.Output}],selectRange:[{type:n.Output}],selectEvent:[{type:n.Output}],clickMore:[{type:n.Output}],dragRange:[{type:n.Output}]},t}(),R=function(){function t(){}return t.decorators=[{type:n.Component,args:[{selector:"aui-month-view-dots",template:'<div class="o-agenda__dots">\n\t<div *ngFor="let dot of dots" [ngStyle]="{ \'background-color\': dot }" class="o-agenda__dot"></div>\n</div>\n'}]}],t.propDecorators={dots:[{type:n.Input}]},t}(),_=function(){function t(){}return t.decorators=[{type:n.Component,args:[{selector:"aui-agenda-month-view-event-slot",template:'<ng-template #defaultTemplate let-event="event">\n\t<div class="a-event" [ngStyle]="{ \'background-color\': event.fullDay ? event.color : null }" [ngClass]="{ \'a-event--light\': event.fullDay }">\n\t\t<div *ngIf="!event.fullDay" class="a-event__bar" [ngStyle]="{ \'background-color\': event.color }"></div>\n\n\t\t<div class="a-event__content">\n\t\t\t<div *ngIf="event.iconBefore || event.title" class="a-event__main">\n\t\t\t\t<span *ngIf="event.iconBefore" class="{{ event.iconBefore }} a-event__icon"></span><span *ngIf="event.title" class="a-event__title">{{ event.title }}</span>\n\t\t\t</div>\n\n\t\t\t<div *ngIf="event.iconAfter || !event.fullDay" class="a-event__extra">\n\t\t\t\t<span *ngIf="!event.fullDay" class="a-event__meta">{{ event.startDate | date:\'HH:mm\' }}</span><span *ngIf="event.iconAfter" class="{{ event.iconAfter }} a-event__icon"></span>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</ng-template>\n\n<div class="o-agenda__table-event" [ngStyle]="{\n\tleft: display.left,\n\ttop: display.top,\n\twidth: display.width\n}">\n\t<ng-container *ngTemplateOutlet="template ? template : defaultTemplate; context: { event: event }"></ng-container>\n</div>\n'}]}],t.propDecorators={event:[{type:n.Input}],meta:[{type:n.Input}],display:[{type:n.Input}],template:[{type:n.Input}]},t}(),H=function(){function t(){this.slots=[],this.selectEvent=new n.EventEmitter}return t.prototype.emitSelectEvent=function(t){this.selectEvent.emit(t)},t.decorators=[{type:n.Component,args:[{selector:"aui-agenda-month-view-event-slots",template:'<div class="aui-agenda-month-view-event-slots">\n\t<aui-agenda-month-view-event-slot\n\t\t*ngFor="let slot of slots"\n\t\t[event]="slot.event"\n\t\t[meta]="slot.meta"\n\t\t[display]="slot.display"\n\t\t[template]="eventItemTemplate"\n\t\t(click)="emitSelectEvent(slot.event)"\n\t></aui-agenda-month-view-event-slot>\n</div>\n\n'}]}],t.propDecorators={slots:[{type:n.Input}],eventItemTemplate:[{type:n.Input}],selectEvent:[{type:n.Output}]},t}(),A=function(){function t(t){this.label=t,this.clickMore=new n.EventEmitter}return t.prototype.emitClickMore=function(t){t.stopPropagation(),this.clickMore.emit()},t.decorators=[{type:n.Component,args:[{selector:"aui-agenda-more-button",template:'<div class="o-agenda__more">\n\t<button (click)="emitClickMore($event)" *ngIf="hiddenEvents > 0" class="o-agenda__more-button">\n\t\t{{ hiddenEvents }} {{ label }}\n\t</button>\n</div>\n'}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:n.Inject,args:[d]}]}]},t.propDecorators={hiddenEvents:[{type:n.Input}],clickMore:[{type:n.Output}]},t}(),T=function(){function t(){this.cssClass=!0,this.navigate=new n.EventEmitter,this.views=m,this.navigate$=new i.Subject,this.componentDestroyed$=new i.Subject}return t.prototype.ngOnInit=function(){var e=this;this.navigate$.pipe(s.takeUntil(this.componentDestroyed$),s.distinctUntilChanged(),s.debounceTime(200)).subscribe(function(t){e.navigate.emit(t)})},t.prototype.ngOnDestroy=function(){this.componentDestroyed$.next(!0),this.componentDestroyed$.complete()},t.prototype.prev=function(){var t=new Date(this.activeDate);this.changeDate(t,-1)},t.prototype.next=function(){var t=new Date(this.activeDate);this.changeDate(t,1)},t.prototype.goToToday=function(){this.navigate$.next(this.today)},t.prototype.changeDate=function(t,e){return this.view===m.DAY?this.navigate$.next(this.changeDay(t,e)):this.view===m.MONTH?this.navigate$.next(this.changeMonth(t,e)):this.view===m.YEAR?this.navigate$.next(this.changeYear(t,e)):void 0},t.prototype.changeDay=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+e)},t.prototype.changeMonth=function(t,e){return new Date(t.getFullYear(),t.getMonth()+e,1)},t.prototype.changeYear=function(t,e){return new Date(t.getFullYear()+e,0,1)},t.decorators=[{type:n.Component,args:[{selector:"aui-agenda-navigation",template:'<h4>\n\t<ng-container *ngIf="view === views.DAY">{{ activeDate | date:\'dd/MM/y\' }}</ng-container>\n\t<ng-container *ngIf="view === views.MONTH">{{ activeDate | date:\'M\' | monthPipe }} {{ activeDate | date:\'y\' }}</ng-container>\n\t<ng-container *ngIf="view === views.YEAR">{{ activeDate | date:\'y\' }}</ng-container>\n</h4>\n\n<div class="o-agenda__nav">\n\t<button tabindex="-1" type="button" aria-label="previous month" class="o-agenda__nav-previous a-button has-icon" (click)="prev()">\n\t\t<i class="fa fa-angle-left"></i>\n\t</button>\n\n\t<button tabindex="0" type="button" aria-label="today" class="a-button" (click)="goToToday()">\n\t\tVandaag\n\t</button>\n\n\t<button tabindex="0" type="button" aria-label="next month" class="o-agenda__nav-next a-button has-icon" (click)="next()">\n\t\t<i class="fa fa-angle-right"></i>\n\t</button>\n</div>\n',changeDetection:n.ChangeDetectionStrategy.OnPush}]}],t.propDecorators={cssClass:[{type:n.HostBinding,args:["class.o-agenda__header"]}],activeDate:[{type:n.Input}],view:[{type:n.Input}],today:[{type:n.Input}],navigate:[{type:n.Output}]},t}(),C=[M,O,I,R,_,H,A,T],j=[w,Y,k],x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.overrides={swipe:{direction:o.DIRECTION_ALL}},t}return function(t,e){function n(){this.constructor=t}S(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(t,e),t}(r.HammerGestureConfig),$=c,N=p,F=function(){function a(){}return a.forChild=function(t,e,n){return{ngModule:a,providers:[j,{provide:h,useValue:t},{provide:g,useValue:e},{provide:d,useValue:n},{provide:r.HAMMER_GESTURE_CONFIG,useClass:x}]}},a.decorators=[{type:n.NgModule,args:[{imports:[e.CommonModule],declarations:[f,C],exports:[f,C],providers:[j,{provide:h,useValue:$},{provide:g,useValue:N},{provide:d,useValue:"more"},{provide:r.HAMMER_GESTURE_CONFIG,useClass:x}]}]}],a}();t.AgendaModule=F,t.EventMap=b,t.AgendaComponent=M,t.MonthViewComponent=O,t.MonthViewEventSlotComponent=_,t.MonthViewEventSlotsComponent=H,t.NavigationComponent=T,t.MonthPipe=v,t.WeekdayPipe=y,t.DateHelperService=w,t.MonthViewSlotsService=Y,t.SortingService=k,t.DAYS=D,t.VIEWS=m,t.ɵc=p,t.ɵd=u,t.ɵb=c,t.ɵf=g,t.ɵg=d,t.ɵe=h,t.ɵh=C,t.ɵi=I,t.ɵj=R,t.ɵk=A,t.ɵm=x,t.ɵa=f,t.ɵl=j,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=agenda.umd.min.js.map