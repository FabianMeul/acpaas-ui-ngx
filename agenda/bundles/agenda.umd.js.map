{"version":3,"file":"agenda.umd.js.map","sources":["ng://agenda/lib/agenda/agenda.conf.ts","ng://agenda/lib/agenda/pipes/month.pipe.ts","ng://agenda/lib/agenda/pipes/weekday.pipe.ts","ng://agenda/lib/agenda/pipes/index.ts","ng://agenda/lib/agenda/types/agenda.types.ts","ng://agenda/lib/agenda/services/date-helper.service.ts","ng://agenda/lib/agenda/components/agenda/agenda.component.ts",null,"ng://agenda/lib/agenda/classes/event-map.class.ts","ng://agenda/lib/agenda/services/sorting.service.ts","ng://agenda/lib/agenda/services/month-view-slots.service.ts","ng://agenda/lib/agenda/components/month-view/month-view.component.ts","ng://agenda/lib/agenda/components/month-view-calendar/month-view-calendar.component.ts","ng://agenda/lib/agenda/components/month-view-dots/month-view-dots.component.ts","ng://agenda/lib/agenda/components/month-view-event-slot/month-view-event-slot.component.ts","ng://agenda/lib/agenda/components/month-view-event-slots/month-view-event-slots.component.ts","ng://agenda/lib/agenda/components/more-button/more-button.component.ts","ng://agenda/lib/agenda/components/navigation/navigation.component.ts","ng://agenda/lib/agenda/components/index.ts","ng://agenda/lib/agenda/services/index.ts","ng://agenda/lib/agenda/hammer.conf.ts","ng://agenda/lib/agenda/agenda.module.ts"],"sourcesContent":["import { InjectionToken } from '@angular/core';\n\nexport const DEFAULT_WEEKDAY_LABELS = [\n\t'Sunday',\n\t'Monday',\n\t'Tuesday',\n\t'Wednesday',\n\t'Thursday',\n\t'Firday',\n\t'Saturday',\n];\n\nexport const DEFAULT_MONTH_LABELS = [\n\t'January',\n\t'February',\n\t'March',\n\t'April',\n\t'May',\n\t'June',\n\t'July',\n\t'August',\n\t'September',\n\t'October',\n\t'November',\n\t'December',\n];\n\nexport const DEFAULT_MORE_LABEL = 'more';\n\nexport const WEEKDAY_LABELS = new InjectionToken<string[]>('weekdayLabels');\nexport const MONTH_LABELS = new InjectionToken<string[]>('monthLabels');\nexport const MORE_LABEL = new InjectionToken<string>('moreLabel');\n","import { Pipe, PipeTransform, Inject } from '@angular/core';\n\nimport { MONTH_LABELS, DEFAULT_MONTH_LABELS } from '../agenda.conf';\n\n@Pipe({\n\tname: 'monthPipe',\n})\nexport class MonthPipe implements PipeTransform {\n\tconstructor(\n\t\t@Inject(MONTH_LABELS) private monthLabels = DEFAULT_MONTH_LABELS\n\t) {}\n\n\tpublic transform(value: any): string {\n\t\tconst month = parseInt(value, 10);\n\n\t\tif (isNaN(month)) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst index = (month - 1).toString();\n\t\treturn this.monthLabels[index.toString()] || DEFAULT_MONTH_LABELS[index.toString()];\n\t}\n}\n","import { Pipe, PipeTransform, Inject } from '@angular/core';\n\nimport { WEEKDAY_LABELS, DEFAULT_WEEKDAY_LABELS } from '../agenda.conf';\n\n@Pipe({\n\tname: 'weekdayPipe',\n})\nexport class WeekdayPipe implements PipeTransform {\n\tconstructor(\n\t\t@Inject(WEEKDAY_LABELS) private weekdayLabels = DEFAULT_WEEKDAY_LABELS\n\t) {}\n\n\tpublic transform(value: number): string {\n\t\treturn this.weekdayLabels[(value).toString()] || DEFAULT_WEEKDAY_LABELS[(value).toString()];\n\t}\n}\n","import { MonthPipe } from './month.pipe';\nimport { WeekdayPipe } from './weekday.pipe';\n\nexport const Pipes = [\n\tMonthPipe,\n\tWeekdayPipe,\n];\n","export interface EventInterface {\n\tstartDate: Date;\n\tendDate: Date;\n\ttitle: string;\n\t[propName: string]: any;\n}\n\nexport interface SlotMetaInterface {\n\tweek: number;\n\tday: number;\n\tslot: number;\n\tspan: number;\n}\n\nexport interface SlotDisplayInterface {\n\tleft: string;\n\ttop: string;\n\twidth: string;\n}\n\nexport interface SlotInterface {\n\tmeta?: SlotMetaInterface;\n\tdisplay?: SlotDisplayInterface;\n\tevent?: EventInterface;\n}\n\nexport interface SlotMapItemInterface {\n\tslots: (SlotInterface|boolean)[];\n\tevents: EventInterface[];\n\n}\n\nexport type SlotMapInterface = SlotMapItemInterface[][];\n\nexport type DotMapInterface = (string)[][][];\n\nexport interface DateRangeInterface {\n\tfrom: Date|string;\n\tto: Date|string;\n}\n\nexport interface DayRangeInterface {\n\tfrom: string;\n\tto: string;\n}\n\nexport enum DAYS {\n\tSUNDAY,\n\tMONDAY,\n\tTUESDAY,\n\tWEDNESDAY,\n\tTHURSDAY,\n\tFRIDAY,\n\tSATURDAY,\n}\n\nexport enum VIEWS {\n\tDAY = 'DAY',\n\tWEEK = 'WEEK',\n\tMONTH = 'MONTH',\n\tYEAR = 'YEAR',\n}\n\nexport interface WeekdayInterface {\n\tdate: Date;\n\t// events: EventInterface[];\n\t// total: number;\n\t// dots: string[];\n\t[propName: string]: any;\n}\n\nexport type RangeInterface = (number[]|Date)[];\n\nexport interface HighLightInterface {\n\t[propName: string]: RangeInterface;\n}\n","// TODO: Move this to @acpaas-ui/js-date-utils\nimport { Injectable } from '@angular/core';\n\nimport {\n\tWeekdayInterface,\n\tHighLightInterface,\n\tRangeInterface,\n\tDAYS,\n} from '../types/agenda.types';\n\n@Injectable()\nexport class DateHelperService {\n\n\tpublic getDaysForMonth(date: Date, startDayOfWeek: number, range: HighLightInterface = null): WeekdayInterface[] {\n\t\tconst firstDayOfMonth = this.getFirstWeekDayOfMonth(date, startDayOfWeek);\n\t\tconst lastDayOfMonth = this.getLastWeekDayOfMonth(date, startDayOfWeek);\n\t\tconst max = this.dateDiff(firstDayOfMonth, lastDayOfMonth);\n\n\t\tconst days = [\n\t\t\t{ date: firstDayOfMonth, highlights: this.getHighlights(range, firstDayOfMonth) },\n\t\t];\n\n\t\tfor (let i = 0; i < max; i += 1) {\n\t\t\tconst nextDay = this.getNextDay(days[i].date);\n\n\t\t\tdays.push({\n\t\t\t\thighlights: this.getHighlights(range, nextDay),\n\t\t\t\tdate: nextDay,\n\t\t\t});\n\t\t}\n\n\t\treturn days;\n\t}\n\n\tpublic getHighlights(range: HighLightInterface, date: Date): string {\n\t\tif (!range) {\n\t\t\treturn '';\n\t\t}\n\n\t\treturn Object.keys(range).filter((key) => {\n\t\t\treturn this.inRange(range[key], date);\n\t\t}).join(' ');\n\t}\n\n\tpublic inRange(range: RangeInterface, date: Date): boolean {\n\t\treturn range.some((item) => {\n\t\t\tif (Array.isArray(item)) {\n\t\t\t\treturn item.indexOf(date.getDay()) !== -1;\n\t\t\t}\n\n\t\t\tconst d = new Date(item);\n\t\t\tif (!isNaN(d.getTime())) {\n\t\t\t\treturn this.compareDates(d, date);\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic getWeeksForMonth(days: WeekdayInterface[]): WeekdayInterface[][] {\n\t\tconst numberOfWeeks = Math.round(days.length / 7);\n\n\t\treturn Array(numberOfWeeks).fill(null).map((label, index) => {\n\t\t\treturn days.slice(index * 7, (index + 1) * 7);\n\t\t});\n\t}\n\n\tpublic getLastDateOfMonth(date: Date): Date {\n\t\treturn new Date(date.getFullYear(), date.getMonth() + 1, 0);\n\t}\n\n\tpublic moveToDayOfWeek(date: Date, dayOfWeek: number, orient: number): Date {\n\t\tlet diff = (dayOfWeek - date.getDay() + 7 * (orient || + 1)) % 7;\n\t\tconst value = (diff === 0) ? diff += 7 * (orient || +1) : diff;\n\t\tconst d = new Date(date);\n\t\treturn new Date(d.setDate(date.getDate() + value * 1));\n\t}\n\n\tpublic getFirstWeekDayOfMonth(date: Date, startOfWeek: number|string): Date {\n\t\tconst firstDayOfMonth = new Date(date.getFullYear(), date.getMonth(), 1);\n\t\tif (firstDayOfMonth.getDay() === Number(startOfWeek)) {\n\t\t\treturn firstDayOfMonth;\n\t\t}\n\t\treturn this.moveToDayOfWeek(firstDayOfMonth, Number(startOfWeek), -1);\n\t}\n\n\tpublic getLastWeekDayOfMonth(date: Date, startOfWeek: number): Date {\n\t\tconst endOfWeek = (startOfWeek === 0 ? 6 : startOfWeek - 1);\n\t\tconst lastDayOfMonth = this.getLastDateOfMonth(date);\n\t\tif (lastDayOfMonth.getDay() === endOfWeek) {\n\t\t\treturn lastDayOfMonth;\n\t\t}\n\t\treturn this.moveToDayOfWeek(lastDayOfMonth, endOfWeek, 1);\n\t}\n\n\tpublic getNextDay(today: Date): Date {\n\t\tconst tomorrow = new Date(today);\n\t\ttomorrow.setDate(today.getDate() + 1);\n\t\treturn tomorrow;\n\t}\n\n\tpublic dateDiff(startDate: Date, endDate: Date): number {\n\t\t// Compare based on date, not on time\n\t\tconst start = new Date(startDate.getFullYear(), startDate.getMonth(), startDate.getDate());\n\t\tconst end = new Date(endDate.getFullYear(), endDate.getMonth(), endDate.getDate());\n\n\t\treturn Math.round((end.getTime() - start.getTime()) / ( 1000 * 60 * 60 * 24));\n\t}\n\n\tpublic compareDates(date1: Date, date2: Date): boolean {\n\t\tconst date1Year = date1.getFullYear();\n\t\tconst date1Month = date1.getMonth();\n\t\tconst date1Date = date1.getDate();\n\t\tconst date2Year = date2.getFullYear();\n\t\tconst date2Month = date2.getMonth();\n\t\tconst date2Date = date2.getDate();\n\n\t\treturn date1Year === date2Year && date1Month === date2Month && date1Date === date2Date;\n\t}\n\n\tpublic orderWeekDays(startDayOfWeek: DAYS): DAYS[] {\n\t\tconst rotate = function (array, index) {\n\t\t\tconst arrayLength = array.length;\n\t\t\treturn array.slice(arrayLength - index).concat(array.slice(0, arrayLength - index));\n\t\t};\n\t\tconst weekdays = [0, 1, 2, 3, 4, 5, 6];\n\n\t\tif (startDayOfWeek === DAYS.SUNDAY) {\n\t\t\treturn weekdays;\n\t\t} else {\n\t\t\treturn rotate(weekdays, 7 - startDayOfWeek);\n\t\t}\n\t}\n}\n","import {\n\tComponent,\n\tInput,\n\tOutput,\n\tEventEmitter,\n\tChangeDetectionStrategy,\n\tTemplateRef,\n\tOnInit,\n\tOnChanges,\n\tOnDestroy,\n\tElementRef,\n} from '@angular/core';\nimport { timer } from 'rxjs/observable/timer';\nimport { Subject } from 'rxjs/Subject';\nimport { takeUntil, map, distinctUntilChanged } from 'rxjs/operators';\n\nimport { DateHelperService } from '../../services/date-helper.service';\nimport { VIEWS, DAYS, DateRangeInterface, EventInterface, HighLightInterface } from '../../types/agenda.types';\n\n@Component({\n\tselector: 'aui-agenda',\n\ttemplate: `<div [ngClass]=\"agendaSize$ | async\" class=\"o-agenda\">\n\t<div class=\"o-agenda__inner\">\n\t\t<aui-agenda-navigation\n\t\t\t[activeDate]=\"activeDate\"\n\t\t\t[view]=\"view\"\n\t\t\t[today]=\"today\"\n\t\t\t(navigate)=\"onNavigate($event)\"\n\t\t></aui-agenda-navigation>\n\n\t\t<aui-agenda-month-view\n\t\t\t*ngIf=\"view === views.MONTH\"\n\t\t\t[activeDate]=\"activeDate\"\n\t\t\t[weekdays]=\"weekdays\"\n\t\t\t[startDayOfWeek]=\"startDayOfWeek\"\n\t\t\t[events]=\"events\"\n\t\t\t[highlights]=\"highlights\"\n\t\t\t[eventItemTemplate]=\"monthEventItemTemplate\"\n\t\t\t(selectDay)=\"onSelectDay($event)\"\n\t\t\t(selectEvent)=\"onSelectEvent($event)\"\n\t\t\t(clickMore)=\"onClickMore($event)\"\n\t\t\t(selectRange)=\"onSelectRange($event)\"\n\t\t\t(displayRange)=\"onDisplayRange($event)\"\n\t\t\t(swipeleft)=\"swipe($event)\"\n\t\t\t(swiperight)=\"swipe($event)\"\n\t\t></aui-agenda-month-view>\n\t</div>\n</div>\n`,\n\tstyles: [`:host{display:block;width:100%;height:100%}`],\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AgendaComponent implements OnInit, OnChanges, OnDestroy {\n\t// Default\n\t@Input() public events: EventInterface[];\n\t@Input() public view: VIEWS;\n\tpublic views = VIEWS;\n\n\t// Month view\n\t@Input() public startDayOfWeek: DAYS = DAYS.MONDAY; // Start of the week (0 = sunday, 1 = monday, ...)\n\t@Input() public activeDate: Date;\n\t@Input() public highlights: HighLightInterface;\n\t@Input() public monthEventItemTemplate: TemplateRef<any>;\n\t@Output() public navigate = new EventEmitter<DateRangeInterface>();\n\t@Output() public selectRange = new EventEmitter<DateRangeInterface>();\n\t@Output() public selectDay = new EventEmitter<Date>();\n\t@Output() public selectEvent = new EventEmitter<EventInterface>();\n\t@Output() public clickMore = new EventEmitter();\n\n\tpublic agendaSize$;\n\tpublic weekdays: DAYS[] = [1, 2, 3, 4, 5, 6, 0];\n\tpublic today: Date = this.getToday();\n\tprivate componentDestroyed$: Subject<boolean> = new Subject<boolean>();\n\n\tconstructor(\n\t\tprivate elementRef: ElementRef,\n\t\tprivate dateHelperService: DateHelperService\n\t) {}\n\n\tpublic ngOnInit() {\n\t\tthis.watchAgendaSize();\n\t}\n\n\tpublic ngOnChanges(changes) {\n\t\tif (changes && changes.startDayOfWeek) {\n\t\t\tif (this.view === VIEWS.MONTH) {\n\t\t\t\tthis.weekdays = this.dateHelperService.orderWeekDays(changes.startDayOfWeek.currentValue);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic swipe(e) {\n\t\tif (e.pointerType !== 'touch') {\n\t\t\treturn;\n\t\t}\n\n\t\tif (e.type === 'swipeleft') {\n\t\t\tthis.nextMonth();\n\t\t\treturn;\n\t\t}\n\n\t\tif (e.type === 'swiperight') {\n\t\t\tthis.prevMonth();\n\t\t\treturn;\n\t\t}\n\t}\n\n\tpublic ngOnDestroy() {\n\t\tthis.componentDestroyed$.next(true);\n\t\tthis.componentDestroyed$.complete();\n\t}\n\n\tpublic onNavigate(date: Date): void {\n\t\tthis.activeDate = new Date(date);\n\t}\n\n\tpublic onDisplayRange(range: DateRangeInterface): void {\n\t\tthis.navigate.emit(range);\n\t}\n\n\tpublic onSelectDay(date: Date): void {\n\t\tthis.selectDay.emit(date);\n\t}\n\n\tpublic onSelectEvent(event: EventInterface): void {\n\t\tthis.selectEvent.emit(event);\n\t}\n\n\tpublic onClickMore(date: Date) {\n\t\tthis.clickMore.emit(date);\n\t}\n\n\tprivate getToday(): Date {\n\t\tconst date = new Date();\n\t\tdate.setHours(0, 0, 0, 0);\n\t\treturn date;\n\t}\n\n\tpublic prevMonth(): void {\n\t\tconst date = new Date(this.activeDate);\n\t\tthis.onNavigate(new Date(date.getFullYear(), date.getMonth() - 1, 1));\n\t}\n\n\tpublic nextMonth(): void {\n\t\tconst date = new Date(this.activeDate);\n\t\tthis.onNavigate(new Date(date.getFullYear(), date.getMonth() + 1, 1));\n\t}\n\n\tpublic onSelectRange(range: DateRangeInterface) {\n\t\tthis.selectRange.emit(range);\n\t}\n\n\tprivate watchAgendaSize(): void {\n\t\tthis.agendaSize$ = timer(0, 250)\n\t\t\t.pipe(\n\t\t\t\ttakeUntil(this.componentDestroyed$),\n\t\t\t\tmap(() => {\n\t\t\t\t\treturn this.elementRef.nativeElement.offsetWidth;\n\t\t\t\t}),\n\t\t\t\tdistinctUntilChanged()\n\t\t\t)\n\t\t\t.pipe(\n\t\t\t\tmap((width) => {\n\t\t\t\t\tif (width > 800) {\n\t\t\t\t\t\treturn 'o-agenda--big';\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn 'o-agenda--small';\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t);\n\t}\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator.throw(value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}","import { SlotMapInterface, SlotInterface, EventInterface, WeekdayInterface } from '../types/agenda.types';\n\nexport class EventMap {\n\tpublic slotMap: SlotMapInterface;\n\n\tconstructor(weeks: WeekdayInterface[][], slots: number) {\n\t\tthis.initSlots(weeks, slots);\n\t}\n\n\tpublic initSlots(weeks: WeekdayInterface[][], availableSlots: number): void {\n\t\tthis.slotMap = weeks.map((weekdays) => {\n\t\t\treturn weekdays.map((day) => {\n\t\t\t\treturn Object.assign({}, day, {\n\t\t\t\t\tslots: Array(availableSlots).fill(null),\n\t\t\t\t\tevents: [],\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n\n\tpublic fillSlot(week: number, day: number, slot: number, span: number = 1, event: any = null): void {\n\t\tif (event) {\n\t\t\tthis.slotMap[week][day].slots[slot] = {\n\t\t\t\tmeta: {\n\t\t\t\t\tweek,\n\t\t\t\t\tday,\n\t\t\t\t\tslot,\n\t\t\t\t\tspan,\n\t\t\t\t},\n\t\t\t\tevent,\n\t\t\t};\n\n\t\t\tfor (let i = 1; i < span; i += 1) {\n\t\t\t\tthis.fillSlot(week, day + i, slot);\n\t\t\t}\n\n\t\t} else {\n\t\t\tthis.slotMap[week][day].slots[slot] = true;\n\t\t}\n\t}\n\n\tpublic isSlotFree(week: number, day: number, slot: number): boolean {\n\t\treturn this.slotMap[week][day].slots[slot] === null;\n\t}\n\n\tpublic getFreeSlot(week: number, day: number): number {\n\t\treturn this.slotMap[week][day].slots.findIndex((o) => {\n\t\t\treturn o === null;\n\t\t});\n\t}\n\n\tpublic addEvent(week: number, day: number, span: number, event: any): void {\n\t\tif (event) {\n\t\t\tthis.slotMap[week][day].events.push(event);\n\n\t\t\tfor (let i = 1; i < span; i += 1) {\n\t\t\t\tthis.slotMap[week][day + i].events.push(event);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic getSlots(eventHeight: number, weekHeight: number, heightOffset: number): SlotInterface[] {\n\t\tconst numberOfDays = this.slotMap[0].length;\n\t\tconst dayWidth = ((1 / numberOfDays) * 100);\n\n\t\tconst flatten = list => list.reduce(\n\t\t\t(a, b) => a.concat(Array.isArray(b) ? flatten(b) : b), []\n\t\t);\n\n\t\tconst slots = this.slotMap.map((o) => {\n\t\t\treturn o.map((p) => {\n\t\t\t\treturn p.slots;\n\t\t\t});\n\t\t});\n\n\t\treturn flatten(slots).filter((slot: SlotInterface) => {\n\t\t\treturn slot !== null && slot !== true;\n\t\t}).map((slot: SlotInterface) => {\n\t\t\treturn {\n\t\t\t\t...slot,\n\t\t\t\tdisplay: {\n\t\t\t\t\tleft: 'calc(' + dayWidth * slot.meta.day + '% + 4px)',\n\t\t\t\t\ttop: heightOffset + (weekHeight * slot.meta.week) + (slot.meta.slot * eventHeight) + 'px',\n\t\t\t\t\twidth: 'calc(' + dayWidth * slot.meta.span + '% - 8px)',\n\t\t\t\t},\n\t\t\t};\n\t\t});\n\t}\n\n\tpublic getEventsMap(availableSlots: number): any {\n\t\treturn this.slotMap.map((days) => {\n\t\t\treturn days.map((day) => {\n\t\t\t\treturn Object.assign({}, day, {\n\t\t\t\t\ttotal: day.events.length,\n\t\t\t\t\tmore: day.events.length - availableSlots,\n\t\t\t\t\tdots: day.events.map((event: EventInterface): string => {\n\t\t\t\t\t\treturn event.color;\n\t\t\t\t\t}).filter((color: string, pos: number, array: string[]): boolean => {\n\t\t\t\t\t\treturn array.indexOf(color) === pos;\n\t\t\t\t\t}).slice(0, 3),\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { EventInterface } from '../types/agenda.types';\nimport { DateHelperService } from './date-helper.service';\nimport { EventMap } from '../classes/event-map.class';\n\n@Injectable()\nexport class SortingService {\n\n\tconstructor(\n\t\tprivate dateHelperService: DateHelperService\n\t) {}\n\n\tpublic sortEvents(events: EventInterface[]): EventInterface[] {\n\t\treturn events.sort((a, b) => {\n\t\t\t// Sort by date\n\t\t\tconst sortedByDate = this.sortByDateHelper(a.startDate, b.startDate);\n\t\t\tif (sortedByDate !== 0) {\n\t\t\t\treturn sortedByDate;\n\t\t\t}\n\n\t\t\t// Sort by diff\n\t\t\tconst sortedBySpan = this.sortBySpanHelper(a.startDate, a.endDate, b.startDate, b.endDate);\n\t\t\tif (sortedBySpan !== 0) {\n\t\t\t\treturn sortedBySpan;\n\t\t\t}\n\n\t\t\treturn this.sortByDateTimeHelper(a.startDate, b.startDate);\n\t\t});\n\t}\n\n\tpublic sortByDateHelper(a: Date, b: Date): number {\n\t\tconst aStartDate = new Date(a.getFullYear(), a.getMonth(), a.getDate());\n\t\tconst bStartDate = new Date(b.getFullYear(), b.getMonth(), b.getDate());\n\n\t\tif (aStartDate < bStartDate) {\n\t\t\treturn -1;\n\t\t}\n\n\t\tif (aStartDate > bStartDate) {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn 0;\n\t}\n\n\tpublic sortByDateTimeHelper(a: Date, b: Date): number {\n\t\tif (a < b) {\n\t\t\treturn -1;\n\t\t}\n\n\t\tif (a > b) {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn 0;\n\t}\n\n\tpublic sortBySpanHelper(aStart: Date, aEnd: Date, bStart: Date, bEnd: Date): number {\n\t\tconst spanA = this.dateHelperService.dateDiff(aStart, aEnd);\n\t\tconst spanB = this.dateHelperService.dateDiff(bStart, bEnd);\n\n\t\tif (spanA > spanB) {\n\t\t\treturn -1;\n\t\t}\n\n\t\tif (spanA < spanB) {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn 0;\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { EventInterface, SlotInterface, WeekdayInterface } from '../types/agenda.types';\nimport { DateHelperService } from './date-helper.service';\nimport { EventMap } from '../classes/event-map.class';\nimport { SortingService } from './sorting.service';\n\n@Injectable()\nexport class MonthViewSlotsService {\n\tpublic eventMap: EventMap;\n\n\tconstructor(\n\t\tprivate dateHelperService: DateHelperService,\n\t\tprivate sortingService: SortingService\n\t) {}\n\n\tpublic generateEventMap(events: EventInterface[], weeks: WeekdayInterface[][], availableSlots: number): EventMap {\n\t\tconst firstDay = new Date(weeks[0][0].date);\n\t\tconst lastDay = new Date(weeks[weeks.length - 1][weeks[weeks.length - 1].length - 1].date);\n\n\t\t// 1. Format\n\t\tconst mappedEvents = this.formatEvents(events);\n\n\t\t// 2. Remove events waar de endDate < startMonth of endDate > endMonth\n\t\tconst filteredEvents = this.filterEvents(mappedEvents, firstDay, lastDay);\n\n\t\t// 3. Sorteer van oud naar nieuw en van lang event naar kort event\n\t\tconst sortedEvents: EventInterface[] = this.sortingService.sortEvents(filteredEvents);\n\n\t\t// 4. Fill EventMap\n\t\tthis.eventMap = new EventMap(weeks, availableSlots);\n\t\tsortedEvents.forEach((event) => {\n\t\t\tif (event.startDate < firstDay) {\n\t\t\t\tthis.calculate(firstDay, event.endDate, 0, 0, event, weeks);\n\t\t\t} else {\n\t\t\t\tfor (let week = 0; week < weeks.length; week += 1) {\n\t\t\t\t\tfor (let day = 0; day < weeks[week].length; day += 1) {\n\t\t\t\t\t\tconst date = weeks[week][day].date;\n\t\t\t\t\t\tif (this.dateHelperService.compareDates(event.startDate, date)) {\n\t\t\t\t\t\t\tthis.calculate(event.startDate, event.endDate, week, day, event, weeks);\n\n\t\t\t\t\t\t\t// Stop for loop --> improve performance\n\t\t\t\t\t\t\tday = weeks[week].length;\n\t\t\t\t\t\t\tweek = weeks.length - 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn this.eventMap;\n\t}\n\n\tpublic formatEvents(events) {\n\t\treturn events.map((event: EventInterface) => {\n\t\t\treturn Object.assign({}, event, {\n\t\t\t\tstartDate: new Date(event.startDate),\n\t\t\t\tendDate: new Date(event.endDate),\n\t\t\t});\n\t\t});\n\t}\n\n\tpublic filterEvents(events, firstDay, lastDay) {\n\t\treturn events.filter((event) => {\n\t\t\treturn new Date(event.endDate) > firstDay && new Date(event.startDate) < lastDay;\n\t\t});\n\t}\n\n\tpublic calculate(start: Date, end: Date, week: number, day: number, event: any, weeks: WeekdayInterface[][]): void {\n\t\tconst weekdaysLength = weeks[0].length;\n\t\tconst lengthOfEvent = this.dateHelperService.dateDiff(start, end);\n\t\tconst span = lengthOfEvent + 1 <= weekdaysLength - day ? lengthOfEvent + 1 : weekdaysLength - day;\n\t\tconst difftest = (lengthOfEvent - span) + 1;\n\n\t\tthis.eventMap.addEvent(week, day, span, event);\n\n\t\tconst slot = this.eventMap.getFreeSlot(week, day);\n\t\tif (slot !== -1) {\n\t\t\tthis.eventMap.fillSlot(week, day, slot, span, event);\n\t\t}\n\n\t\tif (difftest > 1 && week + 1 < weeks.length) {\n\t\t\tthis.calculate(weeks[week + 1][0].date, end, week + 1, 0, event, weeks);\n\t\t}\n\t}\n}\n","import {\n\tComponent,\n\tInput,\n\tOutput,\n\tEventEmitter,\n\tChangeDetectionStrategy,\n\tTemplateRef,\n\tHostBinding,\n\tOnChanges,\n} from '@angular/core';\n\nimport {\n\tEventInterface,\n\tWeekdayInterface,\n\tDAYS,\n\tHighLightInterface,\n\tDateRangeInterface,\n\tSlotInterface,\n} from '../../types/agenda.types';\n\nimport { MonthViewSlotsService } from '../../services/month-view-slots.service';\nimport { DateHelperService } from '../../services/date-helper.service';\n\n@Component({\n\tselector: 'aui-agenda-month-view',\n\ttemplate: `<div class=\"o-agenda__table-head\">\n\t<div *ngFor=\"let weekday of weekdays\" class=\"o-agenda__table-head-cell\">{{ weekday | weekdayPipe }}</div>\n</div>\n\n<aui-agenda-month-view-calendar\n\t[weeks]=\"weeks\"\n\t[slots]=\"slots\"\n\t[selectedDay]=\"selectedDay\"\n\t[range]=\"selectedRange\"\n\t[eventItemTemplate]=\"eventItemTemplate\"\n\t(rowHeight)=\"onChangeRowHeight($event)\"\n\t(selectEvent)=\"onSelectEvent($event)\"\n\t(selectDay)=\"onSelectDay($event)\"\n\t(selectRange)=\"onSelectRange($event)\"\n\t(clickMore)=\"onClickMore($event)\"\n\t(dragRange)=\"onDragRange($event)\"\n></aui-agenda-month-view-calendar>\n`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MonthViewComponent implements OnChanges {\n\t@HostBinding('class.o-agenda__table') public cssClass = true;\n\n\t@Input() public activeDate: Date;\n\t@Input() public startDayOfWeek: DAYS = DAYS.MONDAY; // Start of the week (0 = sunday, 1 = monday, ...)\n\t@Input() public highlights: HighLightInterface;\n\n\t@Input() public weekdays: DAYS[] = [1, 2, 3, 4, 5, 6, 0];\n\t@Input() public events: EventInterface[];\n\t@Input() public eventItemTemplate: TemplateRef<any>;\n\n\t@Output() public displayRange = new EventEmitter<DateRangeInterface>();\n\t@Output() public selectRange = new EventEmitter<DateRangeInterface>();\n\t@Output() public selectDay = new EventEmitter<Date>();\n\t@Output() public selectEvent = new EventEmitter<EventInterface>();\n\t@Output() public clickMore = new EventEmitter();\n\n\tpublic slots: SlotInterface[];\n\tpublic weeks: WeekdayInterface[][] = [];\n\tpublic selectedDay: Date;\n\tpublic selectedRange = {\n\t\tfrom: null,\n\t\tto: null,\n\t};\n\n\tpublic weekHeight: number;\n\tpublic eventHeight = 28;\n\tpublic heightOffset = 28;\n\tpublic eventsByDay: any;\n\tpublic availableSlots = 0;\n\n\tconstructor(\n\t\tprivate monthViewSlotsService: MonthViewSlotsService,\n\t\tprivate dateHelperService: DateHelperService\n\t) {}\n\n\tpublic ngOnChanges(changes) {\n\t\tif (changes.activeDate || changes.startDayOfWeek) {\n\t\t\tthis.weeks = this.calculateMonthWeeks(this.activeDate, this.startDayOfWeek, this.highlights);\n\t\t\tthis.emitDisplayRange(this.weeks);\n\t\t\tthis.setSlotsAndWeeks();\n\t\t}\n\t}\n\n\tpublic onSelectDay(day: Date): void {\n\t\tthis.selectedDay = day;\n\t\tif (day) {\n\t\t\tthis.selectDay.emit(day);\n\t\t}\n\t}\n\n\tpublic onSelectEvent(event: EventInterface): void {\n\t\tthis.selectEvent.emit(event);\n\t}\n\n\tpublic onChangeRowHeight(height: number): void {\n\t\tthis.availableSlots = Math.floor((height - this.heightOffset - 20) / this.eventHeight);\n\t\tthis.weekHeight = height;\n\t\tthis.setSlotsAndWeeks();\n\t}\n\n\tpublic onClickMore(day: Date) {\n\t\tthis.clickMore.emit(day);\n\t}\n\n\tpublic onSelectRange(range: DateRangeInterface) {\n\t\tthis.selectRange.emit(range);\n\t}\n\n\tpublic onDragRange(range) {\n\t\tthis.selectedRange = range;\n\t}\n\n\tprivate setSlotsAndWeeks() {\n\t\tif (this.availableSlots >= 0) {\n\t\t\tconst eventMap = this.monthViewSlotsService.generateEventMap(\n\t\t\t\tthis.events,\n\t\t\t\tthis.weeks,\n\t\t\t\tthis.availableSlots\n\t\t\t);\n\n\t\t\tthis.slots = eventMap.getSlots(this.eventHeight, this.weekHeight, this.heightOffset);\n\t\t\tthis.weeks = eventMap.getEventsMap(this.availableSlots);\n\t\t}\n\t}\n\n\tprivate calculateMonthWeeks(date: Date, startOfWeek: DAYS, highlights: HighLightInterface): WeekdayInterface[][] {\n\t\tconst days = this.dateHelperService.getDaysForMonth(date, startOfWeek, highlights);\n\t\treturn this.dateHelperService.getWeeksForMonth(days);\n\t}\n\n\tprivate emitDisplayRange(weeks: WeekdayInterface[][]) {\n\t\tif (weeks.length > 0 && weeks[0].length > 0) {\n\t\t\tconst from = weeks[0][0].date;\n\t\t\tconst to = weeks[weeks.length - 1][weeks[weeks.length - 1].length - 1].date;\n\n\t\t\tif (from && to) {\n\t\t\t\tthis.displayRange.emit({\n\t\t\t\t\tfrom,\n\t\t\t\t\tto,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n}\n","import {\n\tComponent,\n\tInput,\n\tOutput,\n\tEventEmitter,\n\tChangeDetectionStrategy,\n\tElementRef,\n\tOnInit,\n\tOnDestroy,\n\tTemplateRef,\n\tHostBinding,\n} from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport { Subject } from 'rxjs/Subject';\nimport { timer } from 'rxjs/observable/timer';\nimport { takeUntil, distinctUntilChanged } from 'rxjs/operators';\n\nimport { DateHelper } from '@acpaas-ui/js-date-utils';\n\nimport {\n\tEventInterface,\n\tWeekdayInterface,\n\tSlotInterface,\n\tDateRangeInterface,\n\tDayRangeInterface,\n} from '../../types/agenda.types';\n\n@Component({\n\tselector: 'aui-agenda-month-view-calendar',\n\ttemplate: `<div *ngFor=\"let week of weeks\" class=\"o-agenda__table-row\">\n\t<div\n\t\t*ngFor=\"let day of week\"\n\t\t(tap)=\"emitSelectDay(day.date)\"\n\t\t[ngClass]=\"{\n\t\t\t'is-current': isToday(day.date),\n\t\t\t'is-selected': isSelected(day.date, range),\n\t\t\t'is-faded': isCurrentMonth(day.date, weeks[1][0].date)\n\t\t}\"\n\t\t[class]=\"day.highlights\"\n\t\tclass=\"o-agenda__table-row-cell\"\n\t\t[attr.date]=\"day.date\"\n\t\t(press)=\"touchStart(day.date)\"\n\t\t>\n\n\t\t<div (dragstart)=\"dragStart(day.date)\" class=\"o-agenda_drag-select\" draggable=\"true\"></div>\n\n\t\t<span class=\"o-agenda__table-row-cell-header\">\n\t\t\t<span>{{ day.date | date:'d' }}</span>\n\t\t</span>\n\n\t\t<aui-agenda-more-button\n\t\t\t*ngIf=\"day.more\"\n\t\t\t[hiddenEvents]=\"day.more\"\n\t\t\t(clickMore)=\"onClickMore(day.date)\"\n\t\t></aui-agenda-more-button>\n\n\t\t<aui-month-view-dots\n\t\t\t*ngIf=\"day.dots\"\n\t\t\t[dots]=\"day.dots\"\n\t\t></aui-month-view-dots>\n\t</div>\n</div>\n\n<aui-agenda-month-view-event-slots\n\t[slots]=\"slots\"\n\t[eventItemTemplate]=\"eventItemTemplate\"\n\t(selectEvent)=\"onSelectEvent($event)\"\n></aui-agenda-month-view-event-slots>\n`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MonthViewCalendarComponent implements OnInit, OnDestroy {\n\t@HostBinding('class.o-agenda__table-grid') public cssClass = true;\n\n\t@Input() public weeks: WeekdayInterface[][];\n\t@Input() public slots: SlotInterface[];\n\t@Input() public eventItemTemplate: TemplateRef<any>;\n\t@Input() public selectedDay: string;\n\t@Input() public range = {\n\t\tfrom: null,\n\t\tto: null,\n\t};\n\n\t@Output() public rowHeight = new EventEmitter<number>();\n\t@Output() public selectDay = new EventEmitter<string>();\n\t@Output() public selectRange = new EventEmitter<DayRangeInterface>();\n\t@Output() public selectEvent = new EventEmitter<EventInterface>();\n\t@Output() public clickMore = new EventEmitter();\n\t@Output() public dragRange = new EventEmitter();\n\n\tpublic pressedDay: string; // format: YYYY-MM-DD\n\tpublic currentDay: string; // format: YYYY-MM-DD\n\n\tprivate componentDestroyed$: Subject<boolean> = new Subject<boolean>();\n\n\tconstructor(\n\t\tprivate elementRef: ElementRef\n\t) {}\n\n\tpublic ngOnInit() {\n\t\tthis.currentDay = DateHelper.formatDate(new Date(), 'YYYY-MM-DD');\n\n\t\tthis.watchRowHeigth()\n\t\t\t.pipe(\n\t\t\t\ttakeUntil(this.componentDestroyed$)\n\t\t\t)\n\t\t\t.subscribe((height: number) => {\n\t\t\t\tthis.rowHeight.emit(height);\n\t\t\t});\n\n\t\tthis.watchDragOver()\n\t\t\t.pipe(\n\t\t\t\ttakeUntil(this.componentDestroyed$)\n\t\t\t)\n\t\t\t.subscribe((range) => {\n\t\t\t\tthis.emitDragRange(range);\n\t\t\t});\n\n\t\tthis.watchDrop()\n\t\t\t.pipe(\n\t\t\t\ttakeUntil(this.componentDestroyed$)\n\t\t\t)\n\t\t\t.subscribe(() => {\n\t\t\t\tthis.emitSelectRange(this.range);\n\t\t\t});\n\t}\n\n\tpublic isToday(date: Date) {\n\t\tconst day = DateHelper.formatDate(date, 'YYYY-MM-DD');\n\n\t\treturn day === this.currentDay;\n\t}\n\n\tpublic isSelected(day: Date, range: DateRangeInterface): boolean {\n\t\tconst currentDay = DateHelper.formatDate(day, 'YYYY-MM-DD');\n\t\tconst from = range && range.from ? DateHelper.formatDate(new Date(range.from.toString()), 'YYYY-MM-DD') : null;\n\t\tconst to = range && range.to ? DateHelper.formatDate(new Date(range.to.toString()), 'YYYY-MM-DD') : null;\n\n\t\treturn currentDay === this.selectedDay\n\t\t\t|| ((from && new Date(from) <= new Date(currentDay)) && (to && new Date(to) >= new Date(currentDay)));\n\t}\n\n\tpublic resetRange() {\n\t\tthis.emitDragRange({\n\t\t\tfrom: null,\n\t\t\tto: null,\n\t\t});\n\t}\n\n\tpublic ngOnDestroy() {\n\t\tthis.componentDestroyed$.next(true);\n\t\tthis.componentDestroyed$.complete();\n\t}\n\n\tpublic isCurrentMonth(day: string, date: Date) {\n\t\tconst dayDate = new Date(day);\n\t\tconst current = new Date(date);\n\n\t\treturn dayDate.getMonth() !== current.getMonth();\n\t}\n\n\tpublic emitSelectDay(day: Date): void {\n\t\t// Never emit a specific day as a `Date`, always use a string in `YYYY-MM-DD` format.\n\t\tthis.selectDay.emit(DateHelper.formatDate(day, 'YYYY-MM-DD'));\n\t\tthis.resetRange();\n\t}\n\n\tpublic emitDragRange(range) {\n\t\tthis.dragRange.emit(range);\n\t}\n\n\tpublic onSelectEvent(event: EventInterface): void {\n\t\tthis.selectEvent.emit(event);\n\t\tthis.resetRange();\n\t}\n\n\tpublic onClickMore(day: Date) {\n\t\tthis.resetRange();\n\t\tthis.clickMore.emit(day);\n\t}\n\n\tpublic dragStart(date: Date) {\n\t\tthis.selectDay.emit(null);\n\t\tthis.pressedDay = DateHelper.formatDate(date, 'YYYY-MM-DD');\n\t}\n\n\tpublic touchStart(date: Date) {\n\t\tthis.selectDay.emit(null);\n\t\tthis.pressedDay = DateHelper.formatDate(date, 'YYYY-MM-DD');\n\t}\n\n\tprivate watchRowHeigth(): Observable<number> {\n\t\tconst weekHeight$ = new Subject<number>();\n\n\t\ttimer(0, 250)\n\t\t\t.pipe(\n\t\t\t\ttakeUntil(this.componentDestroyed$)\n\t\t\t)\n\t\t\t.subscribe(() => {\n\t\t\t\tconst row = this.elementRef.nativeElement.querySelector('.o-agenda__table-row');\n\n\t\t\t\tif (row) {\n\t\t\t\t\tweekHeight$.next(row.offsetHeight);\n\t\t\t\t}\n\t\t\t});\n\n\t\treturn weekHeight$\n\t\t\t.pipe(\n\t\t\t\tdistinctUntilChanged()\n\t\t\t);\n\t}\n\n\tprivate watchDragOver() {\n\t\tconst target$: Subject<DayRangeInterface> = new Subject();\n\n\t\tconst handleElement = (element: HTMLElement) => {\n\t\t\tif (element && element.parentElement && element.parentElement.getAttribute('date')) {\n\n\t\t\t\tconst pressedDay = new Date(this.pressedDay);\n\t\t\t\tconst dragOverDate = new Date(element.parentElement.getAttribute('date'));\n\n\t\t\t\tif (pressedDay < dragOverDate) {\n\t\t\t\t\ttarget$.next({\n\t\t\t\t\t\tfrom: this.pressedDay,\n\t\t\t\t\t\tto: DateHelper.formatDate(dragOverDate as Date, 'YYYY-MM-DD'),\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\ttarget$.next({\n\t\t\t\t\t\tfrom: DateHelper.formatDate(dragOverDate as Date, 'YYYY-MM-DD'),\n\t\t\t\t\t\tto: this.pressedDay,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tdocument.addEventListener('dragover', (event) => {\n\t\t\tevent.preventDefault();\n\t\t\tconst target: HTMLElement = event.target as HTMLElement;\n\t\t\thandleElement(target);\n\t\t}, false);\n\n\t\tdocument.addEventListener('touchmove', (event) => {\n\t\t\tif (this.pressedDay) {\n\t\t\t\tconst touch = event.touches[0];\n\t\t\t\tconst element: HTMLElement = document.elementFromPoint(touch.clientX, touch.clientY) as HTMLElement;\n\t\t\t\thandleElement(element);\n\t\t\t}\n\t\t}, false);\n\n\t\treturn target$\n\t\t\t.pipe(\n\t\t\t\tdistinctUntilChanged((x, y) => {\n\t\t\t\t\treturn x.from === y.from && x.to === y.to;\n\t\t\t\t})\n\t\t\t);\n\t}\n\n\tprivate watchDrop() {\n\t\tconst target$ = new Subject();\n\n\t\tdocument.addEventListener('drop', (event) => {\n\t\t\t// prevent default action (open as link for some elements)\n\t\t\tevent.preventDefault();\n\n\t\t\ttarget$.next();\n\t\t}, false);\n\n\t\tdocument.addEventListener('touchend', () => {\n\t\t\t// prevent default action (open as link for some elements)\n\t\t\tif (this.pressedDay) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tthis.pressedDay = null;\n\t\t\t\ttarget$.next();\n\t\t\t}\n\t\t});\n\n\t\treturn target$;\n\t}\n\n\tprivate emitSelectRange(range: DateRangeInterface) {\n\t\t// Never emit a specific day as a `Date`, always use a string in `YYYY-MM-DD` format.\n\t\tthis.selectRange.emit({\n\t\t\tfrom: DateHelper.formatDate(range.from as Date, 'YYYY-MM-DD'),\n\t\t\tto: DateHelper.formatDate(range.to as Date, 'YYYY-MM-DD'),\n\t\t});\n\t}\n}\n","import { Component, Input } from '@angular/core';\n\n@Component({\n\tselector: 'aui-month-view-dots',\n\ttemplate: `<div class=\"o-agenda__dots\">\n\t<div *ngFor=\"let dot of dots\" [ngStyle]=\"{ 'background-color': dot }\" class=\"o-agenda__dot\"></div>\n</div>\n`,\n})\nexport class MonthViewDotsComponent {\n\t@Input() public dots: string[];\n}\n","import { Component, Input, TemplateRef } from '@angular/core';\n\nimport { EventInterface, SlotMetaInterface, SlotDisplayInterface } from '../../types/agenda.types';\n\n@Component({\n\tselector: 'aui-agenda-month-view-event-slot',\n\ttemplate: `<ng-template #defaultTemplate let-event=\"event\">\n\t<div class=\"a-event\" [ngStyle]=\"{ 'background-color': event.fullDay ? event.color : null }\" [ngClass]=\"{ 'a-event--light': event.fullDay }\">\n\t\t<div *ngIf=\"!event.fullDay\" class=\"a-event__bar\" [ngStyle]=\"{ 'background-color': event.color }\"></div>\n\n\t\t<div class=\"a-event__content\">\n\t\t\t<div *ngIf=\"event.iconBefore || event.title\" class=\"a-event__main\">\n\t\t\t\t<span *ngIf=\"event.iconBefore\" class=\"{{ event.iconBefore }} a-event__icon\"></span><span *ngIf=\"event.title\" class=\"a-event__title\">{{ event.title }}</span>\n\t\t\t</div>\n\n\t\t\t<div *ngIf=\"event.iconAfter || !event.fullDay\" class=\"a-event__extra\">\n\t\t\t\t<span *ngIf=\"!event.fullDay\" class=\"a-event__meta\">{{ event.startDate | date:'HH:mm' }}</span><span *ngIf=\"event.iconAfter\" class=\"{{ event.iconAfter }} a-event__icon\"></span>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</ng-template>\n\n<div class=\"o-agenda__table-event\" [ngStyle]=\"{\n\tleft: display.left,\n\ttop: display.top,\n\twidth: display.width\n}\">\n\t<ng-container *ngTemplateOutlet=\"template ? template : defaultTemplate; context: { event: event }\"></ng-container>\n</div>\n`,\n})\nexport class MonthViewEventSlotComponent {\n\t@Input() public event: EventInterface;\n\t@Input() public meta: SlotMetaInterface;\n\t@Input() public display: SlotDisplayInterface;\n\t@Input() public template: TemplateRef<any>;\n}\n","import { Component, Input, TemplateRef, Output, EventEmitter } from '@angular/core';\n\nimport { EventInterface, SlotInterface } from '../../types/agenda.types';\n\n@Component({\n\tselector: 'aui-agenda-month-view-event-slots',\n\ttemplate: `<div class=\"aui-agenda-month-view-event-slots\">\n\t<aui-agenda-month-view-event-slot\n\t\t*ngFor=\"let slot of slots\"\n\t\t[event]=\"slot.event\"\n\t\t[meta]=\"slot.meta\"\n\t\t[display]=\"slot.display\"\n\t\t[template]=\"eventItemTemplate\"\n\t\t(click)=\"emitSelectEvent(slot.event)\"\n\t></aui-agenda-month-view-event-slot>\n</div>\n\n`,\n})\nexport class MonthViewEventSlotsComponent {\n\t@Input() public slots: SlotInterface[] = [];\n\t@Input() public eventItemTemplate: TemplateRef<any>;\n\t@Output() public selectEvent = new EventEmitter<EventInterface>();\n\n\tpublic emitSelectEvent(event: EventInterface): void {\n\t\tthis.selectEvent.emit(event);\n\t}\n}\n","import { Component, Input, Inject, Output, EventEmitter } from '@angular/core';\n\nimport { MORE_LABEL } from '../../agenda.conf';\n\n@Component({\n\tselector: 'aui-agenda-more-button',\n\ttemplate: `<div class=\"o-agenda__more\">\n\t<button (click)=\"emitClickMore($event)\" *ngIf=\"hiddenEvents > 0\" class=\"o-agenda__more-button\">\n\t\t{{ hiddenEvents }} {{ label }}\n\t</button>\n</div>\n`,\n})\nexport class MoreButtonComponent {\n\t@Input() public hiddenEvents: number;\n\t@Output() public clickMore = new EventEmitter();\n\n\tconstructor(\n\t\t@Inject(MORE_LABEL) public label\n\t) {}\n\n\tpublic emitClickMore(event: MouseEvent) {\n\t\tevent.stopPropagation();\n\t\tthis.clickMore.emit();\n\t}\n}\n","import {\n\tComponent,\n\tChangeDetectionStrategy,\n\tInput,\n\tOutput,\n\tEventEmitter,\n\tHostBinding,\n\tOnInit,\n\tOnDestroy,\n} from '@angular/core';\nimport { Subject } from 'rxjs/Subject';\nimport { takeUntil, debounceTime, distinctUntilChanged } from 'rxjs/operators';\n\nimport { VIEWS } from '../../types/agenda.types';\n\n@Component({\n\tselector: 'aui-agenda-navigation',\n\ttemplate: `<h4>\n\t<ng-container *ngIf=\"view === views.DAY\">{{ activeDate | date:'dd/MM/y' }}</ng-container>\n\t<ng-container *ngIf=\"view === views.MONTH\">{{ activeDate | date:'M' | monthPipe }} {{ activeDate | date:'y' }}</ng-container>\n\t<ng-container *ngIf=\"view === views.YEAR\">{{ activeDate | date:'y' }}</ng-container>\n</h4>\n\n<div class=\"o-agenda__nav\">\n\t<button tabindex=\"-1\" type=\"button\" aria-label=\"previous month\" class=\"o-agenda__nav-previous a-button has-icon\" (click)=\"prev()\">\n\t\t<i class=\"fa fa-angle-left\"></i>\n\t</button>\n\n\t<button tabindex=\"0\" type=\"button\" aria-label=\"today\" class=\"a-button\" (click)=\"goToToday()\">\n\t\tVandaag\n\t</button>\n\n\t<button tabindex=\"0\" type=\"button\" aria-label=\"next month\" class=\"o-agenda__nav-next a-button has-icon\" (click)=\"next()\">\n\t\t<i class=\"fa fa-angle-right\"></i>\n\t</button>\n</div>\n`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class NavigationComponent implements OnInit, OnDestroy {\n\t@HostBinding('class.o-agenda__header') public cssClass = true;\n\t@Input() public activeDate: string;\n\t@Input() public view: VIEWS;\n\t@Input() public today: Date;\n\t@Output() public navigate = new EventEmitter<Date>();\n\tpublic views = VIEWS;\n\tpublic navigate$: Subject<Date> = new Subject();\n\tprivate componentDestroyed$: Subject<boolean> = new Subject<boolean>();\n\n\tpublic ngOnInit() {\n\t\tthis.navigate$\n\t\t\t.pipe(\n\t\t\t\ttakeUntil(this.componentDestroyed$),\n\t\t\t\tdistinctUntilChanged(),\n\t\t\t\tdebounceTime(200)\n\t\t\t)\n\t\t\t.subscribe((value: Date) => {\n\t\t\t\tthis.navigate.emit(value);\n\t\t\t});\n\t}\n\n\tpublic ngOnDestroy() {\n\t\tthis.componentDestroyed$.next(true);\n\t\tthis.componentDestroyed$.complete();\n\t}\n\n\tpublic prev(): void {\n\t\tconst date = new Date(this.activeDate);\n\t\tthis.changeDate(date, -1);\n\t}\n\n\tpublic next(): void {\n\t\tconst date = new Date(this.activeDate);\n\t\tthis.changeDate(date, 1);\n\t}\n\n\tpublic goToToday(): void {\n\t\tthis.navigate$.next(this.today);\n\t}\n\n\tpublic changeDate(date: Date, orient: number): void {\n\t\tif (this.view === VIEWS.DAY) {\n\t\t\treturn this.navigate$.next(this.changeDay(date, orient));\n\t\t}\n\n\t\tif (this.view === VIEWS.MONTH) {\n\t\t\treturn this.navigate$.next(this.changeMonth(date, orient));\n\t\t}\n\n\t\tif (this.view === VIEWS.YEAR) {\n\t\t\treturn this.navigate$.next(this.changeYear(date, orient));\n\t\t}\n\t}\n\n\tpublic changeDay(date: Date, orient: number): Date {\n\t\treturn new Date(date.getFullYear(), date.getMonth(), date.getDate() + orient);\n\t}\n\n\tpublic changeMonth(date: Date, orient: number): Date {\n\t\treturn new Date(date.getFullYear(), date.getMonth() + orient, 1);\n\t}\n\n\tpublic changeYear(date: Date, orient: number): Date {\n\t\treturn new Date(date.getFullYear() + orient, 0, 1);\n\t}\n}\n","import { AgendaComponent } from './agenda/agenda.component';\nimport { MonthViewComponent } from './month-view/month-view.component';\nimport { MonthViewCalendarComponent } from './month-view-calendar/month-view-calendar.component';\nimport { MonthViewDotsComponent } from './month-view-dots/month-view-dots.component';\nimport { MonthViewEventSlotComponent } from './month-view-event-slot/month-view-event-slot.component';\nimport { MonthViewEventSlotsComponent } from './month-view-event-slots/month-view-event-slots.component';\nimport { MoreButtonComponent } from './more-button/more-button.component';\nimport { NavigationComponent } from './navigation/navigation.component';\n\nexport const Components = [\n\tAgendaComponent,\n\tMonthViewComponent,\n\tMonthViewCalendarComponent,\n\tMonthViewDotsComponent,\n\tMonthViewEventSlotComponent,\n\tMonthViewEventSlotsComponent,\n\tMoreButtonComponent,\n\tNavigationComponent,\n];\n","import { DateHelperService } from './date-helper.service';\nimport { MonthViewSlotsService } from './month-view-slots.service';\nimport { SortingService } from './sorting.service';\n\nexport const Services = [\n\tDateHelperService,\n\tMonthViewSlotsService,\n\tSortingService,\n];\n","import * as Hammer from 'hammerjs';\nimport { HammerGestureConfig } from '@angular/platform-browser';\n\nexport class HammerConfig extends HammerGestureConfig  {\n\toverrides = <any>{\n\t\t'swipe': { direction: Hammer.DIRECTION_ALL  },\n\t};\n}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { HAMMER_GESTURE_CONFIG } from '@angular/platform-browser';\n\nimport { Pipes } from './pipes/index';\nimport { Components } from './components/index';\nimport { Services } from './services/index';\n\nimport {\n\tWEEKDAY_LABELS,\n\tDEFAULT_WEEKDAY_LABELS,\n\tMONTH_LABELS,\n\tDEFAULT_MONTH_LABELS,\n\tMORE_LABEL,\n\tDEFAULT_MORE_LABEL,\n} from './agenda.conf';\nimport { HammerConfig } from './hammer.conf';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t],\n\tdeclarations: [\n\t\tPipes,\n\t\tComponents,\n\t],\n\texports: [\n\t\tPipes,\n\t\tComponents,\n\t],\n\tproviders: [\n\t\tServices,\n\t\t{ provide: WEEKDAY_LABELS, useValue: DEFAULT_WEEKDAY_LABELS },\n\t\t{ provide: MONTH_LABELS, useValue: DEFAULT_MONTH_LABELS },\n\t\t{ provide: MORE_LABEL, useValue: DEFAULT_MORE_LABEL },\n\t\t{ provide: HAMMER_GESTURE_CONFIG, useClass: HammerConfig },\n\t],\n})\nexport class AgendaModule {\n\tstatic forChild(\n\t\tweekdayLabels: string[],\n\t\tmonthLabels: string[],\n\t\tmoreLabel: string\n\t): ModuleWithProviders {\n\t\treturn {\n\t\t\tngModule: AgendaModule,\n\t\t\tproviders: [\n\t\t\t\tServices,\n\t\t\t\t{ provide: WEEKDAY_LABELS, useValue: weekdayLabels },\n\t\t\t\t{ provide: MONTH_LABELS, useValue: monthLabels },\n\t\t\t\t{ provide: MORE_LABEL, useValue: moreLabel },\n\t\t\t\t{ provide: HAMMER_GESTURE_CONFIG, useClass: HammerConfig },\n\t\t\t],\n\t\t};\n\t}\n}\n"],"names":["InjectionToken","Pipe","Inject","Injectable","EventEmitter","Subject","timer","takeUntil","map","distinctUntilChanged","Component","ChangeDetectionStrategy","ElementRef","Input","Output","HostBinding","DateHelper","debounceTime","tslib_1.__extends","Hammer.DIRECTION_ALL","HammerGestureConfig","HAMMER_GESTURE_CONFIG","NgModule","CommonModule"],"mappings":"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"}
