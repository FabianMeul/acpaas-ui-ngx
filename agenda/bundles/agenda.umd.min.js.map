{"version":3,"sources":["ng://agenda/lib/agenda/agenda.conf.ts","ng://agenda/lib/agenda/pipes/month.pipe.ts","ng://agenda/lib/agenda/pipes/weekday.pipe.ts","ng://agenda/lib/agenda/pipes/index.ts","ng://agenda/lib/agenda/types/agenda.types.ts","ng://agenda/lib/agenda/services/date-helper.service.ts","ng://agenda/lib/agenda/components/agenda/agenda.component.ts","null","ng://agenda/lib/agenda/classes/event-map.class.ts","ng://agenda/lib/agenda/services/sorting.service.ts","ng://agenda/lib/agenda/services/month-view-slots.service.ts","ng://agenda/lib/agenda/components/month-view/month-view.component.ts","ng://agenda/lib/agenda/components/month-view-calendar/month-view-calendar.component.ts","ng://agenda/lib/agenda/components/month-view-dots/month-view-dots.component.ts","ng://agenda/lib/agenda/components/month-view-event-slot/month-view-event-slot.component.ts","ng://agenda/lib/agenda/components/month-view-event-slots/month-view-event-slots.component.ts","ng://agenda/lib/agenda/components/more-button/more-button.component.ts","ng://agenda/lib/agenda/components/navigation/navigation.component.ts","ng://agenda/lib/agenda/components/index.ts","ng://agenda/lib/agenda/services/index.ts","ng://agenda/lib/agenda/hammer.conf.ts","ng://agenda/lib/agenda/agenda.module.ts"],"names":["DEFAULT_WEEKDAY_LABELS","DEFAULT_MONTH_LABELS","DEFAULT_MORE_LABEL","WEEKDAY_LABELS","InjectionToken","MONTH_LABELS","MORE_LABEL","MonthPipe","monthLabels","this","prototype","transform","value","month","parseInt","isNaN","index","toString","Pipe","args","name","Inject","WeekdayPipe","weekdayLabels","Pipes","DateHelperService","getDaysForMonth","date","startDayOfWeek","range","firstDayOfMonth","getFirstWeekDayOfMonth","lastDayOfMonth","getLastWeekDayOfMonth","max","dateDiff","days","highlights","getHighlights","i","nextDay","getNextDay","push","Object","keys","filter","key","_this","inRange","join","some","item","Array","isArray","indexOf","getDay","d","Date","getTime","compareDates","getWeeksForMonth","numberOfWeeks","Math","round","length","fill","map","label","slice","getLastDateOfMonth","getFullYear","getMonth","moveToDayOfWeek","dayOfWeek","orient","diff","setDate","getDate","startOfWeek","Number","endOfWeek","today","tomorrow","startDate","endDate","start","end","date1","date2","date1Year","date1Month","date1Date","date2Year","date2Month","date2Date","orderWeekDays","array","arrayLength","weekdays","DAYS","SUNDAY","concat","Injectable","AgendaComponent","elementRef","dateHelperService","VIEWS","MONDAY","EventEmitter","getToday","Subject","ngOnInit","watchAgendaSize","ngOnChanges","changes","view","MONTH","currentValue","swipe","e","pointerType","type","prevMonth","nextMonth","ngOnDestroy","componentDestroyed$","next","complete","onNavigate","activeDate","onDisplayRange","navigate","emit","onSelectDay","selectDay","onSelectEvent","event","selectEvent","onClickMore","clickMore","setHours","onSelectRange","selectRange","agendaSize$","timer","pipe","takeUntil","nativeElement","offsetWidth","distinctUntilChanged","width","Component","selector","template","styles","changeDetection","ChangeDetectionStrategy","OnPush","ElementRef","Input","Output","extendStatics","setPrototypeOf","__proto__","b","p","hasOwnProperty","__assign","assign","t","s","n","arguments","call","EventMap","weeks","slots","initSlots","availableSlots","slotMap","day","events","fillSlot","week","slot","span","meta","isSlotFree","getFreeSlot","findIndex","o","addEvent","getSlots","eventHeight","weekHeight","heightOffset","dayWidth","flatten","list","reduce","a","display","left","top","getEventsMap","total","more","dots","color","pos","SortingService","sortEvents","sort","sortedByDate","sortByDateHelper","sortedBySpan","sortBySpanHelper","sortByDateTimeHelper","aStartDate","bStartDate","aStart","aEnd","bStart","bEnd","spanA","spanB","MonthViewSlotsService","sortingService","generateEventMap","firstDay","lastDay","mappedEvents","formatEvents","filteredEvents","filterEvents","sortedEvents","eventMap","forEach","calculate","weekdaysLength","lengthOfEvent","difftest","MonthViewComponent","monthViewSlotsService","from","to","calculateMonthWeeks","emitDisplayRange","setSlotsAndWeeks","selectedDay","onChangeRowHeight","height","floor","onDragRange","selectedRange","displayRange","HostBinding","MonthViewCalendarComponent","currentDay","DateHelper","formatDate","watchRowHeigth","subscribe","rowHeight","watchDragOver","emitDragRange","watchDrop","emitSelectRange","isToday","isSelected","resetRange","isCurrentMonth","dayDate","current","emitSelectDay","dragRange","dragStart","pressedDay","touchStart","weekHeight$","row","querySelector","offsetHeight","target$","handleElement","element","parentElement","getAttribute","dragOverDate","document","addEventListener","preventDefault","target","touch","touches","elementFromPoint","clientX","clientY","x","y","MonthViewDotsComponent","MonthViewEventSlotComponent","MonthViewEventSlotsComponent","emitSelectEvent","MoreButtonComponent","emitClickMore","stopPropagation","NavigationComponent","navigate$","debounceTime","prev","changeDate","goToToday","DAY","changeDay","changeMonth","YEAR","changeYear","Components","Services","HammerConfig","_super","direction","Hammer.DIRECTION_ALL","__","constructor","create","tslib_1.__extends","HammerGestureConfig","ɵ0","ɵ1","AgendaModule","forChild","moreLabel","ngModule","providers","provide","useValue","HAMMER_GESTURE_CONFIG","useClass","NgModule","imports","CommonModule","declarations","exports"],"mappings":"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","sourcesContent":["import { InjectionToken } from '@angular/core';\n\nexport const DEFAULT_WEEKDAY_LABELS = [\n\t'Sunday',\n\t'Monday',\n\t'Tuesday',\n\t'Wednesday',\n\t'Thursday',\n\t'Firday',\n\t'Saturday',\n];\n\nexport const DEFAULT_MONTH_LABELS = [\n\t'January',\n\t'February',\n\t'March',\n\t'April',\n\t'May',\n\t'June',\n\t'July',\n\t'August',\n\t'September',\n\t'October',\n\t'November',\n\t'December',\n];\n\nexport const DEFAULT_MORE_LABEL = 'more';\n\nexport const WEEKDAY_LABELS = new InjectionToken<string[]>('weekdayLabels');\nexport const MONTH_LABELS = new InjectionToken<string[]>('monthLabels');\nexport const MORE_LABEL = new InjectionToken<string>('moreLabel');\n","import { Pipe, PipeTransform, Inject } from '@angular/core';\n\nimport { MONTH_LABELS, DEFAULT_MONTH_LABELS } from '../agenda.conf';\n\n@Pipe({\n\tname: 'monthPipe',\n})\nexport class MonthPipe implements PipeTransform {\n\tconstructor(\n\t\t@Inject(MONTH_LABELS) private monthLabels = DEFAULT_MONTH_LABELS\n\t) {}\n\n\tpublic transform(value: any): string {\n\t\tconst month = parseInt(value, 10);\n\n\t\tif (isNaN(month)) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst index = (month - 1).toString();\n\t\treturn this.monthLabels[index.toString()] || DEFAULT_MONTH_LABELS[index.toString()];\n\t}\n}\n","import { Pipe, PipeTransform, Inject } from '@angular/core';\n\nimport { WEEKDAY_LABELS, DEFAULT_WEEKDAY_LABELS } from '../agenda.conf';\n\n@Pipe({\n\tname: 'weekdayPipe',\n})\nexport class WeekdayPipe implements PipeTransform {\n\tconstructor(\n\t\t@Inject(WEEKDAY_LABELS) private weekdayLabels = DEFAULT_WEEKDAY_LABELS\n\t) {}\n\n\tpublic transform(value: number): string {\n\t\treturn this.weekdayLabels[(value).toString()] || DEFAULT_WEEKDAY_LABELS[(value).toString()];\n\t}\n}\n","import { MonthPipe } from './month.pipe';\nimport { WeekdayPipe } from './weekday.pipe';\n\nexport const Pipes = [\n\tMonthPipe,\n\tWeekdayPipe,\n];\n","export interface EventInterface {\n\tstartDate: Date;\n\tendDate: Date;\n\ttitle: string;\n\t[propName: string]: any;\n}\n\nexport interface SlotMetaInterface {\n\tweek: number;\n\tday: number;\n\tslot: number;\n\tspan: number;\n}\n\nexport interface SlotDisplayInterface {\n\tleft: string;\n\ttop: string;\n\twidth: string;\n}\n\nexport interface SlotInterface {\n\tmeta?: SlotMetaInterface;\n\tdisplay?: SlotDisplayInterface;\n\tevent?: EventInterface;\n}\n\nexport interface SlotMapItemInterface {\n\tslots: (SlotInterface|boolean)[];\n\tevents: EventInterface[];\n\n}\n\nexport type SlotMapInterface = SlotMapItemInterface[][];\n\nexport type DotMapInterface = (string)[][][];\n\nexport interface DateRangeInterface {\n\tfrom: Date|string;\n\tto: Date|string;\n}\n\nexport interface DayRangeInterface {\n\tfrom: string;\n\tto: string;\n}\n\nexport enum DAYS {\n\tSUNDAY,\n\tMONDAY,\n\tTUESDAY,\n\tWEDNESDAY,\n\tTHURSDAY,\n\tFRIDAY,\n\tSATURDAY,\n}\n\nexport enum VIEWS {\n\tDAY = 'DAY',\n\tWEEK = 'WEEK',\n\tMONTH = 'MONTH',\n\tYEAR = 'YEAR',\n}\n\nexport interface WeekdayInterface {\n\tdate: Date;\n\t// events: EventInterface[];\n\t// total: number;\n\t// dots: string[];\n\t[propName: string]: any;\n}\n\nexport type RangeInterface = (number[]|Date)[];\n\nexport interface HighLightInterface {\n\t[propName: string]: RangeInterface;\n}\n","// TODO: Move this to @acpaas-ui/js-date-utils\nimport { Injectable } from '@angular/core';\n\nimport {\n\tWeekdayInterface,\n\tHighLightInterface,\n\tRangeInterface,\n\tDAYS,\n} from '../types/agenda.types';\n\n@Injectable()\nexport class DateHelperService {\n\n\tpublic getDaysForMonth(date: Date, startDayOfWeek: number, range: HighLightInterface = null): WeekdayInterface[] {\n\t\tconst firstDayOfMonth = this.getFirstWeekDayOfMonth(date, startDayOfWeek);\n\t\tconst lastDayOfMonth = this.getLastWeekDayOfMonth(date, startDayOfWeek);\n\t\tconst max = this.dateDiff(firstDayOfMonth, lastDayOfMonth);\n\n\t\tconst days = [\n\t\t\t{ date: firstDayOfMonth, highlights: this.getHighlights(range, firstDayOfMonth) },\n\t\t];\n\n\t\tfor (let i = 0; i < max; i += 1) {\n\t\t\tconst nextDay = this.getNextDay(days[i].date);\n\n\t\t\tdays.push({\n\t\t\t\thighlights: this.getHighlights(range, nextDay),\n\t\t\t\tdate: nextDay,\n\t\t\t});\n\t\t}\n\n\t\treturn days;\n\t}\n\n\tpublic getHighlights(range: HighLightInterface, date: Date): string {\n\t\tif (!range) {\n\t\t\treturn '';\n\t\t}\n\n\t\treturn Object.keys(range).filter((key) => {\n\t\t\treturn this.inRange(range[key], date);\n\t\t}).join(' ');\n\t}\n\n\tpublic inRange(range: RangeInterface, date: Date): boolean {\n\t\treturn range.some((item) => {\n\t\t\tif (Array.isArray(item)) {\n\t\t\t\treturn item.indexOf(date.getDay()) !== -1;\n\t\t\t}\n\n\t\t\tconst d = new Date(item);\n\t\t\tif (!isNaN(d.getTime())) {\n\t\t\t\treturn this.compareDates(d, date);\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic getWeeksForMonth(days: WeekdayInterface[]): WeekdayInterface[][] {\n\t\tconst numberOfWeeks = Math.round(days.length / 7);\n\n\t\treturn Array(numberOfWeeks).fill(null).map((label, index) => {\n\t\t\treturn days.slice(index * 7, (index + 1) * 7);\n\t\t});\n\t}\n\n\tpublic getLastDateOfMonth(date: Date): Date {\n\t\treturn new Date(date.getFullYear(), date.getMonth() + 1, 0);\n\t}\n\n\tpublic moveToDayOfWeek(date: Date, dayOfWeek: number, orient: number): Date {\n\t\tlet diff = (dayOfWeek - date.getDay() + 7 * (orient || + 1)) % 7;\n\t\tconst value = (diff === 0) ? diff += 7 * (orient || +1) : diff;\n\t\tconst d = new Date(date);\n\t\treturn new Date(d.setDate(date.getDate() + value * 1));\n\t}\n\n\tpublic getFirstWeekDayOfMonth(date: Date, startOfWeek: number|string): Date {\n\t\tconst firstDayOfMonth = new Date(date.getFullYear(), date.getMonth(), 1);\n\t\tif (firstDayOfMonth.getDay() === Number(startOfWeek)) {\n\t\t\treturn firstDayOfMonth;\n\t\t}\n\t\treturn this.moveToDayOfWeek(firstDayOfMonth, Number(startOfWeek), -1);\n\t}\n\n\tpublic getLastWeekDayOfMonth(date: Date, startOfWeek: number): Date {\n\t\tconst endOfWeek = (startOfWeek === 0 ? 6 : startOfWeek - 1);\n\t\tconst lastDayOfMonth = this.getLastDateOfMonth(date);\n\t\tif (lastDayOfMonth.getDay() === endOfWeek) {\n\t\t\treturn lastDayOfMonth;\n\t\t}\n\t\treturn this.moveToDayOfWeek(lastDayOfMonth, endOfWeek, 1);\n\t}\n\n\tpublic getNextDay(today: Date): Date {\n\t\tconst tomorrow = new Date(today);\n\t\ttomorrow.setDate(today.getDate() + 1);\n\t\treturn tomorrow;\n\t}\n\n\tpublic dateDiff(startDate: Date, endDate: Date): number {\n\t\t// Compare based on date, not on time\n\t\tconst start = new Date(startDate.getFullYear(), startDate.getMonth(), startDate.getDate());\n\t\tconst end = new Date(endDate.getFullYear(), endDate.getMonth(), endDate.getDate());\n\n\t\treturn Math.round((end.getTime() - start.getTime()) / ( 1000 * 60 * 60 * 24));\n\t}\n\n\tpublic compareDates(date1: Date, date2: Date): boolean {\n\t\tconst date1Year = date1.getFullYear();\n\t\tconst date1Month = date1.getMonth();\n\t\tconst date1Date = date1.getDate();\n\t\tconst date2Year = date2.getFullYear();\n\t\tconst date2Month = date2.getMonth();\n\t\tconst date2Date = date2.getDate();\n\n\t\treturn date1Year === date2Year && date1Month === date2Month && date1Date === date2Date;\n\t}\n\n\tpublic orderWeekDays(startDayOfWeek: DAYS): DAYS[] {\n\t\tconst rotate = function (array, index) {\n\t\t\tconst arrayLength = array.length;\n\t\t\treturn array.slice(arrayLength - index).concat(array.slice(0, arrayLength - index));\n\t\t};\n\t\tconst weekdays = [0, 1, 2, 3, 4, 5, 6];\n\n\t\tif (startDayOfWeek === DAYS.SUNDAY) {\n\t\t\treturn weekdays;\n\t\t} else {\n\t\t\treturn rotate(weekdays, 7 - startDayOfWeek);\n\t\t}\n\t}\n}\n","import {\n\tComponent,\n\tInput,\n\tOutput,\n\tEventEmitter,\n\tChangeDetectionStrategy,\n\tTemplateRef,\n\tOnInit,\n\tOnChanges,\n\tOnDestroy,\n\tElementRef,\n} from '@angular/core';\nimport { timer } from 'rxjs/observable/timer';\nimport { Subject } from 'rxjs/Subject';\nimport { takeUntil, map, distinctUntilChanged } from 'rxjs/operators';\n\nimport { DateHelperService } from '../../services/date-helper.service';\nimport { VIEWS, DAYS, DateRangeInterface, EventInterface, HighLightInterface } from '../../types/agenda.types';\n\n@Component({\n\tselector: 'aui-agenda',\n\ttemplate: `<div [ngClass]=\"agendaSize$ | async\" class=\"o-agenda\">\n\t<div class=\"o-agenda__inner\">\n\t\t<aui-agenda-navigation\n\t\t\t[activeDate]=\"activeDate\"\n\t\t\t[view]=\"view\"\n\t\t\t[today]=\"today\"\n\t\t\t(navigate)=\"onNavigate($event)\"\n\t\t></aui-agenda-navigation>\n\n\t\t<aui-agenda-month-view\n\t\t\t*ngIf=\"view === views.MONTH\"\n\t\t\t[activeDate]=\"activeDate\"\n\t\t\t[weekdays]=\"weekdays\"\n\t\t\t[startDayOfWeek]=\"startDayOfWeek\"\n\t\t\t[events]=\"events\"\n\t\t\t[highlights]=\"highlights\"\n\t\t\t[eventItemTemplate]=\"monthEventItemTemplate\"\n\t\t\t(selectDay)=\"onSelectDay($event)\"\n\t\t\t(selectEvent)=\"onSelectEvent($event)\"\n\t\t\t(clickMore)=\"onClickMore($event)\"\n\t\t\t(selectRange)=\"onSelectRange($event)\"\n\t\t\t(displayRange)=\"onDisplayRange($event)\"\n\t\t\t(swipeleft)=\"swipe($event)\"\n\t\t\t(swiperight)=\"swipe($event)\"\n\t\t></aui-agenda-month-view>\n\t</div>\n</div>\n`,\n\tstyles: [`:host{display:block;width:100%;height:100%}`],\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AgendaComponent implements OnInit, OnChanges, OnDestroy {\n\t// Default\n\t@Input() public events: EventInterface[];\n\t@Input() public view: VIEWS;\n\tpublic views = VIEWS;\n\n\t// Month view\n\t@Input() public startDayOfWeek: DAYS = DAYS.MONDAY; // Start of the week (0 = sunday, 1 = monday, ...)\n\t@Input() public activeDate: Date;\n\t@Input() public highlights: HighLightInterface;\n\t@Input() public monthEventItemTemplate: TemplateRef<any>;\n\t@Output() public navigate = new EventEmitter<DateRangeInterface>();\n\t@Output() public selectRange = new EventEmitter<DateRangeInterface>();\n\t@Output() public selectDay = new EventEmitter<Date>();\n\t@Output() public selectEvent = new EventEmitter<EventInterface>();\n\t@Output() public clickMore = new EventEmitter();\n\n\tpublic agendaSize$;\n\tpublic weekdays: DAYS[] = [1, 2, 3, 4, 5, 6, 0];\n\tpublic today: Date = this.getToday();\n\tprivate componentDestroyed$: Subject<boolean> = new Subject<boolean>();\n\n\tconstructor(\n\t\tprivate elementRef: ElementRef,\n\t\tprivate dateHelperService: DateHelperService\n\t) {}\n\n\tpublic ngOnInit() {\n\t\tthis.watchAgendaSize();\n\t}\n\n\tpublic ngOnChanges(changes) {\n\t\tif (changes && changes.startDayOfWeek) {\n\t\t\tif (this.view === VIEWS.MONTH) {\n\t\t\t\tthis.weekdays = this.dateHelperService.orderWeekDays(changes.startDayOfWeek.currentValue);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic swipe(e) {\n\t\tif (e.pointerType !== 'touch') {\n\t\t\treturn;\n\t\t}\n\n\t\tif (e.type === 'swipeleft') {\n\t\t\tthis.nextMonth();\n\t\t\treturn;\n\t\t}\n\n\t\tif (e.type === 'swiperight') {\n\t\t\tthis.prevMonth();\n\t\t\treturn;\n\t\t}\n\t}\n\n\tpublic ngOnDestroy() {\n\t\tthis.componentDestroyed$.next(true);\n\t\tthis.componentDestroyed$.complete();\n\t}\n\n\tpublic onNavigate(date: Date): void {\n\t\tthis.activeDate = new Date(date);\n\t}\n\n\tpublic onDisplayRange(range: DateRangeInterface): void {\n\t\tthis.navigate.emit(range);\n\t}\n\n\tpublic onSelectDay(date: Date): void {\n\t\tthis.selectDay.emit(date);\n\t}\n\n\tpublic onSelectEvent(event: EventInterface): void {\n\t\tthis.selectEvent.emit(event);\n\t}\n\n\tpublic onClickMore(date: Date) {\n\t\tthis.clickMore.emit(date);\n\t}\n\n\tprivate getToday(): Date {\n\t\tconst date = new Date();\n\t\tdate.setHours(0, 0, 0, 0);\n\t\treturn date;\n\t}\n\n\tpublic prevMonth(): void {\n\t\tconst date = new Date(this.activeDate);\n\t\tthis.onNavigate(new Date(date.getFullYear(), date.getMonth() - 1, 1));\n\t}\n\n\tpublic nextMonth(): void {\n\t\tconst date = new Date(this.activeDate);\n\t\tthis.onNavigate(new Date(date.getFullYear(), date.getMonth() + 1, 1));\n\t}\n\n\tpublic onSelectRange(range: DateRangeInterface) {\n\t\tthis.selectRange.emit(range);\n\t}\n\n\tprivate watchAgendaSize(): void {\n\t\tthis.agendaSize$ = timer(0, 250)\n\t\t\t.pipe(\n\t\t\t\ttakeUntil(this.componentDestroyed$),\n\t\t\t\tmap(() => {\n\t\t\t\t\treturn this.elementRef.nativeElement.offsetWidth;\n\t\t\t\t}),\n\t\t\t\tdistinctUntilChanged()\n\t\t\t)\n\t\t\t.pipe(\n\t\t\t\tmap((width) => {\n\t\t\t\t\tif (width > 800) {\n\t\t\t\t\t\treturn 'o-agenda--big';\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn 'o-agenda--small';\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t);\n\t}\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator.throw(value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}","import { SlotMapInterface, SlotInterface, EventInterface, WeekdayInterface } from '../types/agenda.types';\n\nexport class EventMap {\n\tpublic slotMap: SlotMapInterface;\n\n\tconstructor(weeks: WeekdayInterface[][], slots: number) {\n\t\tthis.initSlots(weeks, slots);\n\t}\n\n\tpublic initSlots(weeks: WeekdayInterface[][], availableSlots: number): void {\n\t\tthis.slotMap = weeks.map((weekdays) => {\n\t\t\treturn weekdays.map((day) => {\n\t\t\t\treturn Object.assign({}, day, {\n\t\t\t\t\tslots: Array(availableSlots).fill(null),\n\t\t\t\t\tevents: [],\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n\n\tpublic fillSlot(week: number, day: number, slot: number, span: number = 1, event: any = null): void {\n\t\tif (event) {\n\t\t\tthis.slotMap[week][day].slots[slot] = {\n\t\t\t\tmeta: {\n\t\t\t\t\tweek,\n\t\t\t\t\tday,\n\t\t\t\t\tslot,\n\t\t\t\t\tspan,\n\t\t\t\t},\n\t\t\t\tevent,\n\t\t\t};\n\n\t\t\tfor (let i = 1; i < span; i += 1) {\n\t\t\t\tthis.fillSlot(week, day + i, slot);\n\t\t\t}\n\n\t\t} else {\n\t\t\tthis.slotMap[week][day].slots[slot] = true;\n\t\t}\n\t}\n\n\tpublic isSlotFree(week: number, day: number, slot: number): boolean {\n\t\treturn this.slotMap[week][day].slots[slot] === null;\n\t}\n\n\tpublic getFreeSlot(week: number, day: number): number {\n\t\treturn this.slotMap[week][day].slots.findIndex((o) => {\n\t\t\treturn o === null;\n\t\t});\n\t}\n\n\tpublic addEvent(week: number, day: number, span: number, event: any): void {\n\t\tif (event) {\n\t\t\tthis.slotMap[week][day].events.push(event);\n\n\t\t\tfor (let i = 1; i < span; i += 1) {\n\t\t\t\tthis.slotMap[week][day + i].events.push(event);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic getSlots(eventHeight: number, weekHeight: number, heightOffset: number): SlotInterface[] {\n\t\tconst numberOfDays = this.slotMap[0].length;\n\t\tconst dayWidth = ((1 / numberOfDays) * 100);\n\n\t\tconst flatten = list => list.reduce(\n\t\t\t(a, b) => a.concat(Array.isArray(b) ? flatten(b) : b), []\n\t\t);\n\n\t\tconst slots = this.slotMap.map((o) => {\n\t\t\treturn o.map((p) => {\n\t\t\t\treturn p.slots;\n\t\t\t});\n\t\t});\n\n\t\treturn flatten(slots).filter((slot: SlotInterface) => {\n\t\t\treturn slot !== null && slot !== true;\n\t\t}).map((slot: SlotInterface) => {\n\t\t\treturn {\n\t\t\t\t...slot,\n\t\t\t\tdisplay: {\n\t\t\t\t\tleft: 'calc(' + dayWidth * slot.meta.day + '% + 4px)',\n\t\t\t\t\ttop: heightOffset + (weekHeight * slot.meta.week) + (slot.meta.slot * eventHeight) + 'px',\n\t\t\t\t\twidth: 'calc(' + dayWidth * slot.meta.span + '% - 8px)',\n\t\t\t\t},\n\t\t\t};\n\t\t});\n\t}\n\n\tpublic getEventsMap(availableSlots: number): any {\n\t\treturn this.slotMap.map((days) => {\n\t\t\treturn days.map((day) => {\n\t\t\t\treturn Object.assign({}, day, {\n\t\t\t\t\ttotal: day.events.length,\n\t\t\t\t\tmore: day.events.length - availableSlots,\n\t\t\t\t\tdots: day.events.map((event: EventInterface): string => {\n\t\t\t\t\t\treturn event.color;\n\t\t\t\t\t}).filter((color: string, pos: number, array: string[]): boolean => {\n\t\t\t\t\t\treturn array.indexOf(color) === pos;\n\t\t\t\t\t}).slice(0, 3),\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { EventInterface } from '../types/agenda.types';\nimport { DateHelperService } from './date-helper.service';\nimport { EventMap } from '../classes/event-map.class';\n\n@Injectable()\nexport class SortingService {\n\n\tconstructor(\n\t\tprivate dateHelperService: DateHelperService\n\t) {}\n\n\tpublic sortEvents(events: EventInterface[]): EventInterface[] {\n\t\treturn events.sort((a, b) => {\n\t\t\t// Sort by date\n\t\t\tconst sortedByDate = this.sortByDateHelper(a.startDate, b.startDate);\n\t\t\tif (sortedByDate !== 0) {\n\t\t\t\treturn sortedByDate;\n\t\t\t}\n\n\t\t\t// Sort by diff\n\t\t\tconst sortedBySpan = this.sortBySpanHelper(a.startDate, a.endDate, b.startDate, b.endDate);\n\t\t\tif (sortedBySpan !== 0) {\n\t\t\t\treturn sortedBySpan;\n\t\t\t}\n\n\t\t\treturn this.sortByDateTimeHelper(a.startDate, b.startDate);\n\t\t});\n\t}\n\n\tpublic sortByDateHelper(a: Date, b: Date): number {\n\t\tconst aStartDate = new Date(a.getFullYear(), a.getMonth(), a.getDate());\n\t\tconst bStartDate = new Date(b.getFullYear(), b.getMonth(), b.getDate());\n\n\t\tif (aStartDate < bStartDate) {\n\t\t\treturn -1;\n\t\t}\n\n\t\tif (aStartDate > bStartDate) {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn 0;\n\t}\n\n\tpublic sortByDateTimeHelper(a: Date, b: Date): number {\n\t\tif (a < b) {\n\t\t\treturn -1;\n\t\t}\n\n\t\tif (a > b) {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn 0;\n\t}\n\n\tpublic sortBySpanHelper(aStart: Date, aEnd: Date, bStart: Date, bEnd: Date): number {\n\t\tconst spanA = this.dateHelperService.dateDiff(aStart, aEnd);\n\t\tconst spanB = this.dateHelperService.dateDiff(bStart, bEnd);\n\n\t\tif (spanA > spanB) {\n\t\t\treturn -1;\n\t\t}\n\n\t\tif (spanA < spanB) {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn 0;\n\t}\n}\n","import { Injectable } from '@angular/core';\n\nimport { EventInterface, SlotInterface, WeekdayInterface } from '../types/agenda.types';\nimport { DateHelperService } from './date-helper.service';\nimport { EventMap } from '../classes/event-map.class';\nimport { SortingService } from './sorting.service';\n\n@Injectable()\nexport class MonthViewSlotsService {\n\tpublic eventMap: EventMap;\n\n\tconstructor(\n\t\tprivate dateHelperService: DateHelperService,\n\t\tprivate sortingService: SortingService\n\t) {}\n\n\tpublic generateEventMap(events: EventInterface[], weeks: WeekdayInterface[][], availableSlots: number): EventMap {\n\t\tconst firstDay = new Date(weeks[0][0].date);\n\t\tconst lastDay = new Date(weeks[weeks.length - 1][weeks[weeks.length - 1].length - 1].date);\n\n\t\t// 1. Format\n\t\tconst mappedEvents = this.formatEvents(events);\n\n\t\t// 2. Remove events waar de endDate < startMonth of endDate > endMonth\n\t\tconst filteredEvents = this.filterEvents(mappedEvents, firstDay, lastDay);\n\n\t\t// 3. Sorteer van oud naar nieuw en van lang event naar kort event\n\t\tconst sortedEvents: EventInterface[] = this.sortingService.sortEvents(filteredEvents);\n\n\t\t// 4. Fill EventMap\n\t\tthis.eventMap = new EventMap(weeks, availableSlots);\n\t\tsortedEvents.forEach((event) => {\n\t\t\tif (event.startDate < firstDay) {\n\t\t\t\tthis.calculate(firstDay, event.endDate, 0, 0, event, weeks);\n\t\t\t} else {\n\t\t\t\tfor (let week = 0; week < weeks.length; week += 1) {\n\t\t\t\t\tfor (let day = 0; day < weeks[week].length; day += 1) {\n\t\t\t\t\t\tconst date = weeks[week][day].date;\n\t\t\t\t\t\tif (this.dateHelperService.compareDates(event.startDate, date)) {\n\t\t\t\t\t\t\tthis.calculate(event.startDate, event.endDate, week, day, event, weeks);\n\n\t\t\t\t\t\t\t// Stop for loop --> improve performance\n\t\t\t\t\t\t\tday = weeks[week].length;\n\t\t\t\t\t\t\tweek = weeks.length - 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn this.eventMap;\n\t}\n\n\tpublic formatEvents(events) {\n\t\treturn events.map((event: EventInterface) => {\n\t\t\treturn Object.assign({}, event, {\n\t\t\t\tstartDate: new Date(event.startDate),\n\t\t\t\tendDate: new Date(event.endDate),\n\t\t\t});\n\t\t});\n\t}\n\n\tpublic filterEvents(events, firstDay, lastDay) {\n\t\treturn events.filter((event) => {\n\t\t\treturn new Date(event.endDate) > firstDay && new Date(event.startDate) < lastDay;\n\t\t});\n\t}\n\n\tpublic calculate(start: Date, end: Date, week: number, day: number, event: any, weeks: WeekdayInterface[][]): void {\n\t\tconst weekdaysLength = weeks[0].length;\n\t\tconst lengthOfEvent = this.dateHelperService.dateDiff(start, end);\n\t\tconst span = lengthOfEvent + 1 <= weekdaysLength - day ? lengthOfEvent + 1 : weekdaysLength - day;\n\t\tconst difftest = (lengthOfEvent - span) + 1;\n\n\t\tthis.eventMap.addEvent(week, day, span, event);\n\n\t\tconst slot = this.eventMap.getFreeSlot(week, day);\n\t\tif (slot !== -1) {\n\t\t\tthis.eventMap.fillSlot(week, day, slot, span, event);\n\t\t}\n\n\t\tif (difftest > 1 && week + 1 < weeks.length) {\n\t\t\tthis.calculate(weeks[week + 1][0].date, end, week + 1, 0, event, weeks);\n\t\t}\n\t}\n}\n","import {\n\tComponent,\n\tInput,\n\tOutput,\n\tEventEmitter,\n\tChangeDetectionStrategy,\n\tTemplateRef,\n\tHostBinding,\n\tOnChanges,\n} from '@angular/core';\n\nimport {\n\tEventInterface,\n\tWeekdayInterface,\n\tDAYS,\n\tHighLightInterface,\n\tDateRangeInterface,\n\tSlotInterface,\n} from '../../types/agenda.types';\n\nimport { MonthViewSlotsService } from '../../services/month-view-slots.service';\nimport { DateHelperService } from '../../services/date-helper.service';\n\n@Component({\n\tselector: 'aui-agenda-month-view',\n\ttemplate: `<div class=\"o-agenda__table-head\">\n\t<div *ngFor=\"let weekday of weekdays\" class=\"o-agenda__table-head-cell\">{{ weekday | weekdayPipe }}</div>\n</div>\n\n<aui-agenda-month-view-calendar\n\t[weeks]=\"weeks\"\n\t[slots]=\"slots\"\n\t[selectedDay]=\"selectedDay\"\n\t[range]=\"selectedRange\"\n\t[eventItemTemplate]=\"eventItemTemplate\"\n\t(rowHeight)=\"onChangeRowHeight($event)\"\n\t(selectEvent)=\"onSelectEvent($event)\"\n\t(selectDay)=\"onSelectDay($event)\"\n\t(selectRange)=\"onSelectRange($event)\"\n\t(clickMore)=\"onClickMore($event)\"\n\t(dragRange)=\"onDragRange($event)\"\n></aui-agenda-month-view-calendar>\n`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MonthViewComponent implements OnChanges {\n\t@HostBinding('class.o-agenda__table') public cssClass = true;\n\n\t@Input() public activeDate: Date;\n\t@Input() public startDayOfWeek: DAYS = DAYS.MONDAY; // Start of the week (0 = sunday, 1 = monday, ...)\n\t@Input() public highlights: HighLightInterface;\n\n\t@Input() public weekdays: DAYS[] = [1, 2, 3, 4, 5, 6, 0];\n\t@Input() public events: EventInterface[];\n\t@Input() public eventItemTemplate: TemplateRef<any>;\n\n\t@Output() public displayRange = new EventEmitter<DateRangeInterface>();\n\t@Output() public selectRange = new EventEmitter<DateRangeInterface>();\n\t@Output() public selectDay = new EventEmitter<Date>();\n\t@Output() public selectEvent = new EventEmitter<EventInterface>();\n\t@Output() public clickMore = new EventEmitter();\n\n\tpublic slots: SlotInterface[];\n\tpublic weeks: WeekdayInterface[][] = [];\n\tpublic selectedDay: Date;\n\tpublic selectedRange = {\n\t\tfrom: null,\n\t\tto: null,\n\t};\n\n\tpublic weekHeight: number;\n\tpublic eventHeight = 28;\n\tpublic heightOffset = 28;\n\tpublic eventsByDay: any;\n\tpublic availableSlots = 0;\n\n\tconstructor(\n\t\tprivate monthViewSlotsService: MonthViewSlotsService,\n\t\tprivate dateHelperService: DateHelperService\n\t) {}\n\n\tpublic ngOnChanges(changes) {\n\t\tif (changes.activeDate || changes.startDayOfWeek) {\n\t\t\tthis.weeks = this.calculateMonthWeeks(this.activeDate, this.startDayOfWeek, this.highlights);\n\t\t\tthis.emitDisplayRange(this.weeks);\n\t\t\tthis.setSlotsAndWeeks();\n\t\t}\n\t}\n\n\tpublic onSelectDay(day: Date): void {\n\t\tthis.selectedDay = day;\n\t\tif (day) {\n\t\t\tthis.selectDay.emit(day);\n\t\t}\n\t}\n\n\tpublic onSelectEvent(event: EventInterface): void {\n\t\tthis.selectEvent.emit(event);\n\t}\n\n\tpublic onChangeRowHeight(height: number): void {\n\t\tthis.availableSlots = Math.floor((height - this.heightOffset - 20) / this.eventHeight);\n\t\tthis.weekHeight = height;\n\t\tthis.setSlotsAndWeeks();\n\t}\n\n\tpublic onClickMore(day: Date) {\n\t\tthis.clickMore.emit(day);\n\t}\n\n\tpublic onSelectRange(range: DateRangeInterface) {\n\t\tthis.selectRange.emit(range);\n\t}\n\n\tpublic onDragRange(range) {\n\t\tthis.selectedRange = range;\n\t}\n\n\tprivate setSlotsAndWeeks() {\n\t\tif (this.availableSlots >= 0) {\n\t\t\tconst eventMap = this.monthViewSlotsService.generateEventMap(\n\t\t\t\tthis.events,\n\t\t\t\tthis.weeks,\n\t\t\t\tthis.availableSlots\n\t\t\t);\n\n\t\t\tthis.slots = eventMap.getSlots(this.eventHeight, this.weekHeight, this.heightOffset);\n\t\t\tthis.weeks = eventMap.getEventsMap(this.availableSlots);\n\t\t}\n\t}\n\n\tprivate calculateMonthWeeks(date: Date, startOfWeek: DAYS, highlights: HighLightInterface): WeekdayInterface[][] {\n\t\tconst days = this.dateHelperService.getDaysForMonth(date, startOfWeek, highlights);\n\t\treturn this.dateHelperService.getWeeksForMonth(days);\n\t}\n\n\tprivate emitDisplayRange(weeks: WeekdayInterface[][]) {\n\t\tif (weeks.length > 0 && weeks[0].length > 0) {\n\t\t\tconst from = weeks[0][0].date;\n\t\t\tconst to = weeks[weeks.length - 1][weeks[weeks.length - 1].length - 1].date;\n\n\t\t\tif (from && to) {\n\t\t\t\tthis.displayRange.emit({\n\t\t\t\t\tfrom,\n\t\t\t\t\tto,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n}\n","import {\n\tComponent,\n\tInput,\n\tOutput,\n\tEventEmitter,\n\tChangeDetectionStrategy,\n\tElementRef,\n\tOnInit,\n\tOnDestroy,\n\tTemplateRef,\n\tHostBinding,\n} from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport { Subject } from 'rxjs/Subject';\nimport { timer } from 'rxjs/observable/timer';\nimport { takeUntil, distinctUntilChanged } from 'rxjs/operators';\n\nimport { DateHelper } from '@acpaas-ui/js-date-utils';\n\nimport {\n\tEventInterface,\n\tWeekdayInterface,\n\tSlotInterface,\n\tDateRangeInterface,\n\tDayRangeInterface,\n} from '../../types/agenda.types';\n\n@Component({\n\tselector: 'aui-agenda-month-view-calendar',\n\ttemplate: `<div *ngFor=\"let week of weeks\" class=\"o-agenda__table-row\">\n\t<div\n\t\t*ngFor=\"let day of week\"\n\t\t(tap)=\"emitSelectDay(day.date)\"\n\t\t[ngClass]=\"{\n\t\t\t'is-current': isToday(day.date),\n\t\t\t'is-selected': isSelected(day.date, range),\n\t\t\t'is-faded': isCurrentMonth(day.date, weeks[1][0].date)\n\t\t}\"\n\t\t[class]=\"day.highlights\"\n\t\tclass=\"o-agenda__table-row-cell\"\n\t\t[attr.date]=\"day.date\"\n\t\t(press)=\"touchStart(day.date)\"\n\t\t>\n\n\t\t<div (dragstart)=\"dragStart(day.date)\" class=\"o-agenda_drag-select\" draggable=\"true\"></div>\n\n\t\t<span class=\"o-agenda__table-row-cell-header\">\n\t\t\t<span>{{ day.date | date:'d' }}</span>\n\t\t</span>\n\n\t\t<aui-agenda-more-button\n\t\t\t*ngIf=\"day.more\"\n\t\t\t[hiddenEvents]=\"day.more\"\n\t\t\t(clickMore)=\"onClickMore(day.date)\"\n\t\t></aui-agenda-more-button>\n\n\t\t<aui-month-view-dots\n\t\t\t*ngIf=\"day.dots\"\n\t\t\t[dots]=\"day.dots\"\n\t\t></aui-month-view-dots>\n\t</div>\n</div>\n\n<aui-agenda-month-view-event-slots\n\t[slots]=\"slots\"\n\t[eventItemTemplate]=\"eventItemTemplate\"\n\t(selectEvent)=\"onSelectEvent($event)\"\n></aui-agenda-month-view-event-slots>\n`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MonthViewCalendarComponent implements OnInit, OnDestroy {\n\t@HostBinding('class.o-agenda__table-grid') public cssClass = true;\n\n\t@Input() public weeks: WeekdayInterface[][];\n\t@Input() public slots: SlotInterface[];\n\t@Input() public eventItemTemplate: TemplateRef<any>;\n\t@Input() public selectedDay: string;\n\t@Input() public range = {\n\t\tfrom: null,\n\t\tto: null,\n\t};\n\n\t@Output() public rowHeight = new EventEmitter<number>();\n\t@Output() public selectDay = new EventEmitter<string>();\n\t@Output() public selectRange = new EventEmitter<DayRangeInterface>();\n\t@Output() public selectEvent = new EventEmitter<EventInterface>();\n\t@Output() public clickMore = new EventEmitter();\n\t@Output() public dragRange = new EventEmitter();\n\n\tpublic pressedDay: string; // format: YYYY-MM-DD\n\tpublic currentDay: string; // format: YYYY-MM-DD\n\n\tprivate componentDestroyed$: Subject<boolean> = new Subject<boolean>();\n\n\tconstructor(\n\t\tprivate elementRef: ElementRef\n\t) {}\n\n\tpublic ngOnInit() {\n\t\tthis.currentDay = DateHelper.formatDate(new Date(), 'YYYY-MM-DD');\n\n\t\tthis.watchRowHeigth()\n\t\t\t.pipe(\n\t\t\t\ttakeUntil(this.componentDestroyed$)\n\t\t\t)\n\t\t\t.subscribe((height: number) => {\n\t\t\t\tthis.rowHeight.emit(height);\n\t\t\t});\n\n\t\tthis.watchDragOver()\n\t\t\t.pipe(\n\t\t\t\ttakeUntil(this.componentDestroyed$)\n\t\t\t)\n\t\t\t.subscribe((range) => {\n\t\t\t\tthis.emitDragRange(range);\n\t\t\t});\n\n\t\tthis.watchDrop()\n\t\t\t.pipe(\n\t\t\t\ttakeUntil(this.componentDestroyed$)\n\t\t\t)\n\t\t\t.subscribe(() => {\n\t\t\t\tthis.emitSelectRange(this.range);\n\t\t\t});\n\t}\n\n\tpublic isToday(date: Date) {\n\t\tconst day = DateHelper.formatDate(date, 'YYYY-MM-DD');\n\n\t\treturn day === this.currentDay;\n\t}\n\n\tpublic isSelected(day: Date, range: DateRangeInterface): boolean {\n\t\tconst currentDay = DateHelper.formatDate(day, 'YYYY-MM-DD');\n\t\tconst from = range && range.from ? DateHelper.formatDate(new Date(range.from.toString()), 'YYYY-MM-DD') : null;\n\t\tconst to = range && range.to ? DateHelper.formatDate(new Date(range.to.toString()), 'YYYY-MM-DD') : null;\n\n\t\treturn currentDay === this.selectedDay\n\t\t\t|| ((from && new Date(from) <= new Date(currentDay)) && (to && new Date(to) >= new Date(currentDay)));\n\t}\n\n\tpublic resetRange() {\n\t\tthis.emitDragRange({\n\t\t\tfrom: null,\n\t\t\tto: null,\n\t\t});\n\t}\n\n\tpublic ngOnDestroy() {\n\t\tthis.componentDestroyed$.next(true);\n\t\tthis.componentDestroyed$.complete();\n\t}\n\n\tpublic isCurrentMonth(day: string, date: Date) {\n\t\tconst dayDate = new Date(day);\n\t\tconst current = new Date(date);\n\n\t\treturn dayDate.getMonth() !== current.getMonth();\n\t}\n\n\tpublic emitSelectDay(day: Date): void {\n\t\t// Never emit a specific day as a `Date`, always use a string in `YYYY-MM-DD` format.\n\t\tthis.selectDay.emit(DateHelper.formatDate(day, 'YYYY-MM-DD'));\n\t\tthis.resetRange();\n\t}\n\n\tpublic emitDragRange(range) {\n\t\tthis.dragRange.emit(range);\n\t}\n\n\tpublic onSelectEvent(event: EventInterface): void {\n\t\tthis.selectEvent.emit(event);\n\t\tthis.resetRange();\n\t}\n\n\tpublic onClickMore(day: Date) {\n\t\tthis.resetRange();\n\t\tthis.clickMore.emit(day);\n\t}\n\n\tpublic dragStart(date: Date) {\n\t\tthis.selectDay.emit(null);\n\t\tthis.pressedDay = DateHelper.formatDate(date, 'YYYY-MM-DD');\n\t}\n\n\tpublic touchStart(date: Date) {\n\t\tthis.selectDay.emit(null);\n\t\tthis.pressedDay = DateHelper.formatDate(date, 'YYYY-MM-DD');\n\t}\n\n\tprivate watchRowHeigth(): Observable<number> {\n\t\tconst weekHeight$ = new Subject<number>();\n\n\t\ttimer(0, 250)\n\t\t\t.pipe(\n\t\t\t\ttakeUntil(this.componentDestroyed$)\n\t\t\t)\n\t\t\t.subscribe(() => {\n\t\t\t\tconst row = this.elementRef.nativeElement.querySelector('.o-agenda__table-row');\n\n\t\t\t\tif (row) {\n\t\t\t\t\tweekHeight$.next(row.offsetHeight);\n\t\t\t\t}\n\t\t\t});\n\n\t\treturn weekHeight$\n\t\t\t.pipe(\n\t\t\t\tdistinctUntilChanged()\n\t\t\t);\n\t}\n\n\tprivate watchDragOver() {\n\t\tconst target$: Subject<DayRangeInterface> = new Subject();\n\n\t\tconst handleElement = (element: HTMLElement) => {\n\t\t\tif (element && element.parentElement && element.parentElement.getAttribute('date')) {\n\n\t\t\t\tconst pressedDay = new Date(this.pressedDay);\n\t\t\t\tconst dragOverDate = new Date(element.parentElement.getAttribute('date'));\n\n\t\t\t\tif (pressedDay < dragOverDate) {\n\t\t\t\t\ttarget$.next({\n\t\t\t\t\t\tfrom: this.pressedDay,\n\t\t\t\t\t\tto: DateHelper.formatDate(dragOverDate as Date, 'YYYY-MM-DD'),\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\ttarget$.next({\n\t\t\t\t\t\tfrom: DateHelper.formatDate(dragOverDate as Date, 'YYYY-MM-DD'),\n\t\t\t\t\t\tto: this.pressedDay,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tdocument.addEventListener('dragover', (event) => {\n\t\t\tevent.preventDefault();\n\t\t\tconst target: HTMLElement = event.target as HTMLElement;\n\t\t\thandleElement(target);\n\t\t}, false);\n\n\t\tdocument.addEventListener('touchmove', (event) => {\n\t\t\tif (this.pressedDay) {\n\t\t\t\tconst touch = event.touches[0];\n\t\t\t\tconst element: HTMLElement = document.elementFromPoint(touch.clientX, touch.clientY) as HTMLElement;\n\t\t\t\thandleElement(element);\n\t\t\t}\n\t\t}, false);\n\n\t\treturn target$\n\t\t\t.pipe(\n\t\t\t\tdistinctUntilChanged((x, y) => {\n\t\t\t\t\treturn x.from === y.from && x.to === y.to;\n\t\t\t\t})\n\t\t\t);\n\t}\n\n\tprivate watchDrop() {\n\t\tconst target$ = new Subject();\n\n\t\tdocument.addEventListener('drop', (event) => {\n\t\t\t// prevent default action (open as link for some elements)\n\t\t\tevent.preventDefault();\n\n\t\t\ttarget$.next();\n\t\t}, false);\n\n\t\tdocument.addEventListener('touchend', () => {\n\t\t\t// prevent default action (open as link for some elements)\n\t\t\tif (this.pressedDay) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tthis.pressedDay = null;\n\t\t\t\ttarget$.next();\n\t\t\t}\n\t\t});\n\n\t\treturn target$;\n\t}\n\n\tprivate emitSelectRange(range: DateRangeInterface) {\n\t\t// Never emit a specific day as a `Date`, always use a string in `YYYY-MM-DD` format.\n\t\tthis.selectRange.emit({\n\t\t\tfrom: DateHelper.formatDate(range.from as Date, 'YYYY-MM-DD'),\n\t\t\tto: DateHelper.formatDate(range.to as Date, 'YYYY-MM-DD'),\n\t\t});\n\t}\n}\n","import { Component, Input } from '@angular/core';\n\n@Component({\n\tselector: 'aui-month-view-dots',\n\ttemplate: `<div class=\"o-agenda__dots\">\n\t<div *ngFor=\"let dot of dots\" [ngStyle]=\"{ 'background-color': dot }\" class=\"o-agenda__dot\"></div>\n</div>\n`,\n})\nexport class MonthViewDotsComponent {\n\t@Input() public dots: string[];\n}\n","import { Component, Input, TemplateRef } from '@angular/core';\n\nimport { EventInterface, SlotMetaInterface, SlotDisplayInterface } from '../../types/agenda.types';\n\n@Component({\n\tselector: 'aui-agenda-month-view-event-slot',\n\ttemplate: `<ng-template #defaultTemplate let-event=\"event\">\n\t<div class=\"a-event\" [ngStyle]=\"{ 'background-color': event.fullDay ? event.color : null }\" [ngClass]=\"{ 'a-event--light': event.fullDay }\">\n\t\t<div *ngIf=\"!event.fullDay\" class=\"a-event__bar\" [ngStyle]=\"{ 'background-color': event.color }\"></div>\n\n\t\t<div class=\"a-event__content\">\n\t\t\t<div *ngIf=\"event.iconBefore || event.title\" class=\"a-event__main\">\n\t\t\t\t<span *ngIf=\"event.iconBefore\" class=\"{{ event.iconBefore }} a-event__icon\"></span><span *ngIf=\"event.title\" class=\"a-event__title\">{{ event.title }}</span>\n\t\t\t</div>\n\n\t\t\t<div *ngIf=\"event.iconAfter || !event.fullDay\" class=\"a-event__extra\">\n\t\t\t\t<span *ngIf=\"!event.fullDay\" class=\"a-event__meta\">{{ event.startDate | date:'HH:mm' }}</span><span *ngIf=\"event.iconAfter\" class=\"{{ event.iconAfter }} a-event__icon\"></span>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</ng-template>\n\n<div class=\"o-agenda__table-event\" [ngStyle]=\"{\n\tleft: display.left,\n\ttop: display.top,\n\twidth: display.width\n}\">\n\t<ng-container *ngTemplateOutlet=\"template ? template : defaultTemplate; context: { event: event }\"></ng-container>\n</div>\n`,\n})\nexport class MonthViewEventSlotComponent {\n\t@Input() public event: EventInterface;\n\t@Input() public meta: SlotMetaInterface;\n\t@Input() public display: SlotDisplayInterface;\n\t@Input() public template: TemplateRef<any>;\n}\n","import { Component, Input, TemplateRef, Output, EventEmitter } from '@angular/core';\n\nimport { EventInterface, SlotInterface } from '../../types/agenda.types';\n\n@Component({\n\tselector: 'aui-agenda-month-view-event-slots',\n\ttemplate: `<div class=\"aui-agenda-month-view-event-slots\">\n\t<aui-agenda-month-view-event-slot\n\t\t*ngFor=\"let slot of slots\"\n\t\t[event]=\"slot.event\"\n\t\t[meta]=\"slot.meta\"\n\t\t[display]=\"slot.display\"\n\t\t[template]=\"eventItemTemplate\"\n\t\t(click)=\"emitSelectEvent(slot.event)\"\n\t></aui-agenda-month-view-event-slot>\n</div>\n\n`,\n})\nexport class MonthViewEventSlotsComponent {\n\t@Input() public slots: SlotInterface[] = [];\n\t@Input() public eventItemTemplate: TemplateRef<any>;\n\t@Output() public selectEvent = new EventEmitter<EventInterface>();\n\n\tpublic emitSelectEvent(event: EventInterface): void {\n\t\tthis.selectEvent.emit(event);\n\t}\n}\n","import { Component, Input, Inject, Output, EventEmitter } from '@angular/core';\n\nimport { MORE_LABEL } from '../../agenda.conf';\n\n@Component({\n\tselector: 'aui-agenda-more-button',\n\ttemplate: `<div class=\"o-agenda__more\">\n\t<button (click)=\"emitClickMore($event)\" *ngIf=\"hiddenEvents > 0\" class=\"o-agenda__more-button\">\n\t\t{{ hiddenEvents }} {{ label }}\n\t</button>\n</div>\n`,\n})\nexport class MoreButtonComponent {\n\t@Input() public hiddenEvents: number;\n\t@Output() public clickMore = new EventEmitter();\n\n\tconstructor(\n\t\t@Inject(MORE_LABEL) public label\n\t) {}\n\n\tpublic emitClickMore(event: MouseEvent) {\n\t\tevent.stopPropagation();\n\t\tthis.clickMore.emit();\n\t}\n}\n","import {\n\tComponent,\n\tChangeDetectionStrategy,\n\tInput,\n\tOutput,\n\tEventEmitter,\n\tHostBinding,\n\tOnInit,\n\tOnDestroy,\n} from '@angular/core';\nimport { Subject } from 'rxjs/Subject';\nimport { takeUntil, debounceTime, distinctUntilChanged } from 'rxjs/operators';\n\nimport { VIEWS } from '../../types/agenda.types';\n\n@Component({\n\tselector: 'aui-agenda-navigation',\n\ttemplate: `<h4>\n\t<ng-container *ngIf=\"view === views.DAY\">{{ activeDate | date:'dd/MM/y' }}</ng-container>\n\t<ng-container *ngIf=\"view === views.MONTH\">{{ activeDate | date:'M' | monthPipe }} {{ activeDate | date:'y' }}</ng-container>\n\t<ng-container *ngIf=\"view === views.YEAR\">{{ activeDate | date:'y' }}</ng-container>\n</h4>\n\n<div class=\"o-agenda__nav\">\n\t<button tabindex=\"-1\" type=\"button\" aria-label=\"previous month\" class=\"o-agenda__nav-previous a-button has-icon\" (click)=\"prev()\">\n\t\t<i class=\"fa fa-angle-left\"></i>\n\t</button>\n\n\t<button tabindex=\"0\" type=\"button\" aria-label=\"today\" class=\"a-button\" (click)=\"goToToday()\">\n\t\tVandaag\n\t</button>\n\n\t<button tabindex=\"0\" type=\"button\" aria-label=\"next month\" class=\"o-agenda__nav-next a-button has-icon\" (click)=\"next()\">\n\t\t<i class=\"fa fa-angle-right\"></i>\n\t</button>\n</div>\n`,\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class NavigationComponent implements OnInit, OnDestroy {\n\t@HostBinding('class.o-agenda__header') public cssClass = true;\n\t@Input() public activeDate: string;\n\t@Input() public view: VIEWS;\n\t@Input() public today: Date;\n\t@Output() public navigate = new EventEmitter<Date>();\n\tpublic views = VIEWS;\n\tpublic navigate$: Subject<Date> = new Subject();\n\tprivate componentDestroyed$: Subject<boolean> = new Subject<boolean>();\n\n\tpublic ngOnInit() {\n\t\tthis.navigate$\n\t\t\t.pipe(\n\t\t\t\ttakeUntil(this.componentDestroyed$),\n\t\t\t\tdistinctUntilChanged(),\n\t\t\t\tdebounceTime(200)\n\t\t\t)\n\t\t\t.subscribe((value: Date) => {\n\t\t\t\tthis.navigate.emit(value);\n\t\t\t});\n\t}\n\n\tpublic ngOnDestroy() {\n\t\tthis.componentDestroyed$.next(true);\n\t\tthis.componentDestroyed$.complete();\n\t}\n\n\tpublic prev(): void {\n\t\tconst date = new Date(this.activeDate);\n\t\tthis.changeDate(date, -1);\n\t}\n\n\tpublic next(): void {\n\t\tconst date = new Date(this.activeDate);\n\t\tthis.changeDate(date, 1);\n\t}\n\n\tpublic goToToday(): void {\n\t\tthis.navigate$.next(this.today);\n\t}\n\n\tpublic changeDate(date: Date, orient: number): void {\n\t\tif (this.view === VIEWS.DAY) {\n\t\t\treturn this.navigate$.next(this.changeDay(date, orient));\n\t\t}\n\n\t\tif (this.view === VIEWS.MONTH) {\n\t\t\treturn this.navigate$.next(this.changeMonth(date, orient));\n\t\t}\n\n\t\tif (this.view === VIEWS.YEAR) {\n\t\t\treturn this.navigate$.next(this.changeYear(date, orient));\n\t\t}\n\t}\n\n\tpublic changeDay(date: Date, orient: number): Date {\n\t\treturn new Date(date.getFullYear(), date.getMonth(), date.getDate() + orient);\n\t}\n\n\tpublic changeMonth(date: Date, orient: number): Date {\n\t\treturn new Date(date.getFullYear(), date.getMonth() + orient, 1);\n\t}\n\n\tpublic changeYear(date: Date, orient: number): Date {\n\t\treturn new Date(date.getFullYear() + orient, 0, 1);\n\t}\n}\n","import { AgendaComponent } from './agenda/agenda.component';\nimport { MonthViewComponent } from './month-view/month-view.component';\nimport { MonthViewCalendarComponent } from './month-view-calendar/month-view-calendar.component';\nimport { MonthViewDotsComponent } from './month-view-dots/month-view-dots.component';\nimport { MonthViewEventSlotComponent } from './month-view-event-slot/month-view-event-slot.component';\nimport { MonthViewEventSlotsComponent } from './month-view-event-slots/month-view-event-slots.component';\nimport { MoreButtonComponent } from './more-button/more-button.component';\nimport { NavigationComponent } from './navigation/navigation.component';\n\nexport const Components = [\n\tAgendaComponent,\n\tMonthViewComponent,\n\tMonthViewCalendarComponent,\n\tMonthViewDotsComponent,\n\tMonthViewEventSlotComponent,\n\tMonthViewEventSlotsComponent,\n\tMoreButtonComponent,\n\tNavigationComponent,\n];\n","import { DateHelperService } from './date-helper.service';\nimport { MonthViewSlotsService } from './month-view-slots.service';\nimport { SortingService } from './sorting.service';\n\nexport const Services = [\n\tDateHelperService,\n\tMonthViewSlotsService,\n\tSortingService,\n];\n","import * as Hammer from 'hammerjs';\nimport { HammerGestureConfig } from '@angular/platform-browser';\n\nexport class HammerConfig extends HammerGestureConfig  {\n\toverrides = <any>{\n\t\t'swipe': { direction: Hammer.DIRECTION_ALL  },\n\t};\n}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { HAMMER_GESTURE_CONFIG } from '@angular/platform-browser';\n\nimport { Pipes } from './pipes/index';\nimport { Components } from './components/index';\nimport { Services } from './services/index';\n\nimport {\n\tWEEKDAY_LABELS,\n\tDEFAULT_WEEKDAY_LABELS,\n\tMONTH_LABELS,\n\tDEFAULT_MONTH_LABELS,\n\tMORE_LABEL,\n\tDEFAULT_MORE_LABEL,\n} from './agenda.conf';\nimport { HammerConfig } from './hammer.conf';\n\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t],\n\tdeclarations: [\n\t\tPipes,\n\t\tComponents,\n\t],\n\texports: [\n\t\tPipes,\n\t\tComponents,\n\t],\n\tproviders: [\n\t\tServices,\n\t\t{ provide: WEEKDAY_LABELS, useValue: DEFAULT_WEEKDAY_LABELS },\n\t\t{ provide: MONTH_LABELS, useValue: DEFAULT_MONTH_LABELS },\n\t\t{ provide: MORE_LABEL, useValue: DEFAULT_MORE_LABEL },\n\t\t{ provide: HAMMER_GESTURE_CONFIG, useClass: HammerConfig },\n\t],\n})\nexport class AgendaModule {\n\tstatic forChild(\n\t\tweekdayLabels: string[],\n\t\tmonthLabels: string[],\n\t\tmoreLabel: string\n\t): ModuleWithProviders {\n\t\treturn {\n\t\t\tngModule: AgendaModule,\n\t\t\tproviders: [\n\t\t\t\tServices,\n\t\t\t\t{ provide: WEEKDAY_LABELS, useValue: weekdayLabels },\n\t\t\t\t{ provide: MONTH_LABELS, useValue: monthLabels },\n\t\t\t\t{ provide: MORE_LABEL, useValue: moreLabel },\n\t\t\t\t{ provide: HAMMER_GESTURE_CONFIG, useClass: HammerConfig },\n\t\t\t],\n\t\t};\n\t}\n}\n"]}