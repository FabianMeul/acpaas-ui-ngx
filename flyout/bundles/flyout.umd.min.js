!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs/Subject"),require("rxjs"),require("rxjs/operators"),require("@angular/common")):"function"==typeof define&&define.amd?define("flyout",["exports","@angular/core","rxjs/Subject","rxjs","rxjs/operators","@angular/common"],e):e(t.flyout={},t.ng.core,t.rxjs.Subject,t.rxjs,t.rxjs.operators,t.ng.common)}(this,function(t,n,e,i,s,o){"use strict";var r=function(){function t(t){this.elementRef=t,this["class"]=!0,this.element=this.elementRef.nativeElement}return t.prototype.contains=function(t){return!1!==this.auiFlyoutZone&&this.element.contains(t)},t.decorators=[{type:n.Directive,args:[{selector:"[auiFlyoutZone]",exportAs:"auiFlyoutZone"}]}],t.ctorParameters=function(){return[{type:n.ElementRef}]},t.propDecorators={"class":[{type:n.HostBinding,args:["class.m-flyout__content"]}],auiFlyoutZone:[{type:n.Input}]},t}(),l=function(){function t(){this.subject=new e.Subject}return t.prototype.close=function(){this.subject.next({close:!0})},t.decorators=[{type:n.Injectable}],t}(),u={Auto:"auto",Small:"small",Medium:"medium",Large:"large",Full:"full"},c=function(){function t(t,e){var o=this;this.elementRef=t,this.flyoutService=e,this.flyoutClass=!0,this["class"]="",this.size=u.Auto,this.toggleClick=!0,this.activateOnFocus=!1,this.opened=new n.EventEmitter,this.closed=new n.EventEmitter,this.flyoutOpened=!1,this.destroyed$=new i.Subject,this.element=this.elementRef.nativeElement,this.flyoutService.subject.pipe(s.takeUntil(this.destroyed$)).subscribe(function(t){o.close()})}return Object.defineProperty(t.prototype,"flyoutAlignRight",{get:function(){return"right"===this.align},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"flyoutSmall",{get:function(){return"small"===this.size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"flyoutMedium",{get:function(){return"medium"===this.size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"flyoutLarge",{get:function(){return"large"===this.size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"flyoutFull",{get:function(){return"full"===this.size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"flyoutOpen",{get:function(){return this.flyoutOpened},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this.destroyed$.next(!0)},t.prototype.open=function(){this.flyoutOpened||(this.flyoutOpened=!0,this.opened.emit(undefined))},t.prototype.close=function(){this.flyoutOpened&&(this.flyoutOpened=!1,this.closed.emit(undefined))},t.prototype.isInClosableZone=function(t){return!!this.flyoutZone&&this.flyoutZone.contains(t)},t.prototype.isOpened=function(){return this.flyoutOpened},t.decorators=[{type:n.Directive,args:[{selector:"[auiFlyout]",exportAs:"auiFlyout"}]}],t.ctorParameters=function(){return[{type:n.ElementRef},{type:l}]},t.propDecorators={flyoutClass:[{type:n.HostBinding,args:["class.m-flyout"]}],flyoutAlignRight:[{type:n.HostBinding,args:["class.m-flyout--right"]}],flyoutSmall:[{type:n.HostBinding,args:["class.m-flyout--sm"]}],flyoutMedium:[{type:n.HostBinding,args:["class.m-flyout--md"]}],flyoutLarge:[{type:n.HostBinding,args:["class.m-flyout--lg"]}],flyoutFull:[{type:n.HostBinding,args:["class.m-flyout--full"]}],flyoutOpen:[{type:n.HostBinding,args:["class.is-open"]}],"class":[{type:n.Input}],size:[{type:n.Input}],align:[{type:n.Input}],toggleClick:[{type:n.Input}],activateOnFocus:[{type:n.Input}],opened:[{type:n.Output}],closed:[{type:n.Output}],flyoutZone:[{type:n.ContentChild,args:[r]}]},t}(),a=function(){function t(t,e,o){var n=this;this.flyout=t,this.platformId=e,this.elementRef=o,this["class"]=!0,this.openedByFocus=!1,this.closeDropdownOnOutsideClick=function(t){n.closeIfInClosableZone(t)}}return t.prototype.ngOnDestroy=function(){this.isPlatformBrowser()&&document.removeEventListener("click",this.closeDropdownOnOutsideClick,!0)},t.prototype.onClick=function(){this.flyout.activateOnFocus&&this.openedByFocus?this.openedByFocus=!1:this.flyout.isOpened()&&this.flyout.toggleClick?this.close():this.open()},t.prototype.onFocus=function(){this.isPlatformBrowser()&&(this.flyout.isOpened()||(this.openedByFocus=!0,this.flyout.open(),document.addEventListener("click",this.closeDropdownOnOutsideClick.bind(this),!0)))},t.prototype.onBlur=function(t){this.isPlatformBrowser()&&t.relatedTarget&&!this.flyout.isInClosableZone(t.relatedTarget)&&t.relatedTarget!==this.elementRef.nativeElement&&(this.flyout.close(),document.removeEventListener("click",this.closeDropdownOnOutsideClick,!0))},t.prototype.toggle=function(){this.flyout.isOpened()?this.close():this.open()},t.prototype.open=function(){this.isPlatformBrowser()&&(this.flyout.isOpened()||(this.flyout.open(),document.addEventListener("click",this.closeDropdownOnOutsideClick,!0)))},t.prototype.close=function(){this.isPlatformBrowser()&&this.flyout.isOpened()&&(this.flyout.close(),document.removeEventListener("click",this.closeDropdownOnOutsideClick,!0))},t.prototype.checkIfInClosableZone=function(t){return!this.flyout.isInClosableZone(t.target)&&t.target!==this.elementRef.nativeElement&&!this.elementRef.nativeElement.contains(t.target)},t.prototype.closeIfInClosableZone=function(t){this.isPlatformBrowser()&&this.checkIfInClosableZone(t)&&(this.flyout.close(),document.removeEventListener("click",this.closeDropdownOnOutsideClick,!0))},t.prototype.isPlatformBrowser=function(){return o.isPlatformBrowser(this.platformId)},t.decorators=[{type:n.Directive,args:[{selector:"[auiFlyoutAction]",exportAs:"auiFlyoutAction"}]}],t.ctorParameters=function(){return[{type:c,decorators:[{type:n.Host}]},{type:Object,decorators:[{type:n.Inject,args:[n.PLATFORM_ID]}]},{type:n.ElementRef}]},t.propDecorators={"class":[{type:n.HostBinding,args:["class.aui-flyout-action"]}],onClick:[{type:n.HostListener,args:["click"]}],onFocus:[{type:n.HostListener,args:["focus"]}],onBlur:[{type:n.HostListener,args:["blur",["$event"]]}]},t}(),p=function(){function t(t){this.flyoutService=t}return t.prototype.onClick=function(){this.flyoutService.close()},t.decorators=[{type:n.Directive,args:[{selector:"[auiFlyoutClose]",exportAs:"auiFlyoutClose"}]}],t.ctorParameters=function(){return[{type:l}]},t.propDecorators={onClick:[{type:n.HostListener,args:["click"]}]},t}(),y=[a,p,r,c],f=[l],d=function(){function t(){}return t.decorators=[{type:n.NgModule,args:[{imports:[o.CommonModule],declarations:[y],exports:[y],providers:[f]}]}],t}(),h={Auto:"auto",Tiny:"tiny",Small:"small",Large:"large"},g=function(){function t(){this.buttonClassNames={tiny:"a-button--tiny",small:"a-button--small",auto:"",large:"a-button--large"},this.buttonSize=h.Auto,this.outline=!1,this.flyoutOpen=!1}return t.prototype.handleFlyoutChanged=function(t){this.flyoutOpen=t},t.decorators=[{type:n.Component,args:[{selector:"aui-flyout-button",template:'<div auiFlyout [align]="align" [size]="flyoutSize" (opened)="handleFlyoutChanged(true)" (closed)="handleFlyoutChanged(false)">\n    <button auiFlyoutAction title="{{ title }}" [ngClass]="[buttonClassNames[buttonSize], (icon && label) ? \'has-icon-left\' : \'\', (icon && !label) ? \'has-icon\' : \'\', outline ? \'a-button-outline\' : \'a-button\']">\n        <span class="{{ icon }}"></span>\n        {{ label }}\n    </button>\n    <div auiFlyoutZone>\n        <ng-container *ngIf="flyoutOpen">\n            <ng-content></ng-content>\n        </ng-container>\n    </div>\n</div>\n'}]}],t.propDecorators={title:[{type:n.Input}],label:[{type:n.Input}],icon:[{type:n.Input}],align:[{type:n.Input}],buttonSize:[{type:n.Input}],flyoutSize:[{type:n.Input}],outline:[{type:n.Input}]},t}(),m=[g],b=function(){function t(){}return t.decorators=[{type:n.NgModule,args:[{imports:[o.CommonModule,d],declarations:[m],exports:[m]}]}],t}();t.FlyoutModule=d,t.FlyoutActionDirective=a,t.FlyoutCloseDirective=p,t.FlyoutZoneDirective=r,t.FlyoutDirective=c,t.FlyoutService=l,t.FlyoutSize=u,t.FlyoutButtonModule=b,t.FlyoutButtonComponent=g,t.FlyoutButtonSize=h,t.ɵc=m,t.ɵa=y,t.ɵb=f,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=flyout.umd.min.js.map